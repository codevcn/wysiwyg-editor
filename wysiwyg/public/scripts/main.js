/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ht=globalThis,Ue=ht.trustedTypes,Gt=Ue?Ue.createPolicy("lit-html",{createHTML:o=>o}):void 0,ln="$lit$",j=`lit$${Math.random().toFixed(9).slice(2)}$`,cn="?"+j,Fn=`<${cn}>`,Q=document,be=()=>Q.createComment(""),Ce=o=>o===null||typeof o!="object"&&typeof o!="function",pt=Array.isArray,Bn=o=>pt(o)||typeof o?.[Symbol.iterator]=="function",it=`[ 	
\f\r]`,ge=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Wt=/-->/g,Yt=/>/g,V=RegExp(`>|${it}(?:([^\\s"'>=/]+)(${it}*=${it}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),jt=/'/g,Xt=/"/g,un=/^(?:script|style|textarea|title)$/i,zn=o=>(e,...t)=>({_$litType$:o,strings:e,values:t}),Y=zn(1),J=Symbol.for("lit-noChange"),y=Symbol.for("lit-nothing"),qt=new WeakMap,Z=Q.createTreeWalker(Q,129);function mn(o,e){if(!pt(o)||!o.hasOwnProperty("raw"))throw Error("invalid template strings array");return Gt!==void 0?Gt.createHTML(e):e}const Gn=(o,e)=>{const t=o.length-1,n=[];let s,r=e===2?"<svg>":e===3?"<math>":"",l=ge;for(let f=0;f<t;f++){const c=o[f];let p,A,d=-1,g=0;for(;g<c.length&&(l.lastIndex=g,A=l.exec(c),A!==null);)g=l.lastIndex,l===ge?A[1]==="!--"?l=Wt:A[1]!==void 0?l=Yt:A[2]!==void 0?(un.test(A[2])&&(s=RegExp("</"+A[2],"g")),l=V):A[3]!==void 0&&(l=V):l===V?A[0]===">"?(l=s??ge,d=-1):A[1]===void 0?d=-2:(d=l.lastIndex-A[2].length,p=A[1],l=A[3]===void 0?V:A[3]==='"'?Xt:jt):l===Xt||l===jt?l=V:l===Wt||l===Yt?l=ge:(l=V,s=void 0);const E=l===V&&o[f+1].startsWith("/>")?" ":"";r+=l===ge?c+Fn:d>=0?(n.push(p),c.slice(0,d)+ln+c.slice(d)+j+E):c+j+(d===-2?f:E)}return[mn(o,r+(o[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};class Le{constructor({strings:e,_$litType$:t},n){let s;this.parts=[];let r=0,l=0;const f=e.length-1,c=this.parts,[p,A]=Gn(e,t);if(this.el=Le.createElement(p,n),Z.currentNode=this.el.content,t===2||t===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Z.nextNode())!==null&&c.length<f;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(ln)){const g=A[l++],E=s.getAttribute(d).split(j),_=/([.?@])?(.*)/.exec(g);c.push({type:1,index:r,name:_[2],strings:E,ctor:_[1]==="."?Yn:_[1]==="?"?jn:_[1]==="@"?Xn:Be}),s.removeAttribute(d)}else d.startsWith(j)&&(c.push({type:6,index:r}),s.removeAttribute(d));if(un.test(s.tagName)){const d=s.textContent.split(j),g=d.length-1;if(g>0){s.textContent=Ue?Ue.emptyScript:"";for(let E=0;E<g;E++)s.append(d[E],be()),Z.nextNode(),c.push({type:2,index:++r});s.append(d[g],be())}}}else if(s.nodeType===8)if(s.data===cn)c.push({type:2,index:r});else{let d=-1;for(;(d=s.data.indexOf(j,d+1))!==-1;)c.push({type:7,index:r}),d+=j.length-1}r++}}static createElement(e,t){const n=Q.createElement("template");return n.innerHTML=e,n}}function ae(o,e,t=o,n){if(e===J)return e;let s=n!==void 0?t._$Co?.[n]:t._$Cl;const r=Ce(e)?void 0:e._$litDirective$;return s?.constructor!==r&&(s?._$AO?.(!1),r===void 0?s=void 0:(s=new r(o),s._$AT(o,t,n)),n!==void 0?(t._$Co??=[])[n]=s:t._$Cl=s),s!==void 0&&(e=ae(o,s._$AS(o,e.values),s,n)),e}let Wn=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:n}=this._$AD,s=(e?.creationScope??Q).importNode(t,!0);Z.currentNode=s;let r=Z.nextNode(),l=0,f=0,c=n[0];for(;c!==void 0;){if(l===c.index){let p;c.type===2?p=new le(r,r.nextSibling,this,e):c.type===1?p=new c.ctor(r,c.name,c.strings,this,e):c.type===6&&(p=new qn(r,this,e)),this._$AV.push(p),c=n[++f]}l!==c?.index&&(r=Z.nextNode(),l++)}return Z.currentNode=Q,s}p(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}};class le{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,n,s){this.type=2,this._$AH=y,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ae(this,e,t),Ce(e)?e===y||e==null||e===""?(this._$AH!==y&&this._$AR(),this._$AH=y):e!==this._$AH&&e!==J&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Bn(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==y&&Ce(this._$AH)?this._$AA.nextSibling.data=e:this.T(Q.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Le.createElement(mn(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===s)this._$AH.p(t);else{const r=new Wn(s,this),l=r.u(this.options);r.p(t),this.T(l),this._$AH=r}}_$AC(e){let t=qt.get(e.strings);return t===void 0&&qt.set(e.strings,t=new Le(e)),t}k(e){pt(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,s=0;for(const r of e)s===t.length?t.push(n=new le(this.O(be()),this.O(be()),this,this.options)):n=t[s],n._$AI(r),s++;s<t.length&&(this._$AR(n&&n._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class Be{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,n,s,r){this.type=1,this._$AH=y,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=y}_$AI(e,t=this,n,s){const r=this.strings;let l=!1;if(r===void 0)e=ae(this,e,t,0),l=!Ce(e)||e!==this._$AH&&e!==J,l&&(this._$AH=e);else{const f=e;let c,p;for(e=r[0],c=0;c<r.length-1;c++)p=ae(this,f[n+c],t,c),p===J&&(p=this._$AH[c]),l||=!Ce(p)||p!==this._$AH[c],p===y?e=y:e!==y&&(e+=(p??"")+r[c+1]),this._$AH[c]=p}l&&!s&&this.j(e)}j(e){e===y?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Yn extends Be{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===y?void 0:e}}class jn extends Be{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==y)}}class Xn extends Be{constructor(e,t,n,s,r){super(e,t,n,s,r),this.type=5}_$AI(e,t=this){if((e=ae(this,e,t,0)??y)===J)return;const n=this._$AH,s=e===y&&n!==y||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,r=e!==y&&(n===y||s);s&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class qn{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){ae(this,e)}}const Vn={I:le},Kn=ht.litHtmlPolyfillSupport;Kn?.(Le,le),(ht.litHtmlVersions??=[]).push("3.3.1");const Zn=(o,e,t)=>{const n=e;let s=n._$litPart$;return s===void 0&&(n._$litPart$=s=new le(e.insertBefore(be(),null),null,void 0,{})),s._$AI(o),s};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:dn,setPrototypeOf:Vt,isFrozen:Qn,getPrototypeOf:Jn,getOwnPropertyDescriptor:ei}=Object;let{freeze:O,seal:H,create:fn}=Object,{apply:ut,construct:mt}=typeof Reflect<"u"&&Reflect;O||(O=function(e){return e});H||(H=function(e){return e});ut||(ut=function(e,t,n){return e.apply(t,n)});mt||(mt=function(e,t){return new e(...t)});const ke=x(Array.prototype.forEach),ti=x(Array.prototype.lastIndexOf),Kt=x(Array.prototype.pop),Ee=x(Array.prototype.push),ni=x(Array.prototype.splice),Pe=x(String.prototype.toLowerCase),ot=x(String.prototype.toString),Zt=x(String.prototype.match),Ae=x(String.prototype.replace),ii=x(String.prototype.indexOf),oi=x(String.prototype.trim),U=x(Object.prototype.hasOwnProperty),M=x(RegExp.prototype.test),_e=si(TypeError);function x(o){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return ut(o,e,n)}}function si(o){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mt(o,t)}}function h(o,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pe;Vt&&Vt(o,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const r=t(s);r!==s&&(Qn(e)||(e[n]=r),s=r)}o[s]=!0}return o}function ri(o){for(let e=0;e<o.length;e++)U(o,e)||(o[e]=null);return o}function W(o){const e=fn(null);for(const[t,n]of dn(o))U(o,t)&&(Array.isArray(n)?e[t]=ri(n):n&&typeof n=="object"&&n.constructor===Object?e[t]=W(n):e[t]=n);return e}function Te(o,e){for(;o!==null;){const n=ei(o,e);if(n){if(n.get)return x(n.get);if(typeof n.value=="function")return x(n.value)}o=Jn(o)}function t(){return null}return t}const Qt=O(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),st=O(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),rt=O(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ai=O(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),at=O(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),li=O(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jt=O(["#text"]),en=O(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),lt=O(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tn=O(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),He=O(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ci=H(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ui=H(/<%[\w\W]*|[\w\W]*%>/gm),mi=H(/\$\{[\w\W]*/gm),di=H(/^data-[\-\w.\u00B7-\uFFFF]+$/),fi=H(/^aria-[\-\w]+$/),hn=H(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hi=H(/^(?:\w+script|data):/i),pi=H(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),pn=H(/^html$/i),gi=H(/^[a-z][.\w]*(-[.\w]+)+$/i);var nn=Object.freeze({__proto__:null,ARIA_ATTR:fi,ATTR_WHITESPACE:pi,CUSTOM_ELEMENT:gi,DATA_ATTR:di,DOCTYPE_NAME:pn,ERB_EXPR:ui,IS_ALLOWED_URI:hn,IS_SCRIPT_OR_DATA:hi,MUSTACHE_EXPR:ci,TMPLIT_EXPR:mi});const Ne={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ei=function(){return typeof window>"u"?null:window},Ai=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(n=t.getAttribute(s));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},on=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function gn(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ei();const e=m=>gn(m);if(e.version="3.2.6",e.removed=[],!o||!o.document||o.document.nodeType!==Ne.document||!o.Element)return e.isSupported=!1,e;let{document:t}=o;const n=t,s=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:l,Node:f,Element:c,NodeFilter:p,NamedNodeMap:A=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:d,DOMParser:g,trustedTypes:E}=o,_=c.prototype,P=Te(_,"cloneNode"),ue=Te(_,"remove"),ve=Te(_,"nextSibling"),Sn=Te(_,"childNodes"),Re=Te(_,"parentNode");if(typeof l=="function"){const m=t.createElement("template");m.content&&m.content.ownerDocument&&(t=m.content.ownerDocument)}let I,me="";const{implementation:ze,createNodeIterator:bn,createDocumentFragment:Cn,getElementsByTagName:Ln}=t,{importNode:vn}=n;let w=on();e.isSupported=typeof dn=="function"&&typeof Re=="function"&&ze&&ze.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ge,ERB_EXPR:We,TMPLIT_EXPR:Ye,DATA_ATTR:Rn,ARIA_ATTR:In,IS_SCRIPT_OR_DATA:wn,ATTR_WHITESPACE:At,CUSTOM_ELEMENT:Mn}=nn;let{IS_ALLOWED_URI:_t}=nn,b=null;const Tt=h({},[...Qt,...st,...rt,...at,...Jt]);let L=null;const Nt=h({},[...en,...lt,...tn,...He]);let N=Object.seal(fn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,je=null,yt=!0,Xe=!0,St=!1,bt=!0,ee=!1,Ie=!0,q=!1,qe=!1,Ve=!1,te=!1,we=!1,Me=!1,Ct=!0,Lt=!1;const On="user-content-";let Ke=!0,fe=!1,ne={},ie=null;const vt=h({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Rt=null;const It=h({},["audio","video","img","source","image","track"]);let Ze=null;const wt=h({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oe="http://www.w3.org/1998/Math/MathML",xe="http://www.w3.org/2000/svg",B="http://www.w3.org/1999/xhtml";let oe=B,Qe=!1,Je=null;const xn=h({},[Oe,xe,B],ot);let De=h({},["mi","mo","mn","ms","mtext"]),$e=h({},["annotation-xml"]);const Dn=h({},["title","style","font","a","script"]);let he=null;const $n=["application/xhtml+xml","text/html"],kn="text/html";let C=null,se=null;const Hn=t.createElement("form"),Mt=function(i){return i instanceof RegExp||i instanceof Function},et=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(se&&se===i)){if((!i||typeof i!="object")&&(i={}),i=W(i),he=$n.indexOf(i.PARSER_MEDIA_TYPE)===-1?kn:i.PARSER_MEDIA_TYPE,C=he==="application/xhtml+xml"?ot:Pe,b=U(i,"ALLOWED_TAGS")?h({},i.ALLOWED_TAGS,C):Tt,L=U(i,"ALLOWED_ATTR")?h({},i.ALLOWED_ATTR,C):Nt,Je=U(i,"ALLOWED_NAMESPACES")?h({},i.ALLOWED_NAMESPACES,ot):xn,Ze=U(i,"ADD_URI_SAFE_ATTR")?h(W(wt),i.ADD_URI_SAFE_ATTR,C):wt,Rt=U(i,"ADD_DATA_URI_TAGS")?h(W(It),i.ADD_DATA_URI_TAGS,C):It,ie=U(i,"FORBID_CONTENTS")?h({},i.FORBID_CONTENTS,C):vt,de=U(i,"FORBID_TAGS")?h({},i.FORBID_TAGS,C):W({}),je=U(i,"FORBID_ATTR")?h({},i.FORBID_ATTR,C):W({}),ne=U(i,"USE_PROFILES")?i.USE_PROFILES:!1,yt=i.ALLOW_ARIA_ATTR!==!1,Xe=i.ALLOW_DATA_ATTR!==!1,St=i.ALLOW_UNKNOWN_PROTOCOLS||!1,bt=i.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=i.SAFE_FOR_TEMPLATES||!1,Ie=i.SAFE_FOR_XML!==!1,q=i.WHOLE_DOCUMENT||!1,te=i.RETURN_DOM||!1,we=i.RETURN_DOM_FRAGMENT||!1,Me=i.RETURN_TRUSTED_TYPE||!1,Ve=i.FORCE_BODY||!1,Ct=i.SANITIZE_DOM!==!1,Lt=i.SANITIZE_NAMED_PROPS||!1,Ke=i.KEEP_CONTENT!==!1,fe=i.IN_PLACE||!1,_t=i.ALLOWED_URI_REGEXP||hn,oe=i.NAMESPACE||B,De=i.MATHML_TEXT_INTEGRATION_POINTS||De,$e=i.HTML_INTEGRATION_POINTS||$e,N=i.CUSTOM_ELEMENT_HANDLING||{},i.CUSTOM_ELEMENT_HANDLING&&Mt(i.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(N.tagNameCheck=i.CUSTOM_ELEMENT_HANDLING.tagNameCheck),i.CUSTOM_ELEMENT_HANDLING&&Mt(i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(N.attributeNameCheck=i.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),i.CUSTOM_ELEMENT_HANDLING&&typeof i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(N.allowCustomizedBuiltInElements=i.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(Xe=!1),we&&(te=!0),ne&&(b=h({},Jt),L=[],ne.html===!0&&(h(b,Qt),h(L,en)),ne.svg===!0&&(h(b,st),h(L,lt),h(L,He)),ne.svgFilters===!0&&(h(b,rt),h(L,lt),h(L,He)),ne.mathMl===!0&&(h(b,at),h(L,tn),h(L,He))),i.ADD_TAGS&&(b===Tt&&(b=W(b)),h(b,i.ADD_TAGS,C)),i.ADD_ATTR&&(L===Nt&&(L=W(L)),h(L,i.ADD_ATTR,C)),i.ADD_URI_SAFE_ATTR&&h(Ze,i.ADD_URI_SAFE_ATTR,C),i.FORBID_CONTENTS&&(ie===vt&&(ie=W(ie)),h(ie,i.FORBID_CONTENTS,C)),Ke&&(b["#text"]=!0),q&&h(b,["html","head","body"]),b.table&&(h(b,["tbody"]),delete de.tbody),i.TRUSTED_TYPES_POLICY){if(typeof i.TRUSTED_TYPES_POLICY.createHTML!="function")throw _e('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof i.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _e('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=i.TRUSTED_TYPES_POLICY,me=I.createHTML("")}else I===void 0&&(I=Ai(E,s)),I!==null&&typeof me=="string"&&(me=I.createHTML(""));O&&O(i),se=i}},Ot=h({},[...st,...rt,...ai]),xt=h({},[...at,...li]),Pn=function(i){let a=Re(i);(!a||!a.tagName)&&(a={namespaceURI:oe,tagName:"template"});const u=Pe(i.tagName),T=Pe(a.tagName);return Je[i.namespaceURI]?i.namespaceURI===xe?a.namespaceURI===B?u==="svg":a.namespaceURI===Oe?u==="svg"&&(T==="annotation-xml"||De[T]):!!Ot[u]:i.namespaceURI===Oe?a.namespaceURI===B?u==="math":a.namespaceURI===xe?u==="math"&&$e[T]:!!xt[u]:i.namespaceURI===B?a.namespaceURI===xe&&!$e[T]||a.namespaceURI===Oe&&!De[T]?!1:!xt[u]&&(Dn[u]||!Ot[u]):!!(he==="application/xhtml+xml"&&Je[i.namespaceURI]):!1},F=function(i){Ee(e.removed,{element:i});try{Re(i).removeChild(i)}catch{ue(i)}},re=function(i,a){try{Ee(e.removed,{attribute:a.getAttributeNode(i),from:a})}catch{Ee(e.removed,{attribute:null,from:a})}if(a.removeAttribute(i),i==="is")if(te||we)try{F(a)}catch{}else try{a.setAttribute(i,"")}catch{}},Dt=function(i){let a=null,u=null;if(Ve)i="<remove></remove>"+i;else{const S=Zt(i,/^[\r\n\t ]+/);u=S&&S[0]}he==="application/xhtml+xml"&&oe===B&&(i='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+i+"</body></html>");const T=I?I.createHTML(i):i;if(oe===B)try{a=new g().parseFromString(T,he)}catch{}if(!a||!a.documentElement){a=ze.createDocument(oe,"template",null);try{a.documentElement.innerHTML=Qe?me:T}catch{}}const v=a.body||a.documentElement;return i&&u&&v.insertBefore(t.createTextNode(u),v.childNodes[0]||null),oe===B?Ln.call(a,q?"html":"body")[0]:q?a.documentElement:v},$t=function(i){return bn.call(i.ownerDocument||i,i,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},tt=function(i){return i instanceof d&&(typeof i.nodeName!="string"||typeof i.textContent!="string"||typeof i.removeChild!="function"||!(i.attributes instanceof A)||typeof i.removeAttribute!="function"||typeof i.setAttribute!="function"||typeof i.namespaceURI!="string"||typeof i.insertBefore!="function"||typeof i.hasChildNodes!="function")},kt=function(i){return typeof f=="function"&&i instanceof f};function z(m,i,a){ke(m,u=>{u.call(e,i,a,se)})}const Ht=function(i){let a=null;if(z(w.beforeSanitizeElements,i,null),tt(i))return F(i),!0;const u=C(i.nodeName);if(z(w.uponSanitizeElement,i,{tagName:u,allowedTags:b}),Ie&&i.hasChildNodes()&&!kt(i.firstElementChild)&&M(/<[/\w!]/g,i.innerHTML)&&M(/<[/\w!]/g,i.textContent)||i.nodeType===Ne.progressingInstruction||Ie&&i.nodeType===Ne.comment&&M(/<[/\w]/g,i.data))return F(i),!0;if(!b[u]||de[u]){if(!de[u]&&Ut(u)&&(N.tagNameCheck instanceof RegExp&&M(N.tagNameCheck,u)||N.tagNameCheck instanceof Function&&N.tagNameCheck(u)))return!1;if(Ke&&!ie[u]){const T=Re(i)||i.parentNode,v=Sn(i)||i.childNodes;if(v&&T){const S=v.length;for(let D=S-1;D>=0;--D){const G=P(v[D],!0);G.__removalCount=(i.__removalCount||0)+1,T.insertBefore(G,ve(i))}}}return F(i),!0}return i instanceof c&&!Pn(i)||(u==="noscript"||u==="noembed"||u==="noframes")&&M(/<\/no(script|embed|frames)/i,i.innerHTML)?(F(i),!0):(ee&&i.nodeType===Ne.text&&(a=i.textContent,ke([Ge,We,Ye],T=>{a=Ae(a,T," ")}),i.textContent!==a&&(Ee(e.removed,{element:i.cloneNode()}),i.textContent=a)),z(w.afterSanitizeElements,i,null),!1)},Pt=function(i,a,u){if(Ct&&(a==="id"||a==="name")&&(u in t||u in Hn))return!1;if(!(Xe&&!je[a]&&M(Rn,a))){if(!(yt&&M(In,a))){if(!L[a]||je[a]){if(!(Ut(i)&&(N.tagNameCheck instanceof RegExp&&M(N.tagNameCheck,i)||N.tagNameCheck instanceof Function&&N.tagNameCheck(i))&&(N.attributeNameCheck instanceof RegExp&&M(N.attributeNameCheck,a)||N.attributeNameCheck instanceof Function&&N.attributeNameCheck(a))||a==="is"&&N.allowCustomizedBuiltInElements&&(N.tagNameCheck instanceof RegExp&&M(N.tagNameCheck,u)||N.tagNameCheck instanceof Function&&N.tagNameCheck(u))))return!1}else if(!Ze[a]){if(!M(_t,Ae(u,At,""))){if(!((a==="src"||a==="xlink:href"||a==="href")&&i!=="script"&&ii(u,"data:")===0&&Rt[i])){if(!(St&&!M(wn,Ae(u,At,"")))){if(u)return!1}}}}}}return!0},Ut=function(i){return i!=="annotation-xml"&&Zt(i,Mn)},Ft=function(i){z(w.beforeSanitizeAttributes,i,null);const{attributes:a}=i;if(!a||tt(i))return;const u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L,forceKeepAttr:void 0};let T=a.length;for(;T--;){const v=a[T],{name:S,namespaceURI:D,value:G}=v,pe=C(S),nt=G;let R=S==="value"?nt:oi(nt);if(u.attrName=pe,u.attrValue=R,u.keepAttr=!0,u.forceKeepAttr=void 0,z(w.uponSanitizeAttribute,i,u),R=u.attrValue,Lt&&(pe==="id"||pe==="name")&&(re(S,i),R=On+R),Ie&&M(/((--!?|])>)|<\/(style|title)/i,R)){re(S,i);continue}if(u.forceKeepAttr)continue;if(!u.keepAttr){re(S,i);continue}if(!bt&&M(/\/>/i,R)){re(S,i);continue}ee&&ke([Ge,We,Ye],zt=>{R=Ae(R,zt," ")});const Bt=C(i.nodeName);if(!Pt(Bt,pe,R)){re(S,i);continue}if(I&&typeof E=="object"&&typeof E.getAttributeType=="function"&&!D)switch(E.getAttributeType(Bt,pe)){case"TrustedHTML":{R=I.createHTML(R);break}case"TrustedScriptURL":{R=I.createScriptURL(R);break}}if(R!==nt)try{D?i.setAttributeNS(D,S,R):i.setAttribute(S,R),tt(i)?F(i):Kt(e.removed)}catch{re(S,i)}}z(w.afterSanitizeAttributes,i,null)},Un=function m(i){let a=null;const u=$t(i);for(z(w.beforeSanitizeShadowDOM,i,null);a=u.nextNode();)z(w.uponSanitizeShadowNode,a,null),Ht(a),Ft(a),a.content instanceof r&&m(a.content);z(w.afterSanitizeShadowDOM,i,null)};return e.sanitize=function(m){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=null,u=null,T=null,v=null;if(Qe=!m,Qe&&(m="<!-->"),typeof m!="string"&&!kt(m))if(typeof m.toString=="function"){if(m=m.toString(),typeof m!="string")throw _e("dirty is not a string, aborting")}else throw _e("toString is not a function");if(!e.isSupported)return m;if(qe||et(i),e.removed=[],typeof m=="string"&&(fe=!1),fe){if(m.nodeName){const G=C(m.nodeName);if(!b[G]||de[G])throw _e("root node is forbidden and cannot be sanitized in-place")}}else if(m instanceof f)a=Dt("<!---->"),u=a.ownerDocument.importNode(m,!0),u.nodeType===Ne.element&&u.nodeName==="BODY"||u.nodeName==="HTML"?a=u:a.appendChild(u);else{if(!te&&!ee&&!q&&m.indexOf("<")===-1)return I&&Me?I.createHTML(m):m;if(a=Dt(m),!a)return te?null:Me?me:""}a&&Ve&&F(a.firstChild);const S=$t(fe?m:a);for(;T=S.nextNode();)Ht(T),Ft(T),T.content instanceof r&&Un(T.content);if(fe)return m;if(te){if(we)for(v=Cn.call(a.ownerDocument);a.firstChild;)v.appendChild(a.firstChild);else v=a;return(L.shadowroot||L.shadowrootmode)&&(v=vn.call(n,v,!0)),v}let D=q?a.outerHTML:a.innerHTML;return q&&b["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&M(pn,a.ownerDocument.doctype.name)&&(D="<!DOCTYPE "+a.ownerDocument.doctype.name+`>
`+D),ee&&ke([Ge,We,Ye],G=>{D=Ae(D,G," ")}),I&&Me?I.createHTML(D):D},e.setConfig=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};et(m),qe=!0},e.clearConfig=function(){se=null,qe=!1},e.isValidAttribute=function(m,i,a){se||et({});const u=C(m),T=C(i);return Pt(u,T,a)},e.addHook=function(m,i){typeof i=="function"&&Ee(w[m],i)},e.removeHook=function(m,i){if(i!==void 0){const a=ti(w[m],i);return a===-1?void 0:ni(w[m],a,1)[0]}return Kt(w[m])},e.removeHooks=function(m){w[m]=[]},e.removeAllHooks=function(){w=on()},e}var _i=gn();class ce{static createFromRenderer(e,...t){const n=document.createElement("div");return Zn(e(...t),n),n.firstElementChild}static sanitizeHTML(e){return _i.sanitize(e)}}class Ti{static bindDropdownEvent(e,t,n,s,r){const l=()=>{e.dataset.open==="true"?e.dataset.open="false":e.dataset.open="true"};e.onclick=f=>{f.preventDefault(),queueMicrotask(()=>{let c=f.target;if(e.querySelector(`.${n}`).contains(c))l();else{for(;c&&!c.classList.contains(s)&&(c=c.parentElement,!(c.classList.contains(t)||c.tagName==="BODY")););c&&c.classList.contains(s)&&(l(),e.querySelectorAll(`.${s}`).forEach(A=>{A.classList.remove("active")}),c.classList.add("active"),r(c.dataset.value,c))}})}}}class Ni{static onClickOnPageBody(e){document.body.addEventListener("click",t=>{queueMicrotask(()=>{e(t)})})}}var $=(o=>(o.BOLD="text-styling-bold",o.ITALIC="text-styling-italic",o.UNDERLINE="text-styling-underline",o.STRIKE_THROUGH="text-styling-strike-through",o.HEADING_1="text-sizing-heading-1",o.HEADING_2="text-sizing-heading-2",o.HEADING_3="text-sizing-heading-3",o.PARAGRAPH="text-sizing-paragraph",o))($||{}),En=(o=>(o.NUMBERED_LIST="text-listing-numbered-list",o.BULLET_LIST="text-listing-bullet-list",o))(En||{}),dt=(o=>(o.APPEND="rendering-mode-append",o.REPLACE="rendering-mode-replace",o))(dt||{}),X=(o=>(o.BOLD="text-styling-bold",o.ITALIC="text-styling-italic",o.UNDERLINE="text-styling-underline",o.STRIKE_THROUGH="text-styling-strike-through",o.RESIZE="text-styling-resize",o.NUMBERED_LIST="text-listing-numbered-list",o.BULLET_LIST="text-listing-bullet-list",o))(X||{});class gt{static{this.topBlockElementTagName="SECTION"}static getClosestElementOfNode(e,t){let n=e;const s=k.getContentElement();for(;n&&s.contains(n);){if(t(n))return n;n=n.parentNode}return null}static getTopBlockElementFromNode(e){let t=e,n=null;const s=k.getContentElement(),r=k.getContentElementName();for(;t&&s.contains(t);)if(t=t.closest(this.topBlockElementTagName),t.parentElement?.classList.contains(r)){n=t;break}return n?.tagName!==this.topBlockElementTagName?null:n}}class yi{constructor(){this.currentTagName=""}setCurrentTagName(e){this.currentTagName=e===En.NUMBERED_LIST?"OL":"UL"}getClosestListLineElement(e){if(!e||e.rangeCount===0)return null;let t;const n=e.anchorNode;n&&n.nodeType===Node.TEXT_NODE?t=n.parentNode:t=n;const s=k.getContentElement();if(t.tagName==="LI"){if(s.contains(t))return t}else if(t.tagName===this.currentTagName)return t.lastElementChild;return null}insertNewLine(e,t){const s=t.getRangeAt(0).extractContents(),r=document.createElement("li");s.textContent?r.appendChild(s):r.innerHTML="<br>",e.insertAdjacentElement("afterend",r);const l=document.createRange();l.setStart(r,0),l.collapse(!0),t.removeAllRanges(),t.addRange(l)}isOnEmptyLine(e){return e.innerHTML==="<br>"||e.innerHTML===""}deleteLine(e){e.remove()}isOnListLine(){return!!this.currentTagName}createNewList(...e){const t=document.createElement(this.currentTagName),n=document.createElement("li");return n.innerHTML="<br>",e.length>0&&n.replaceChildren(...e),t.appendChild(n),t}wrapElementContentByNewList(e){e.replaceChildren(this.createNewList(...e.childNodes))}makeListing(e){const t=this.getClosestListLineElement(e);if(t)this.isOnEmptyLine(t)?(this.deleteLine(t),k.insertNewTopBlockElementAndFocusCaret()):this.insertNewLine(t,e);else{const n=e.anchorNode,s=gt.getTopBlockElementFromNode(n.nodeType===Node.TEXT_NODE?n.parentNode:n);s&&this.wrapElementContentByNewList(s)}}insertNewListInsideLine(e){const t=this.createNewList();e.appendChild(t)}makeNestedListing(e){const t=this.getClosestListLineElement(e);if(t&&this.isOnEmptyLine(t)){this.deleteLine(t);const n=window.getSelection(),s=this.getClosestListLineElement(n);s&&this.insertNewListInsideLine(s)}}makeListingOnToolbarButtonClick(e){const t=k.checkIsFocusingInEditorContent();!t||t.rangeCount===0||(this.setCurrentTagName(e),this.makeListing(t))}makeListingOnKeyboardEvent(e){if(e.key==="Enter"){e.preventDefault();const t=k.checkIsFocusingInEditorContent();if(!t||t.rangeCount===0)return;this.makeListing(t)}else if(e.key==="Tab"){e.preventDefault();const t=k.checkIsFocusingInEditorContent();if(!t||t.rangeCount===0)return;this.makeNestedListing(t)}}onAction(e,t){e?this.makeListingOnToolbarButtonClick(e):t&&this.isOnListLine()&&this.makeListingOnKeyboardEvent(t)}}const An=new yi;class Si{constructor(){this.contentElementName="NAME-editor-content",this.contentElement=this.initContentEl(),this.initEventListeners()}getContentElementName(){return this.contentElementName}initContentEl(){const e=()=>Y`
        <div
          class="${this.contentElementName} p-4 min-h-[300px] outline-none"
          contenteditable="true"
          spellcheck="false"
        ></div>
      `;return ce.createFromRenderer(e)}bindKeydownEventListener(){this.contentElement.addEventListener("keydown",e=>{queueMicrotask(()=>{An.onAction(void 0,e)})})}bindBeforeInputEventListener(){this.contentElement.addEventListener("beforeinput",e=>{if(e.inputType==="insertParagraph"){e.preventDefault();const t=document.createElement("section");t.innerHTML="<br>";const n=window.getSelection();if(!n)return;const s=n.getRangeAt(0);s.deleteContents(),s.insertNode(t),s.setStart(t,0),s.setEnd(t,0),n.removeAllRanges(),n.addRange(s)}})}initEventListeners(){this.bindKeydownEventListener(),this.bindBeforeInputEventListener()}getContentElement(){return this.contentElement}checkIsFocusingInEditorContent(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return!t||!this.contentElement.contains(t)?null:e}insertNewTopBlockElementAndFocusCaret(){const e=document.createElement(gt.topBlockElementTagName);e.innerHTML="<br>",this.contentElement.appendChild(e);const t=document.createRange();t.selectNodeContents(e),t.collapse(!0);const n=window.getSelection();return n&&(n.removeAllRanges(),n.addRange(t)),this.contentElement.focus(),e}}const k=new Si;class bi{constructor(){this.frameElementClassName="NAME-editor-frame",this.codevcnEditorClassName="NAME-codevcn-editor",this.frameElement=this.initFrameEl()}initFrameEl(){const e=()=>Y`<div
        class="${this.frameElementClassName} ${this.codevcnEditorClassName} w-full max-w-3xl mx-auto border rounded-lg shadow bg-white"
      ></div>`;return ce.createFromRenderer(e)}getFrameElement(){return this.frameElement}}const ye=new bi;class _n{constructor(e){this.element=e,this.action=e.getAttribute("data-action")||"",this.value=e.getAttribute("data-value")||void 0}onClick(e){this.element.addEventListener("click",()=>{e(this.action,this.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Tn={CHILD:2},Nn=o=>(...e)=>({_$litDirective$:o,values:e});class yn{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:Ci}=Vn,sn=()=>document.createComment(""),Se=(o,e,t)=>{const n=o._$AA.parentNode,s=e===void 0?o._$AB:e._$AA;if(t===void 0){const r=n.insertBefore(sn(),s),l=n.insertBefore(sn(),s);t=new Ci(r,l,o,o.options)}else{const r=t._$AB.nextSibling,l=t._$AM,f=l!==o;if(f){let c;t._$AQ?.(o),t._$AM=o,t._$AP!==void 0&&(c=o._$AU)!==l._$AU&&t._$AP(c)}if(r!==s||f){let c=t._$AA;for(;c!==r;){const p=c.nextSibling;n.insertBefore(c,s),c=p}}}return t},K=(o,e,t=o)=>(o._$AI(e,t),o),Li={},vi=(o,e=Li)=>o._$AH=e,Ri=o=>o._$AH,ct=o=>{o._$AR(),o._$AA.remove()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const rn=(o,e,t)=>{const n=new Map;for(let s=e;s<=t;s++)n.set(o[s],s);return n},Et=Nn(class extends yn{constructor(o){if(super(o),o.type!==Tn.CHILD)throw Error("repeat() can only be used in text expressions")}dt(o,e,t){let n;t===void 0?t=e:e!==void 0&&(n=e);const s=[],r=[];let l=0;for(const f of o)s[l]=n?n(f,l):l,r[l]=t(f,l),l++;return{values:r,keys:s}}render(o,e,t){return this.dt(o,e,t).values}update(o,[e,t,n]){const s=Ri(o),{values:r,keys:l}=this.dt(e,t,n);if(!Array.isArray(s))return this.ut=l,r;const f=this.ut??=[],c=[];let p,A,d=0,g=s.length-1,E=0,_=r.length-1;for(;d<=g&&E<=_;)if(s[d]===null)d++;else if(s[g]===null)g--;else if(f[d]===l[E])c[E]=K(s[d],r[E]),d++,E++;else if(f[g]===l[_])c[_]=K(s[g],r[_]),g--,_--;else if(f[d]===l[_])c[_]=K(s[d],r[_]),Se(o,c[_+1],s[d]),d++,_--;else if(f[g]===l[E])c[E]=K(s[g],r[E]),Se(o,s[d],s[g]),g--,E++;else if(p===void 0&&(p=rn(l,E,_),A=rn(f,d,g)),p.has(f[d]))if(p.has(f[g])){const P=A.get(l[E]),ue=P!==void 0?s[P]:null;if(ue===null){const ve=Se(o,s[d]);K(ve,r[E]),c[E]=ve}else c[E]=K(ue,r[E]),Se(o,s[d],ue),s[P]=null;E++}else ct(s[g]),g--;else ct(s[d]),d++;for(;E<=_;){const P=Se(o,c[_+1]);K(P,r[E]),c[E++]=P}for(;d<=g;){const P=s[d++];P!==null&&ct(P)}return this.ut=l,vi(o,c),J}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class ft extends yn{constructor(e){if(super(e),this.it=y,e.type!==Tn.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===y||e==null)return this._t=void 0,this.it=e;if(e===J)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}ft.directiveName="unsafeHTML",ft.resultType=1;const Fe=Nn(ft);class Ii{constructor(){this.currentStylingType=null,this.parentStylingElement=null,this.tagNamesForStyling={[$.BOLD]:["B","STRONG"],[$.ITALIC]:["I","EM"],[$.UNDERLINE]:["U","INS"],[$.STRIKE_THROUGH]:["S","DEL","STRIKE"],[$.HEADING_1]:["H1"],[$.HEADING_2]:["H2"],[$.HEADING_3]:["H3"],[$.PARAGRAPH]:["P"]}}getAllAvailableTagNames(){return Object.values(this.tagNamesForStyling).flat()}ifTagNameIsCurrentStyling(e){return this.getCurrentStylingTagNames().includes(e)}setCurrentStylingType(e){this.currentStylingType=e}getCurrentStylingTagNames(){return this.tagNamesForStyling[this.currentStylingType]}getCurrentStylingTagName(){return this.getCurrentStylingTagNames()[0]}setParentStylingElement(e){let t=e.startContainer.nodeType===Node.TEXT_NODE?e.startContainer.parentNode:e.startContainer;t&&(this.parentStylingElement=gt.getClosestElementOfNode(t,n=>this.ifTagNameIsCurrentStyling(n.tagName)&&n.contains(e.endContainer)))}mergeAdjacentStyling(e){let t=e.firstChild;for(;t;){const n=t.nextSibling;if(t.nodeType===Node.ELEMENT_NODE&&n&&n.nodeType===Node.ELEMENT_NODE&&this.ifTagNameIsCurrentStyling(t.tagName)&&t.tagName===n.tagName){for(;n.firstChild;)t.appendChild(n.firstChild);e.removeChild(n);continue}t=n}}unstylingFromSelection(e){const t=this.parentStylingElement;if(!t)return;const n=t.ownerDocument,s=t.tagName,r=e.cloneRange(),l=n.createRange();l.setStart(t,0),l.setEnd(r.startContainer,r.startOffset);const f=n.createRange();f.setStart(r.endContainer,r.endOffset),f.setEnd(t,t.childNodes.length);const c=l.cloneContents(),p=r.cloneContents(),A=f.cloneContents(),d=n.createDocumentFragment();if(c.hasChildNodes()){const g=n.createElement(s);g.appendChild(c),d.appendChild(g)}if(p.hasChildNodes()&&d.appendChild(p),A.hasChildNodes()){const g=n.createElement(s);g.appendChild(A),d.appendChild(g)}t.replaceWith(d)}warpContentByStylingTag(e){const t=e.extractContents(),n=document.createElement(this.getCurrentStylingTagName());return n.appendChild(t),e.insertNode(n),n}findDescendantsSameTag(e){const t=e.tagName,n=[];for(const s in this.tagNamesForStyling){const r=this.tagNamesForStyling[s];r.includes(t)&&n.push(...r)}return Array.from(e.querySelectorAll(n.join(",")))}removeOverlapChildTags(e){const t=this.findDescendantsSameTag(e);for(const n of t)n.replaceWith(...n.childNodes)}makeStylingToTextNodeOutsideTags(e){const t=this.getAllAvailableTagNames(),n=e.childNodes;for(const s of n)if(s.nodeType===Node.TEXT_NODE){if(s.textContent.trim()!==""){const r=document.createElement(this.getCurrentStylingTagName());r.appendChild(s.cloneNode(!0)),s.replaceWith(r);return}}else if(s.nodeType===Node.ELEMENT_NODE){const r=s;if(!t.includes(r.tagName))this.makeStylingToTextNodeOutsideTags(r);else continue}}removeEmptyTags(e){const t=e.children;for(const n of t)if(n.innerHTML===""){n.remove();continue}else n.hasChildNodes()&&this.removeEmptyTags(n)}makeStyling(e,t){if(this.setCurrentStylingType(t),this.setParentStylingElement(e),this.parentStylingElement)this.unstylingFromSelection(e);else{const n=this.warpContentByStylingTag(e);this.removeOverlapChildTags(n)}this.parentStylingElement&&this.mergeAdjacentStyling(this.parentStylingElement)}onAction(e){const t=k.checkIsFocusingInEditorContent();if(!t||t.rangeCount===0)return;const n=t.getRangeAt(0);n.collapsed||this.makeStyling(n,e)}}const wi=new Ii;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mi=o=>o??y,Oi=({label:o,options:e,dataObject:t,classNames:n})=>Y`
    <div
      class="NAME-custom-dropdown ${n?.container||""}"
      data-value="${e[0].value}"
      data-object=${Mi(t?JSON.stringify(t):null)}
    >
      <button class="NAME-custom-dropdown-btn ${n?.btn||""}">${Fe(o)}</button>
      <div class="NAME-custom-dropdown-content">
        ${Et(e,({value:s})=>s,({value:s,label:r},l)=>Y`
              <button class="NAME-custom-dropdown-option ${n?.options?.[l]||""}" data-value="${s}">
                ${Fe(r)}
              </button>
            `)}
      </div>
    </div>
  `;class xi{constructor(){this.actions=[{action:X.BOLD,label:"B",type:"button",className:"font-bold"},{action:X.ITALIC,label:"I",type:"button",className:"italic font-mono text-lg"},{action:X.UNDERLINE,label:"U",type:"button",className:"underline"},{action:X.STRIKE_THROUGH,label:"S",type:"button",className:"line-through"},{action:X.RESIZE,label:`
        <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" fill="#000000" height="18" width="18">
          <g data-name="Layer_2">
            <g data-name="invisible_box">
              <rect width="26" height="26" fill="none"></rect>
            </g>
            <g data-name="Q3_icons">
              <g>
                <polygon points="2 23 9 23 9 43 15 43 15 23 22 23 22 17 2 17 2 23"></polygon>
                <polygon points="46 5 14 5 14 11 27 11 27 43 33 43 33 11 46 11 46 5"></polygon>
              </g>
            </g>
          </g>
        </svg>`,type:"select",className:"text-2xl font-bold",options:[{value:$.PARAGRAPH,label:"Paragraph",className:"text-base"},{value:$.HEADING_1,label:"H1",className:"text-2xl font-bold"},{value:$.HEADING_2,label:"H2",className:"text-xl font-bold"},{value:$.HEADING_3,label:"H3",className:"text-lg font-bold"}]}],this.sectionElement=this.initSectionElement(),this.bindEvents()}getSectionElement(){return this.sectionElement}initSectionElement(){const e=()=>Y`<div class="NAME-text-styling-section flex gap-2">
        ${Et(this.actions,({action:t})=>t,({action:t,label:n,type:s,className:r,options:l})=>s==="select"?Oi({label:n,options:l||[],dataObject:{action:t},classNames:{btn:`flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer h-full ${r}`,options:l?.map(({className:f})=>`flex gap-2 py-1 px-2 cursor-pointer hover:bg-gray-200 ${f||""}`)}}):Y`<button
                  class="NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${r}"
                  data-action="${t}"
                >
                  ${Fe(n)}
                </button>`)}
      </div>`;return ce.createFromRenderer(e)}bindButtonEvents(){this.sectionElement.querySelectorAll(".NAME-toolbar-btn").forEach(t=>{new _n(t).onClick(s=>{this.onAction(s)})})}bindDropdownEvents(){const e=this.sectionElement.querySelectorAll(".NAME-custom-dropdown");for(const t of e)Ti.bindDropdownEvent(t,"NAME-custom-dropdown","NAME-custom-dropdown-btn","NAME-custom-dropdown-option",n=>{this.onAction(n)})}bindEvents(){this.bindButtonEvents(),this.bindDropdownEvents()}onAction(e){queueMicrotask(()=>{wi.onAction(e)})}}const Di=new xi;class $i{constructor(){this.actions=[{action:X.NUMBERED_LIST,label:'<i class="bi bi-list-ol"></i>',type:"button",className:"text-2xl font-bold"},{action:X.BULLET_LIST,label:'<i class="bi bi-list-ul"></i>',type:"button",className:"text-2xl font-bold"}],this.sectionElement=this.initSectionElement(),this.bindEvents()}initSectionElement(){const e=()=>Y`<div class="NAME-text-listing-section flex gap-2">
      ${Et(this.actions,t=>t.action,t=>Y`<button
            class="NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${t.className}"
            data-action="${t.action}"
          >
            ${Fe(t.label)}
          </button>`)}
    </div>`;return ce.createFromRenderer(e)}getSectionElement(){return this.sectionElement}bindButtonEvents(){this.sectionElement.querySelectorAll(".NAME-toolbar-btn").forEach(t=>{new _n(t).onClick(s=>{this.onAction(s)})})}bindEvents(){this.bindButtonEvents()}onAction(e){queueMicrotask(()=>{An.onAction(e)})}}const ki=new $i;class Hi{constructor(){this.toolbarElementClassName="NAME-editor-toolbar",this.toolbarElement=this.initToolbarEl(),this.toolbarElement.appendChild(Di.getSectionElement()),this.toolbarElement.appendChild(ki.getSectionElement())}initToolbarEl(){const e=()=>Y`<div class="${this.toolbarElementClassName} border-b px-2 py-1 flex gap-2 items-stretch"></div>`;return ce.createFromRenderer(e)}getToolbarElement(){return this.toolbarElement}}const an=new Hi;class Pi{constructor(e,t=dt.APPEND){const n=document.getElementById(e);if(!n)throw new Error(`Container with id ${e} not found`);this.editorWrapper=n,this.editorWrapperID=e,ye.getFrameElement().appendChild(an.getToolbarElement()),ye.getFrameElement().appendChild(k.getContentElement()),t===dt.APPEND?this.editorWrapper.appendChild(ye.getFrameElement()):this.editorWrapper.replaceWith(ye.getFrameElement())}getEditorWrapperID(){return this.editorWrapperID}getEditorWrapper(){return this.editorWrapper}getContent(){return k.getContentElement().innerHTML}getToolbarElement(){return an.getToolbarElement()}getContentElement(){return k.getContentElement()}getFrameElement(){return ye.getFrameElement()}setContent(e){k.getContentElement().innerHTML=ce.sanitizeHTML(e)}}const Ui=new Pi("codevcn-editor-root"),Fi=()=>{Ui.setContent("<section>Xin chào! Đây là <ins>phần mới</ins> của <b>văn b</b>ản.</section>"),Ni.onClickOnPageBody(o=>{o.target})};Fi();
