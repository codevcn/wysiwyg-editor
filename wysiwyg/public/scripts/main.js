/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dt=globalThis,Ue=dt.trustedTypes,Ut=Ue?Ue.createPolicy("lit-html",{createHTML:s=>s}):void 0,on="$lit$",Y=`lit$${Math.random().toFixed(9).slice(2)}$`,sn="?"+Y,Hn=`<${sn}>`,K=document,be=()=>K.createComment(""),Ce=s=>s===null||typeof s!="object"&&typeof s!="function",ft=Array.isArray,Un=s=>ft(s)||typeof s?.[Symbol.iterator]=="function",nt=`[ 	
\f\r]`,ge=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ft=/-->/g,Bt=/>/g,X=RegExp(`>|${nt}(?:([^\\s"'>=/]+)(${nt}*=${nt}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),zt=/'/g,Wt=/"/g,rn=/^(?:script|style|textarea|title)$/i,Fn=s=>(e,...t)=>({_$litType$:s,strings:e,values:t}),Z=Fn(1),Q=Symbol.for("lit-noChange"),N=Symbol.for("lit-nothing"),Gt=new WeakMap,q=K.createTreeWalker(K,129);function an(s,e){if(!ft(s)||!s.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ut!==void 0?Ut.createHTML(e):e}const Bn=(s,e)=>{const t=s.length-1,i=[];let o,r=e===2?"<svg>":e===3?"<math>":"",l=ge;for(let f=0;f<t;f++){const c=s[f];let p,_,d=-1,g=0;for(;g<c.length&&(l.lastIndex=g,_=l.exec(c),_!==null);)g=l.lastIndex,l===ge?_[1]==="!--"?l=Ft:_[1]!==void 0?l=Bt:_[2]!==void 0?(rn.test(_[2])&&(o=RegExp("</"+_[2],"g")),l=X):_[3]!==void 0&&(l=X):l===X?_[0]===">"?(l=o??ge,d=-1):_[1]===void 0?d=-2:(d=l.lastIndex-_[2].length,p=_[1],l=_[3]===void 0?X:_[3]==='"'?Wt:zt):l===Wt||l===zt?l=X:l===Ft||l===Bt?l=ge:(l=X,o=void 0);const E=l===X&&s[f+1].startsWith("/>")?" ":"";r+=l===ge?c+Hn:d>=0?(i.push(p),c.slice(0,d)+on+c.slice(d)+Y+E):c+Y+(d===-2?f:E)}return[an(s,r+(s[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class Le{constructor({strings:e,_$litType$:t},i){let o;this.parts=[];let r=0,l=0;const f=e.length-1,c=this.parts,[p,_]=Bn(e,t);if(this.el=Le.createElement(p,i),q.currentNode=this.el.content,t===2||t===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(o=q.nextNode())!==null&&c.length<f;){if(o.nodeType===1){if(o.hasAttributes())for(const d of o.getAttributeNames())if(d.endsWith(on)){const g=_[l++],E=o.getAttribute(d).split(Y),T=/([.?@])?(.*)/.exec(g);c.push({type:1,index:r,name:T[2],strings:E,ctor:T[1]==="."?Wn:T[1]==="?"?Gn:T[1]==="@"?Yn:Fe}),o.removeAttribute(d)}else d.startsWith(Y)&&(c.push({type:6,index:r}),o.removeAttribute(d));if(rn.test(o.tagName)){const d=o.textContent.split(Y),g=d.length-1;if(g>0){o.textContent=Ue?Ue.emptyScript:"";for(let E=0;E<g;E++)o.append(d[E],be()),q.nextNode(),c.push({type:2,index:++r});o.append(d[g],be())}}}else if(o.nodeType===8)if(o.data===sn)c.push({type:2,index:r});else{let d=-1;for(;(d=o.data.indexOf(Y,d+1))!==-1;)c.push({type:7,index:r}),d+=Y.length-1}r++}}static createElement(e,t){const i=K.createElement("template");return i.innerHTML=e,i}}function ae(s,e,t=s,i){if(e===Q)return e;let o=i!==void 0?t._$Co?.[i]:t._$Cl;const r=Ce(e)?void 0:e._$litDirective$;return o?.constructor!==r&&(o?._$AO?.(!1),r===void 0?o=void 0:(o=new r(s),o._$AT(s,t,i)),i!==void 0?(t._$Co??=[])[i]=o:t._$Cl=o),o!==void 0&&(e=ae(s,o._$AS(s,e.values),o,i)),e}let zn=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,o=(e?.creationScope??K).importNode(t,!0);q.currentNode=o;let r=q.nextNode(),l=0,f=0,c=i[0];for(;c!==void 0;){if(l===c.index){let p;c.type===2?p=new le(r,r.nextSibling,this,e):c.type===1?p=new c.ctor(r,c.name,c.strings,this,e):c.type===6&&(p=new jn(r,this,e)),this._$AV.push(p),c=i[++f]}l!==c?.index&&(r=q.nextNode(),l++)}return q.currentNode=K,o}p(e){let t=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}};class le{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,o){this.type=2,this._$AH=N,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=o,this._$Cv=o?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=ae(this,e,t),Ce(e)?e===N||e==null||e===""?(this._$AH!==N&&this._$AR(),this._$AH=N):e!==this._$AH&&e!==Q&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Un(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==N&&Ce(this._$AH)?this._$AA.nextSibling.data=e:this.T(K.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,o=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=Le.createElement(an(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===o)this._$AH.p(t);else{const r=new zn(o,this),l=r.u(this.options);r.p(t),this.T(l),this._$AH=r}}_$AC(e){let t=Gt.get(e.strings);return t===void 0&&Gt.set(e.strings,t=new Le(e)),t}k(e){ft(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,o=0;for(const r of e)o===t.length?t.push(i=new le(this.O(be()),this.O(be()),this,this.options)):i=t[o],i._$AI(r),o++;o<t.length&&(this._$AR(i&&i._$AB.nextSibling,o),t.length=o)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class Fe{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,o,r){this.type=1,this._$AH=N,this._$AN=void 0,this.element=e,this.name=t,this._$AM=o,this.options=r,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=N}_$AI(e,t=this,i,o){const r=this.strings;let l=!1;if(r===void 0)e=ae(this,e,t,0),l=!Ce(e)||e!==this._$AH&&e!==Q,l&&(this._$AH=e);else{const f=e;let c,p;for(e=r[0],c=0;c<r.length-1;c++)p=ae(this,f[i+c],t,c),p===Q&&(p=this._$AH[c]),l||=!Ce(p)||p!==this._$AH[c],p===N?e=N:e!==N&&(e+=(p??"")+r[c+1]),this._$AH[c]=p}l&&!o&&this.j(e)}j(e){e===N?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Wn extends Fe{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===N?void 0:e}}class Gn extends Fe{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==N)}}class Yn extends Fe{constructor(e,t,i,o,r){super(e,t,i,o,r),this.type=5}_$AI(e,t=this){if((e=ae(this,e,t,0)??N)===Q)return;const i=this._$AH,o=e===N&&i!==N||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,r=e!==N&&(i===N||o);o&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class jn{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){ae(this,e)}}const Xn={I:le},Vn=dt.litHtmlPolyfillSupport;Vn?.(Le,le),(dt.litHtmlVersions??=[]).push("3.3.1");const qn=(s,e,t)=>{const i=e;let o=i._$litPart$;return o===void 0&&(i._$litPart$=o=new le(e.insertBefore(be(),null),null,void 0,{})),o._$AI(s),o};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:ln,setPrototypeOf:Yt,isFrozen:Kn,getPrototypeOf:Zn,getOwnPropertyDescriptor:Qn}=Object;let{freeze:$,seal:x,create:cn}=Object,{apply:ct,construct:ut}=typeof Reflect<"u"&&Reflect;$||($=function(e){return e});x||(x=function(e){return e});ct||(ct=function(e,t,i){return e.apply(t,i)});ut||(ut=function(e,t){return new e(...t)});const ke=w(Array.prototype.forEach),Jn=w(Array.prototype.lastIndexOf),jt=w(Array.prototype.pop),Ee=w(Array.prototype.push),ei=w(Array.prototype.splice),He=w(String.prototype.toLowerCase),it=w(String.prototype.toString),Xt=w(String.prototype.match),_e=w(String.prototype.replace),ti=w(String.prototype.indexOf),ni=w(String.prototype.trim),P=w(Object.prototype.hasOwnProperty),O=w(RegExp.prototype.test),Te=ii(TypeError);function w(s){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return ct(s,e,i)}}function ii(s){return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return ut(s,t)}}function h(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:He;Yt&&Yt(s,null);let i=e.length;for(;i--;){let o=e[i];if(typeof o=="string"){const r=t(o);r!==o&&(Kn(e)||(e[i]=r),o=r)}s[o]=!0}return s}function oi(s){for(let e=0;e<s.length;e++)P(s,e)||(s[e]=null);return s}function z(s){const e=cn(null);for(const[t,i]of ln(s))P(s,t)&&(Array.isArray(i)?e[t]=oi(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=z(i):e[t]=i);return e}function Ae(s,e){for(;s!==null;){const i=Qn(s,e);if(i){if(i.get)return w(i.get);if(typeof i.value=="function")return w(i.value)}s=Zn(s)}function t(){return null}return t}const Vt=$(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ot=$(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),st=$(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),si=$(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rt=$(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ri=$(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qt=$(["#text"]),Kt=$(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),at=$(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Zt=$(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pe=$(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ai=x(/\{\{[\w\W]*|[\w\W]*\}\}/gm),li=x(/<%[\w\W]*|[\w\W]*%>/gm),ci=x(/\$\{[\w\W]*/gm),ui=x(/^data-[\-\w.\u00B7-\uFFFF]+$/),mi=x(/^aria-[\-\w]+$/),un=x(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),di=x(/^(?:\w+script|data):/i),fi=x(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mn=x(/^html$/i),hi=x(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qt=Object.freeze({__proto__:null,ARIA_ATTR:mi,ATTR_WHITESPACE:fi,CUSTOM_ELEMENT:hi,DATA_ATTR:ui,DOCTYPE_NAME:mn,ERB_EXPR:li,IS_ALLOWED_URI:un,IS_SCRIPT_OR_DATA:di,MUSTACHE_EXPR:ai,TMPLIT_EXPR:ci});const ye={element:1,text:3,progressingInstruction:7,comment:8,document:9},pi=function(){return typeof window>"u"?null:window},gi=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let i=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(i=t.getAttribute(o));const r="dompurify"+(i?"#"+i:"");try{return e.createPolicy(r,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},Jt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function dn(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pi();const e=m=>dn(m);if(e.version="3.2.6",e.removed=[],!s||!s.document||s.document.nodeType!==ye.document||!s.Element)return e.isSupported=!1,e;let{document:t}=s;const i=t,o=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:l,Node:f,Element:c,NodeFilter:p,NamedNodeMap:_=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:d,DOMParser:g,trustedTypes:E}=s,T=c.prototype,k=Ae(T,"cloneNode"),ue=Ae(T,"remove"),ve=Ae(T,"nextSibling"),yn=Ae(T,"childNodes"),Re=Ae(T,"parentNode");if(typeof l=="function"){const m=t.createElement("template");m.content&&m.content.ownerDocument&&(t=m.content.ownerDocument)}let M,me="";const{implementation:Be,createNodeIterator:Nn,createDocumentFragment:Sn,getElementsByTagName:bn}=t,{importNode:Cn}=i;let I=Jt();e.isSupported=typeof ln=="function"&&typeof Re=="function"&&Be&&Be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ze,ERB_EXPR:We,TMPLIT_EXPR:Ge,DATA_ATTR:Ln,ARIA_ATTR:vn,IS_SCRIPT_OR_DATA:Rn,ATTR_WHITESPACE:ht,CUSTOM_ELEMENT:Mn}=Qt;let{IS_ALLOWED_URI:pt}=Qt,b=null;const gt=h({},[...Vt,...ot,...st,...rt,...qt]);let L=null;const Et=h({},[...Kt,...at,...Zt,...Pe]);let y=Object.seal(cn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,Ye=null,_t=!0,je=!0,Tt=!1,At=!0,J=!1,Me=!0,j=!1,Xe=!1,Ve=!1,ee=!1,Ie=!1,Oe=!1,yt=!0,Nt=!1;const In="user-content-";let qe=!0,fe=!1,te={},ne=null;const St=h({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let bt=null;const Ct=h({},["audio","video","img","source","image","track"]);let Ke=null;const Lt=h({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$e="http://www.w3.org/1998/Math/MathML",we="http://www.w3.org/2000/svg",U="http://www.w3.org/1999/xhtml";let ie=U,Ze=!1,Qe=null;const On=h({},[$e,we,U],it);let De=h({},["mi","mo","mn","ms","mtext"]),xe=h({},["annotation-xml"]);const $n=h({},["title","style","font","a","script"]);let he=null;const wn=["application/xhtml+xml","text/html"],Dn="text/html";let C=null,oe=null;const xn=t.createElement("form"),vt=function(n){return n instanceof RegExp||n instanceof Function},Je=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(oe&&oe===n)){if((!n||typeof n!="object")&&(n={}),n=z(n),he=wn.indexOf(n.PARSER_MEDIA_TYPE)===-1?Dn:n.PARSER_MEDIA_TYPE,C=he==="application/xhtml+xml"?it:He,b=P(n,"ALLOWED_TAGS")?h({},n.ALLOWED_TAGS,C):gt,L=P(n,"ALLOWED_ATTR")?h({},n.ALLOWED_ATTR,C):Et,Qe=P(n,"ALLOWED_NAMESPACES")?h({},n.ALLOWED_NAMESPACES,it):On,Ke=P(n,"ADD_URI_SAFE_ATTR")?h(z(Lt),n.ADD_URI_SAFE_ATTR,C):Lt,bt=P(n,"ADD_DATA_URI_TAGS")?h(z(Ct),n.ADD_DATA_URI_TAGS,C):Ct,ne=P(n,"FORBID_CONTENTS")?h({},n.FORBID_CONTENTS,C):St,de=P(n,"FORBID_TAGS")?h({},n.FORBID_TAGS,C):z({}),Ye=P(n,"FORBID_ATTR")?h({},n.FORBID_ATTR,C):z({}),te=P(n,"USE_PROFILES")?n.USE_PROFILES:!1,_t=n.ALLOW_ARIA_ATTR!==!1,je=n.ALLOW_DATA_ATTR!==!1,Tt=n.ALLOW_UNKNOWN_PROTOCOLS||!1,At=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,J=n.SAFE_FOR_TEMPLATES||!1,Me=n.SAFE_FOR_XML!==!1,j=n.WHOLE_DOCUMENT||!1,ee=n.RETURN_DOM||!1,Ie=n.RETURN_DOM_FRAGMENT||!1,Oe=n.RETURN_TRUSTED_TYPE||!1,Ve=n.FORCE_BODY||!1,yt=n.SANITIZE_DOM!==!1,Nt=n.SANITIZE_NAMED_PROPS||!1,qe=n.KEEP_CONTENT!==!1,fe=n.IN_PLACE||!1,pt=n.ALLOWED_URI_REGEXP||un,ie=n.NAMESPACE||U,De=n.MATHML_TEXT_INTEGRATION_POINTS||De,xe=n.HTML_INTEGRATION_POINTS||xe,y=n.CUSTOM_ELEMENT_HANDLING||{},n.CUSTOM_ELEMENT_HANDLING&&vt(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(y.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&vt(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(y.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(y.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),J&&(je=!1),Ie&&(ee=!0),te&&(b=h({},qt),L=[],te.html===!0&&(h(b,Vt),h(L,Kt)),te.svg===!0&&(h(b,ot),h(L,at),h(L,Pe)),te.svgFilters===!0&&(h(b,st),h(L,at),h(L,Pe)),te.mathMl===!0&&(h(b,rt),h(L,Zt),h(L,Pe))),n.ADD_TAGS&&(b===gt&&(b=z(b)),h(b,n.ADD_TAGS,C)),n.ADD_ATTR&&(L===Et&&(L=z(L)),h(L,n.ADD_ATTR,C)),n.ADD_URI_SAFE_ATTR&&h(Ke,n.ADD_URI_SAFE_ATTR,C),n.FORBID_CONTENTS&&(ne===St&&(ne=z(ne)),h(ne,n.FORBID_CONTENTS,C)),qe&&(b["#text"]=!0),j&&h(b,["html","head","body"]),b.table&&(h(b,["tbody"]),delete de.tbody),n.TRUSTED_TYPES_POLICY){if(typeof n.TRUSTED_TYPES_POLICY.createHTML!="function")throw Te('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof n.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Te('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=n.TRUSTED_TYPES_POLICY,me=M.createHTML("")}else M===void 0&&(M=gi(E,o)),M!==null&&typeof me=="string"&&(me=M.createHTML(""));$&&$(n),oe=n}},Rt=h({},[...ot,...st,...si]),Mt=h({},[...rt,...ri]),kn=function(n){let a=Re(n);(!a||!a.tagName)&&(a={namespaceURI:ie,tagName:"template"});const u=He(n.tagName),A=He(a.tagName);return Qe[n.namespaceURI]?n.namespaceURI===we?a.namespaceURI===U?u==="svg":a.namespaceURI===$e?u==="svg"&&(A==="annotation-xml"||De[A]):!!Rt[u]:n.namespaceURI===$e?a.namespaceURI===U?u==="math":a.namespaceURI===we?u==="math"&&xe[A]:!!Mt[u]:n.namespaceURI===U?a.namespaceURI===we&&!xe[A]||a.namespaceURI===$e&&!De[A]?!1:!Mt[u]&&($n[u]||!Rt[u]):!!(he==="application/xhtml+xml"&&Qe[n.namespaceURI]):!1},H=function(n){Ee(e.removed,{element:n});try{Re(n).removeChild(n)}catch{ue(n)}},se=function(n,a){try{Ee(e.removed,{attribute:a.getAttributeNode(n),from:a})}catch{Ee(e.removed,{attribute:null,from:a})}if(a.removeAttribute(n),n==="is")if(ee||Ie)try{H(a)}catch{}else try{a.setAttribute(n,"")}catch{}},It=function(n){let a=null,u=null;if(Ve)n="<remove></remove>"+n;else{const S=Xt(n,/^[\r\n\t ]+/);u=S&&S[0]}he==="application/xhtml+xml"&&ie===U&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");const A=M?M.createHTML(n):n;if(ie===U)try{a=new g().parseFromString(A,he)}catch{}if(!a||!a.documentElement){a=Be.createDocument(ie,"template",null);try{a.documentElement.innerHTML=Ze?me:A}catch{}}const v=a.body||a.documentElement;return n&&u&&v.insertBefore(t.createTextNode(u),v.childNodes[0]||null),ie===U?bn.call(a,j?"html":"body")[0]:j?a.documentElement:v},Ot=function(n){return Nn.call(n.ownerDocument||n,n,p.SHOW_ELEMENT|p.SHOW_COMMENT|p.SHOW_TEXT|p.SHOW_PROCESSING_INSTRUCTION|p.SHOW_CDATA_SECTION,null)},et=function(n){return n instanceof d&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof _)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},$t=function(n){return typeof f=="function"&&n instanceof f};function F(m,n,a){ke(m,u=>{u.call(e,n,a,oe)})}const wt=function(n){let a=null;if(F(I.beforeSanitizeElements,n,null),et(n))return H(n),!0;const u=C(n.nodeName);if(F(I.uponSanitizeElement,n,{tagName:u,allowedTags:b}),Me&&n.hasChildNodes()&&!$t(n.firstElementChild)&&O(/<[/\w!]/g,n.innerHTML)&&O(/<[/\w!]/g,n.textContent)||n.nodeType===ye.progressingInstruction||Me&&n.nodeType===ye.comment&&O(/<[/\w]/g,n.data))return H(n),!0;if(!b[u]||de[u]){if(!de[u]&&xt(u)&&(y.tagNameCheck instanceof RegExp&&O(y.tagNameCheck,u)||y.tagNameCheck instanceof Function&&y.tagNameCheck(u)))return!1;if(qe&&!ne[u]){const A=Re(n)||n.parentNode,v=yn(n)||n.childNodes;if(v&&A){const S=v.length;for(let D=S-1;D>=0;--D){const B=k(v[D],!0);B.__removalCount=(n.__removalCount||0)+1,A.insertBefore(B,ve(n))}}}return H(n),!0}return n instanceof c&&!kn(n)||(u==="noscript"||u==="noembed"||u==="noframes")&&O(/<\/no(script|embed|frames)/i,n.innerHTML)?(H(n),!0):(J&&n.nodeType===ye.text&&(a=n.textContent,ke([ze,We,Ge],A=>{a=_e(a,A," ")}),n.textContent!==a&&(Ee(e.removed,{element:n.cloneNode()}),n.textContent=a)),F(I.afterSanitizeElements,n,null),!1)},Dt=function(n,a,u){if(yt&&(a==="id"||a==="name")&&(u in t||u in xn))return!1;if(!(je&&!Ye[a]&&O(Ln,a))){if(!(_t&&O(vn,a))){if(!L[a]||Ye[a]){if(!(xt(n)&&(y.tagNameCheck instanceof RegExp&&O(y.tagNameCheck,n)||y.tagNameCheck instanceof Function&&y.tagNameCheck(n))&&(y.attributeNameCheck instanceof RegExp&&O(y.attributeNameCheck,a)||y.attributeNameCheck instanceof Function&&y.attributeNameCheck(a))||a==="is"&&y.allowCustomizedBuiltInElements&&(y.tagNameCheck instanceof RegExp&&O(y.tagNameCheck,u)||y.tagNameCheck instanceof Function&&y.tagNameCheck(u))))return!1}else if(!Ke[a]){if(!O(pt,_e(u,ht,""))){if(!((a==="src"||a==="xlink:href"||a==="href")&&n!=="script"&&ti(u,"data:")===0&&bt[n])){if(!(Tt&&!O(Rn,_e(u,ht,"")))){if(u)return!1}}}}}}return!0},xt=function(n){return n!=="annotation-xml"&&Xt(n,Mn)},kt=function(n){F(I.beforeSanitizeAttributes,n,null);const{attributes:a}=n;if(!a||et(n))return;const u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:L,forceKeepAttr:void 0};let A=a.length;for(;A--;){const v=a[A],{name:S,namespaceURI:D,value:B}=v,pe=C(S),tt=B;let R=S==="value"?tt:ni(tt);if(u.attrName=pe,u.attrValue=R,u.keepAttr=!0,u.forceKeepAttr=void 0,F(I.uponSanitizeAttribute,n,u),R=u.attrValue,Nt&&(pe==="id"||pe==="name")&&(se(S,n),R=In+R),Me&&O(/((--!?|])>)|<\/(style|title)/i,R)){se(S,n);continue}if(u.forceKeepAttr)continue;if(!u.keepAttr){se(S,n);continue}if(!At&&O(/\/>/i,R)){se(S,n);continue}J&&ke([ze,We,Ge],Ht=>{R=_e(R,Ht," ")});const Pt=C(n.nodeName);if(!Dt(Pt,pe,R)){se(S,n);continue}if(M&&typeof E=="object"&&typeof E.getAttributeType=="function"&&!D)switch(E.getAttributeType(Pt,pe)){case"TrustedHTML":{R=M.createHTML(R);break}case"TrustedScriptURL":{R=M.createScriptURL(R);break}}if(R!==tt)try{D?n.setAttributeNS(D,S,R):n.setAttribute(S,R),et(n)?H(n):jt(e.removed)}catch{se(S,n)}}F(I.afterSanitizeAttributes,n,null)},Pn=function m(n){let a=null;const u=Ot(n);for(F(I.beforeSanitizeShadowDOM,n,null);a=u.nextNode();)F(I.uponSanitizeShadowNode,a,null),wt(a),kt(a),a.content instanceof r&&m(a.content);F(I.afterSanitizeShadowDOM,n,null)};return e.sanitize=function(m){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=null,u=null,A=null,v=null;if(Ze=!m,Ze&&(m="<!-->"),typeof m!="string"&&!$t(m))if(typeof m.toString=="function"){if(m=m.toString(),typeof m!="string")throw Te("dirty is not a string, aborting")}else throw Te("toString is not a function");if(!e.isSupported)return m;if(Xe||Je(n),e.removed=[],typeof m=="string"&&(fe=!1),fe){if(m.nodeName){const B=C(m.nodeName);if(!b[B]||de[B])throw Te("root node is forbidden and cannot be sanitized in-place")}}else if(m instanceof f)a=It("<!---->"),u=a.ownerDocument.importNode(m,!0),u.nodeType===ye.element&&u.nodeName==="BODY"||u.nodeName==="HTML"?a=u:a.appendChild(u);else{if(!ee&&!J&&!j&&m.indexOf("<")===-1)return M&&Oe?M.createHTML(m):m;if(a=It(m),!a)return ee?null:Oe?me:""}a&&Ve&&H(a.firstChild);const S=Ot(fe?m:a);for(;A=S.nextNode();)wt(A),kt(A),A.content instanceof r&&Pn(A.content);if(fe)return m;if(ee){if(Ie)for(v=Sn.call(a.ownerDocument);a.firstChild;)v.appendChild(a.firstChild);else v=a;return(L.shadowroot||L.shadowrootmode)&&(v=Cn.call(i,v,!0)),v}let D=j?a.outerHTML:a.innerHTML;return j&&b["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&O(mn,a.ownerDocument.doctype.name)&&(D="<!DOCTYPE "+a.ownerDocument.doctype.name+`>
`+D),J&&ke([ze,We,Ge],B=>{D=_e(D,B," ")}),M&&Oe?M.createHTML(D):D},e.setConfig=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Je(m),Xe=!0},e.clearConfig=function(){oe=null,Xe=!1},e.isValidAttribute=function(m,n,a){oe||Je({});const u=C(m),A=C(n);return Dt(u,A,a)},e.addHook=function(m,n){typeof n=="function"&&Ee(I[m],n)},e.removeHook=function(m,n){if(n!==void 0){const a=Jn(I[m],n);return a===-1?void 0:ei(I[m],a,1)[0]}return jt(I[m])},e.removeHooks=function(m){I[m]=[]},e.removeAllHooks=function(){I=Jt()},e}var Ei=dn();class ce{static createFromRenderer(e,...t){const i=document.createElement("div");return qn(e(...t),i),i.firstElementChild}static sanitizeHTML(e){return Ei.sanitize(e)}}class _i{static onClickOnPageBody(e){document.body.addEventListener("click",t=>{queueMicrotask(()=>{e(t)})})}}var W=(s=>(s.BOLD="bold",s.ITALIC="italic",s.UNDERLINE="underline",s.STRIKE_THROUGH="strike-through",s))(W||{}),re=(s=>(s.NUMBERED_LIST="numbered-list",s.BULLET_LIST="bullet-list",s))(re||{});class fn{static getClosestElementOfNode(e,t){let i=e;const o=G.getContentElement();for(;i&&o.contains(i);){if(t(i))return i;i=i.parentNode}return null}static getTopBlockElementFromNode(e){let t=e,i=null;const o=G.getContentElement(),r=G.getContentElementName();for(;t&&o.contains(t);)if(t=t.closest("p"),t.parentElement?.classList.contains(r)){i=t;break}return i?.tagName!=="P"?null:i}}class Ti{constructor(){this.currentTagName=""}makeBulletList(){}getClosestLiElement(e=window.getSelection()){if(!e||e.rangeCount===0)return null;let t=e.anchorNode;return t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode),t&&t.closest("li")}indentifyListTypeAtCaret(){const e=this.getClosestLiElement(null);if(!e)return null;const t=e.parentElement;return t?t.tagName==="OL"?{listingType:re.NUMBERED_LIST,liElement:e}:t.tagName==="UL"?{listingType:re.BULLET_LIST,liElement:e}:null:null}makeNumberedList(e,t){const i=window.getSelection();if(!(!i||i.rangeCount===0)&&t){e.preventDefault();const r=i.getRangeAt(0).extractContents(),l=document.createElement("li");r.textContent?l.appendChild(r):l.innerHTML="<br>",t.insertAdjacentElement("afterend",l);const f=document.createRange();f.setStart(l,0),f.collapse(!0),i.removeAllRanges(),i.addRange(f)}}makeList(e){if(e.key!=="Enter")return;const t=this.getClosestLiElement();t&&this.makeNumberedList(e,t)}setCurrentTagName(e){this.currentTagName=e===re.NUMBERED_LIST?"ol":"ul"}handleKeyDownEvent(e){this.makeList(e)}createListing(e,t){this.setCurrentTagName(e);const i=t.anchorNode,o=i.parentNode,r=fn.getTopBlockElementFromNode(i.nodeType===Node.TEXT_NODE?o:i);if(r)if(r.firstElementChild?.tagName===this.currentTagName){const l=o.tagName==="LI"?o:o.closest("li");if(l){const f=document.createElement("li");f.innerHTML="<br>",l.insertAdjacentElement("afterend",f)}}else{const l=r.childNodes,f=document.createElement(this.currentTagName),c=document.createElement("li");c.innerHTML="<br>",c.replaceChildren(...l),f.appendChild(c),r.replaceChildren(f)}}}const hn=new Ti;class Ai{constructor(){this.contentElementName="NAME-editor-content",this.contentElement=this.initContentEl(),this.initEventListeners()}getContentElementName(){return this.contentElementName}initContentEl(){const e=()=>Z`
        <div
          class="${this.contentElementName} p-4 min-h-[300px] outline-none"
          contenteditable="true"
          spellcheck="false"
        ></div>
      `;return ce.createFromRenderer(e)}bindKeydownEventListener(){this.contentElement.addEventListener("keydown",e=>{queueMicrotask(()=>{hn.handleKeyDownEvent(e)})})}initEventListeners(){this.bindKeydownEventListener()}getContentElement(){return this.contentElement}checkIsFocusingInEditorContent(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return!t||!this.contentElement.contains(t)?null:e}}const G=new Ai;class yi{constructor(){this.frameEl=this.initFrameEl()}initFrameEl(){const e=()=>Z`<div class="editor-frame w-full max-w-3xl mx-auto border rounded-lg shadow bg-white"></div>`;return ce.createFromRenderer(e)}getFrameElement(){return this.frameEl}}const Ne=new yi;class pn{constructor(e){this.element=e,this.command=e.getAttribute("data-command")||"",this.value=e.getAttribute("data-value")||void 0}onClick(e){this.element.addEventListener("click",()=>{e(this.command,this.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gn={CHILD:2},En=s=>(...e)=>({_$litDirective$:s,values:e});class _n{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{I:Ni}=Xn,en=()=>document.createComment(""),Se=(s,e,t)=>{const i=s._$AA.parentNode,o=e===void 0?s._$AB:e._$AA;if(t===void 0){const r=i.insertBefore(en(),o),l=i.insertBefore(en(),o);t=new Ni(r,l,s,s.options)}else{const r=t._$AB.nextSibling,l=t._$AM,f=l!==s;if(f){let c;t._$AQ?.(s),t._$AM=s,t._$AP!==void 0&&(c=s._$AU)!==l._$AU&&t._$AP(c)}if(r!==o||f){let c=t._$AA;for(;c!==r;){const p=c.nextSibling;i.insertBefore(c,o),c=p}}}return t},V=(s,e,t=s)=>(s._$AI(e,t),s),Si={},bi=(s,e=Si)=>s._$AH=e,Ci=s=>s._$AH,lt=s=>{s._$AR(),s._$AA.remove()};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tn=(s,e,t)=>{const i=new Map;for(let o=e;o<=t;o++)i.set(s[o],o);return i},Tn=En(class extends _n{constructor(s){if(super(s),s.type!==gn.CHILD)throw Error("repeat() can only be used in text expressions")}dt(s,e,t){let i;t===void 0?t=e:e!==void 0&&(i=e);const o=[],r=[];let l=0;for(const f of s)o[l]=i?i(f,l):l,r[l]=t(f,l),l++;return{values:r,keys:o}}render(s,e,t){return this.dt(s,e,t).values}update(s,[e,t,i]){const o=Ci(s),{values:r,keys:l}=this.dt(e,t,i);if(!Array.isArray(o))return this.ut=l,r;const f=this.ut??=[],c=[];let p,_,d=0,g=o.length-1,E=0,T=r.length-1;for(;d<=g&&E<=T;)if(o[d]===null)d++;else if(o[g]===null)g--;else if(f[d]===l[E])c[E]=V(o[d],r[E]),d++,E++;else if(f[g]===l[T])c[T]=V(o[g],r[T]),g--,T--;else if(f[d]===l[T])c[T]=V(o[d],r[T]),Se(s,c[T+1],o[d]),d++,T--;else if(f[g]===l[E])c[E]=V(o[g],r[E]),Se(s,o[d],o[g]),g--,E++;else if(p===void 0&&(p=tn(l,E,T),_=tn(f,d,g)),p.has(f[d]))if(p.has(f[g])){const k=_.get(l[E]),ue=k!==void 0?o[k]:null;if(ue===null){const ve=Se(s,o[d]);V(ve,r[E]),c[E]=ve}else c[E]=V(ue,r[E]),Se(s,o[d],ue),o[k]=null;E++}else lt(o[g]),g--;else lt(o[d]),d++;for(;E<=T;){const k=Se(s,c[T+1]);V(k,r[E]),c[E++]=k}for(;d<=g;){const k=o[d++];k!==null&&lt(k)}return this.ut=l,bi(s,c),Q}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class mt extends _n{constructor(e){if(super(e),this.it=N,e.type!==gn.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===N||e==null)return this._t=void 0,this.it=e;if(e===Q)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}}mt.directiveName="unsafeHTML",mt.resultType=1;const An=En(mt);class Li{constructor(){this.currentStylingType=null,this.parentStylingElement=null,this.tagNamesForStyling={[W.BOLD]:["B","STRONG"],[W.ITALIC]:["I","EM"],[W.UNDERLINE]:["U","INS"],[W.STRIKE_THROUGH]:["S","DEL","STRIKE"]}}getAllAvailableTagNames(){return Object.values(this.tagNamesForStyling).flat()}ifTagNameIsCurrentStyling(e){return this.getCurrentStylingTagNames().includes(e)}setCurrentStylingType(e){this.currentStylingType=e}getCurrentStylingTagNames(){return this.tagNamesForStyling[this.currentStylingType]}getCurrentStylingTagName(){return this.getCurrentStylingTagNames()[0]}setParentStylingElement(e){let t=e.startContainer.nodeType===Node.TEXT_NODE?e.startContainer.parentNode:e.startContainer;t&&(this.parentStylingElement=fn.getClosestElementOfNode(t,i=>this.ifTagNameIsCurrentStyling(i.tagName)&&i.contains(e.endContainer)))}mergeAdjacentStyling(e){let t=e.firstChild;for(;t;){const i=t.nextSibling;if(t.nodeType===Node.ELEMENT_NODE&&i&&i.nodeType===Node.ELEMENT_NODE&&this.ifTagNameIsCurrentStyling(t.tagName)&&t.tagName===i.tagName){for(;i.firstChild;)t.appendChild(i.firstChild);e.removeChild(i);continue}t=i}}unstylingFromSelection(e){const t=this.parentStylingElement;if(!t)return;const i=t.ownerDocument,o=t.tagName,r=e.cloneRange(),l=i.createRange();l.setStart(t,0),l.setEnd(r.startContainer,r.startOffset);const f=i.createRange();f.setStart(r.endContainer,r.endOffset),f.setEnd(t,t.childNodes.length);const c=l.cloneContents(),p=r.cloneContents(),_=f.cloneContents(),d=i.createDocumentFragment();if(c.hasChildNodes()){const g=i.createElement(o);g.appendChild(c),d.appendChild(g)}if(p.hasChildNodes()&&d.appendChild(p),_.hasChildNodes()){const g=i.createElement(o);g.appendChild(_),d.appendChild(g)}t.replaceWith(d)}warpContentByStylingTag(e){const t=e.extractContents(),i=document.createElement(this.getCurrentStylingTagName());return i.appendChild(t),e.insertNode(i),i}findDescendantsSameTag(e){const t=e.tagName,i=[];for(const o in this.tagNamesForStyling){const r=this.tagNamesForStyling[o];r.includes(t)&&i.push(...r)}return Array.from(e.querySelectorAll(i.join(",")))}removeOverlapChildTags(e){const t=this.findDescendantsSameTag(e);for(const i of t)i.replaceWith(...i.childNodes)}makeStylingToTextNodeOutsideTags(e){const t=this.getAllAvailableTagNames(),i=e.childNodes;for(const o of i)if(o.nodeType===Node.TEXT_NODE){if(o.textContent.trim()!==""){const r=document.createElement(this.getCurrentStylingTagName());r.appendChild(o.cloneNode(!0)),o.replaceWith(r);return}}else if(o.nodeType===Node.ELEMENT_NODE){const r=o;if(!t.includes(r.tagName))this.makeStylingToTextNodeOutsideTags(r);else continue}}removeEmptyTags(e){const t=e.children;for(const i of t)if(i.innerHTML===""){i.remove();continue}else i.hasChildNodes()&&this.removeEmptyTags(i)}makeStyling(e,t){if(!e||e.rangeCount===0)return;const i=e.getRangeAt(0);if(!i.collapsed){if(this.setCurrentStylingType(t),this.setParentStylingElement(i),this.parentStylingElement)this.unstylingFromSelection(i);else{const o=this.warpContentByStylingTag(i);this.removeOverlapChildTags(o)}this.parentStylingElement&&this.mergeAdjacentStyling(this.parentStylingElement)}}}const vi=new Li;class Ri{constructor(){this.actions=[{command:W.BOLD,label:"B",type:"button",className:"font-bold"},{command:W.ITALIC,label:"I",type:"button",className:"italic font-mono text-lg"},{command:W.UNDERLINE,label:"U",type:"button",className:"underline"},{command:W.STRIKE_THROUGH,label:"S",type:"button",className:"line-through"}],this.sectionElement=this.initSectionElement(),this.bindEvents()}getSectionElement(){return this.sectionElement}initSectionElement(){const e=()=>Z`<div class="NAME-text-styling-section flex gap-2">
        ${Tn(this.actions,t=>t.command,t=>Z`<button
              class="NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${t.className}"
              data-command="${t.command}"
            >
              ${An(t.label)}
            </button>`)}
      </div>`;return ce.createFromRenderer(e)}bindButtonEvents(){this.sectionElement.querySelectorAll(".NAME-toolbar-btn").forEach(t=>{new pn(t).onClick(o=>{this.makeStyling(o)})})}bindEvents(){this.bindButtonEvents()}makeStyling(e){const t=G.checkIsFocusingInEditorContent();t&&queueMicrotask(()=>{vi.makeStyling(t,e)})}}const Mi=new Ri;class Ii{constructor(){this.actions=[{command:re.NUMBERED_LIST,label:'<i class="bi bi-list-ol"></i>',type:"button",className:"text-2xl font-bold"},{command:re.BULLET_LIST,label:'<i class="bi bi-list-ul"></i>',type:"button",className:"text-2xl font-bold"}],this.sectionElement=this.initSectionElement(),this.bindEvents()}initSectionElement(){const e=()=>Z`<div class="NAME-text-listing-section flex gap-2">
      ${Tn(this.actions,t=>t.command,t=>Z`<button
            class="NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${t.className}"
            data-command="${t.command}"
          >
            ${An(t.label)}
          </button>`)}
    </div>`;return ce.createFromRenderer(e)}getSectionElement(){return this.sectionElement}bindButtonEvents(){this.sectionElement.querySelectorAll(".NAME-toolbar-btn").forEach(t=>{new pn(t).onClick(o=>{this.createListing(o)})})}bindEvents(){this.bindButtonEvents()}createListing(e){const t=G.checkIsFocusingInEditorContent();t&&queueMicrotask(()=>{hn.createListing(e,t)})}}const Oi=new Ii;class $i{constructor(){this.toolbarEl=this.initToolbarEl(),this.toolbarEl.appendChild(Mi.getSectionElement()),this.toolbarEl.appendChild(Oi.getSectionElement())}initToolbarEl(){const e=()=>Z`<div class="editor-toolbar border-b px-2 py-1 flex gap-2 items-stretch"></div>`;return ce.createFromRenderer(e)}getToolbarElement(){return this.toolbarEl}}const nn=new $i,wi="codevcn-editor-root";class Di{constructor(e,t="append"){const i=document.getElementById(e);if(!i)throw new Error(`Container with id ${e} not found`);this.editorWrapper=i,Ne.getFrameElement().appendChild(nn.getToolbarElement()),Ne.getFrameElement().appendChild(G.getContentElement()),t==="append"?this.editorWrapper.appendChild(Ne.getFrameElement()):this.editorWrapper.replaceWith(Ne.getFrameElement())}getContent(){return G.getContentElement().innerHTML}setContent(e){G.getContentElement().innerHTML=ce.sanitizeHTML(e)}getToolbarElement(){return nn.getToolbarElement()}getContentElement(){return G.getContentElement()}getFrameElement(){return Ne.getFrameElement()}}const xi=new Di(wi),ki=()=>{xi.setContent("<p>Xin chào! Đây là <ins>phần mới</ins> của <b>văn b</b>ản.</p>"),_i.onClickOnPageBody(s=>{s.target})};ki();
