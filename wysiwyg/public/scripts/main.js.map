{"version":3,"file":"main.js","sources":["../../../wysiwyg-build/node_modules/lit-html/lit-html.js","../../../wysiwyg-build/scripts/enums/global-enums.ts","../../../wysiwyg-build/scripts/lib/artifact/engine/codevcn-editor.engine.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-listing/text-listing.stylish.ts","../../../wysiwyg-build/scripts/helpers/error-helper.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-blocking/blockquote/blockquote.stylish.ts","../../../wysiwyg-build/node_modules/dompurify/dist/purify.es.mjs","../../../wysiwyg-build/scripts/helpers/common-helpers.ts","../../../wysiwyg-build/scripts/lib/components/modal.ts","../../../wysiwyg-build/scripts/lib/components/managers/modal.manager.ts","../../../wysiwyg-build/node_modules/axios/lib/helpers/bind.js","../../../wysiwyg-build/node_modules/axios/lib/utils.js","../../../wysiwyg-build/node_modules/axios/lib/core/AxiosError.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/null.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/toFormData.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/buildURL.js","../../../wysiwyg-build/node_modules/axios/lib/core/InterceptorManager.js","../../../wysiwyg-build/node_modules/axios/lib/defaults/transitional.js","../../../wysiwyg-build/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../../wysiwyg-build/node_modules/axios/lib/platform/browser/classes/FormData.js","../../../wysiwyg-build/node_modules/axios/lib/platform/browser/classes/Blob.js","../../../wysiwyg-build/node_modules/axios/lib/platform/browser/index.js","../../../wysiwyg-build/node_modules/axios/lib/platform/common/utils.js","../../../wysiwyg-build/node_modules/axios/lib/platform/index.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/toURLEncodedForm.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/formDataToJSON.js","../../../wysiwyg-build/node_modules/axios/lib/defaults/index.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/parseHeaders.js","../../../wysiwyg-build/node_modules/axios/lib/core/AxiosHeaders.js","../../../wysiwyg-build/node_modules/axios/lib/core/transformData.js","../../../wysiwyg-build/node_modules/axios/lib/cancel/isCancel.js","../../../wysiwyg-build/node_modules/axios/lib/cancel/CanceledError.js","../../../wysiwyg-build/node_modules/axios/lib/core/settle.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/parseProtocol.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/speedometer.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/throttle.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/progressEventReducer.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/cookies.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/combineURLs.js","../../../wysiwyg-build/node_modules/axios/lib/core/buildFullPath.js","../../../wysiwyg-build/node_modules/axios/lib/core/mergeConfig.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/resolveConfig.js","../../../wysiwyg-build/node_modules/axios/lib/adapters/xhr.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/composeSignals.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/trackStream.js","../../../wysiwyg-build/node_modules/axios/lib/adapters/fetch.js","../../../wysiwyg-build/node_modules/axios/lib/adapters/adapters.js","../../../wysiwyg-build/node_modules/axios/lib/core/dispatchRequest.js","../../../wysiwyg-build/node_modules/axios/lib/env/data.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/validator.js","../../../wysiwyg-build/node_modules/axios/lib/core/Axios.js","../../../wysiwyg-build/node_modules/axios/lib/cancel/CancelToken.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/spread.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/isAxiosError.js","../../../wysiwyg-build/node_modules/axios/lib/helpers/HttpStatusCode.js","../../../wysiwyg-build/node_modules/axios/lib/axios.js","../../../wysiwyg-build/node_modules/axios/index.js","../../../wysiwyg-build/scripts/services/codevcn-editor.service.ts","../../../wysiwyg-build/node_modules/lit-html/directives/if-defined.js","../../../wysiwyg-build/scripts/lib/components/skeleton.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/image-blocking/image-blocking.stylish.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/image-blocking/add-image.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/event/event-emitter.ts","../../../wysiwyg-build/scripts/lib/artifact/engine/wrapping.engine.ts","../../../wysiwyg-build/scripts/lib/artifact/engine/preparation.engine.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-styling/text-styling.stylish.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-linking/text-linking.stylish.ts","../../../wysiwyg-build/scripts/lib/components/popover.ts","../../../wysiwyg-build/scripts/helpers/page-layout-helper.ts","../../../wysiwyg-build/scripts/lib/components/managers/popover.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-linking/text-linking.manager.ts","../../../wysiwyg-build/node_modules/prismjs/prism.js","../../../wysiwyg-build/node_modules/prismjs/components/prism-clike.js","../../../wysiwyg-build/node_modules/prismjs/components/prism-javascript.js","../../../wysiwyg-build/node_modules/prismjs/components/prism-python.js","../../../wysiwyg-build/scripts/lib/artifact/toolbar/code-blocking/code-blocking.stylish.ts","../../../wysiwyg-build/node_modules/lit-html/directive.js","../../../wysiwyg-build/node_modules/lit-html/directive-helpers.js","../../../wysiwyg-build/node_modules/lit-html/directives/repeat.js","../../../wysiwyg-build/scripts/lib/components/table.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/table-placing/table-placing.stylish.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/table-placing/table-placing.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/content/editor.content.ts","../../../wysiwyg-build/scripts/lib/artifact/frame/editor.frame.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/toolbar-button.ts","../../../wysiwyg-build/node_modules/lit-html/directives/unsafe-html.js","../../../wysiwyg-build/scripts/lib/components/dropdown.ts","../../../wysiwyg-build/scripts/lib/components/managers/dropdown.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-styling/text-styling.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-listing/text-listing.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-blocking/blockquote/blockquote.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/image-blocking/image-blocking.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-linking/text-linking.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/code-blocking/code-block-view.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/code-blocking/code-blocking.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/code-blocking/code-blocking.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-heading/text-heading.stylish.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-heading/text-heading.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/table-placing/table-placing.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/editor.toolbar.ts","../../../wysiwyg-build/scripts/lib/artifact/codevcn-editor.ts","../../../wysiwyg-build/scripts/main.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","export enum ETextStylingType {\r\n  BOLD = \"text-styling-bold\",\r\n  ITALIC = \"text-styling-italic\",\r\n  UNDERLINE = \"text-styling-underline\",\r\n  STRIKE_THROUGH = \"text-styling-strike-through\",\r\n}\r\n\r\nexport enum ETextHeadingType {\r\n  HEADING_1 = \"text-heading-1\",\r\n  HEADING_2 = \"text-heading-2\",\r\n  HEADING_3 = \"text-heading-3\",\r\n  PARAGRAPH = \"text-heading-paragraph\",\r\n}\r\n\r\nexport enum ETextListingType {\r\n  NUMBERED_LIST = \"text-listing-numbered-list\",\r\n  BULLET_LIST = \"text-listing-bullet-list\",\r\n}\r\n\r\nexport enum ERenderingMode {\r\n  APPEND = \"rendering-mode-append\",\r\n  REPLACE = \"rendering-mode-replace\",\r\n}\r\n\r\nexport enum EBlockquoteType {\r\n  BLOCKQUOTE = \"text-blocking-blockquote\",\r\n}\r\n\r\nexport enum EImageBlockingType {\r\n  IMAGE_BLOCKING = \"image-blocking\",\r\n}\r\n\r\nexport enum ETextLinkingType {\r\n  TEXT_LINKING = \"text-linking\",\r\n}\r\n\r\nexport enum ECodeBlockingType {\r\n  CODE_BLOCKING = \"code-blocking\",\r\n}\r\n\r\nexport enum ETablePlacingType {\r\n  TABLE_PLACING = \"table-placing\",\r\n}\r\n\r\nexport enum EToolbarAction {\r\n  BOLD = \"text-styling-bold\",\r\n  ITALIC = \"text-styling-italic\",\r\n  UNDERLINE = \"text-styling-underline\",\r\n  STRIKE_THROUGH = \"text-styling-strike-through\",\r\n  RESIZE = \"text-styling-resize\",\r\n  NUMBERED_LIST = \"text-listing-numbered-list\",\r\n  BULLET_LIST = \"text-listing-bullet-list\",\r\n  BLOCKQUOTE = \"text-blocking-blockquote\",\r\n  IMAGE_BLOCKING = \"image-blocking\",\r\n  TEXT_LINKING = \"text-linking\",\r\n  CODE_BLOCKING = \"code-blocking\",\r\n  TABLE_PLACING = \"table-placing\",\r\n}\r\n\r\nexport enum EErrorMessage {\r\n  ANCHOR_NODE_NOT_FOUND_OR_NOT_ELEMENT = \"Anchor node was not found or not an element\",\r\n  QUOTE_LINE_ELEMENT_NOT_FOUND = \"Quote line element not found\",\r\n  INVALID_UPLOAD_IMAGE_URL = \"Invalid upload image URL\",\r\n  IMAGE_SIZE_TOO_LARGE = \"Image size too large\",\r\n  INVALID_IMAGE_TYPE = \"Invalid image type\",\r\n  MAX_IMAGES_COUNT_TOO_LARGE = \"Max images count too large\",\r\n  SELECTION_NOT_FOUND = \"Selection not found in editor content\",\r\n  SELECTION_NOT_FOUND_AFTER_RESTORE = \"Selection not found after restore caret position\",\r\n  ONLY_SUPPORT_IMAGE_FILE = \"Only support image file\",\r\n  TOP_BLOCK_NOT_FOUND = \"Top block element not found\",\r\n  TEXT_LINK_FORM_NOT_FOUND = \"Text link form not found\",\r\n  LOADED_CODE_BLOCK_MODULES_NOT_FOUND = \"Loaded code block modules not found\",\r\n}\r\n\r\nexport enum ENotifyType {\r\n  SUCCESS = \"success\",\r\n  ERROR = \"error\",\r\n  WARNING = \"warning\",\r\n  INFO = \"info\",\r\n}\r\n\r\nexport enum EInternalEvents {\r\n  BIND_TEXT_LINK_POPOVER_EVENT = \"bind-text-link-popover-event\",\r\n}\r\n\r\nexport enum ECodeBlockingLanguage {\r\n  JAVASCRIPT = \"javascript\",\r\n  CPP = \"cpp\",\r\n  PYTHON = \"python\",\r\n}\r\n","import { editorContent } from \"@/lib/artifact/content/editor.content.js\"\r\nimport { ENotifyType } from \"@/enums/global-enums.js\"\r\nimport type { TWrapperSelector } from \"@/types/global-types.js\"\r\n\r\ntype TIsEmptyTopBlockResult = {\r\n  topBlockElement: HTMLElement | null\r\n  isEmpty: boolean\r\n}\r\n\r\nexport class CodeVCNEditorEngine {\r\n  static readonly topBlockElementTagName: string = \"SECTION\"\r\n  private static savedCaretPosition: Range | null = null\r\n\r\n  constructor() {}\r\n\r\n  static getSavedCaretPosition(): Range | null {\r\n    return this.savedCaretPosition\r\n  }\r\n\r\n  static checkIsFocusingInEditorContent(): Selection | null {\r\n    const selection = window.getSelection()\r\n    if (!selection || selection.rangeCount === 0) return null\r\n    const { anchorNode, focusNode } = selection\r\n    if (!anchorNode || !focusNode) return null\r\n    const contentElement = editorContent.getContentElement()\r\n    if (!contentElement.contains(anchorNode) || !contentElement.contains(focusNode)) return null\r\n    if (contentElement.isSameNode(anchorNode) || contentElement.isSameNode(focusNode)) return null\r\n    return selection\r\n  }\r\n  /**\r\n   * Kiểm tra xem top block hiện tại có rỗng không, rỗng là khi innerHTML === \"\" hoặc innerHTML === \"<br>\"\r\n   */\r\n  static isEmptyTopBlock(selection: Selection): TIsEmptyTopBlockResult {\r\n    const topBlockElement = this.getTopBlockElementFromSelection(selection)\r\n    if (topBlockElement) {\r\n      const trimmedInnerHTML = topBlockElement.innerHTML.trim()\r\n      if (trimmedInnerHTML === \"\" || trimmedInnerHTML === \"<br>\") {\r\n        return {\r\n          topBlockElement,\r\n          isEmpty: true,\r\n        }\r\n      }\r\n      return {\r\n        topBlockElement,\r\n        isEmpty: false,\r\n      }\r\n    }\r\n    return {\r\n      topBlockElement: null,\r\n      isEmpty: false,\r\n    }\r\n  }\r\n\r\n  static createNewEmptyTopBlockElement(): HTMLElement {\r\n    const newBlock = document.createElement(\"section\")\r\n    newBlock.innerHTML = \"<br>\"\r\n    return newBlock\r\n  }\r\n\r\n  static getClosestParentOfElement<TElementType extends HTMLElement = HTMLElement>(\r\n    startNode: HTMLElement,\r\n    selector: TWrapperSelector\r\n  ): TElementType | null {\r\n    let currentElement: HTMLElement | null = startNode\r\n    const editorContentElement = editorContent.getContentElement()\r\n    while (currentElement && editorContentElement.contains(currentElement)) {\r\n      if (selector(currentElement)) {\r\n        return currentElement as TElementType\r\n      }\r\n      currentElement = currentElement.parentElement\r\n    }\r\n    return null\r\n  }\r\n\r\n  static getTopBlockElementFromElement(startElement: HTMLElement): HTMLElement | null {\r\n    let currentElement: HTMLElement = startElement\r\n    if (currentElement.tagName === this.topBlockElementTagName) {\r\n      return currentElement\r\n    }\r\n    let topBlockElement: HTMLElement | null = null\r\n    topBlockElement = currentElement.closest<HTMLElement>(this.topBlockElementTagName)\r\n    if (topBlockElement && editorContent.getContentElement().contains(topBlockElement)) {\r\n      return topBlockElement\r\n    }\r\n    return null\r\n  }\r\n\r\n  static getTopBlockElementFromSelection(selection: Selection): HTMLElement | null {\r\n    const anchorNode = selection.anchorNode\r\n    if (!anchorNode) return null\r\n    return this.getTopBlockElementFromElement(\r\n      anchorNode.nodeType === Node.TEXT_NODE ? (anchorNode.parentElement as HTMLElement) : (anchorNode as HTMLElement)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Tạo 1 block mới và đặt caret vào block mới\r\n   * @returns Block mới đã được chèn\r\n   */\r\n  static insertNewTopBlockElementAfterElement(selection: Selection, element?: HTMLElement): HTMLElement {\r\n    let newBlockElement: HTMLElement\r\n\r\n    if (element) {\r\n      // Insert vào sau 1 element\r\n      const topBlockElement = this.getTopBlockElementFromElement(element)!\r\n      newBlockElement = this.createNewEmptyTopBlockElement()\r\n      topBlockElement.insertAdjacentElement(\"afterend\", newBlockElement)\r\n    } else {\r\n      newBlockElement = this.insertNewEmptyTopBlockElement()\r\n    }\r\n\r\n    // Đặt caret vào block mới\r\n    this.moveCaretToElement(newBlockElement, selection, selection.getRangeAt(0))\r\n\r\n    return newBlockElement\r\n  }\r\n\r\n  /**\r\n   * Đặt caret vào đầu text node đầu tiên bên trong element\r\n   * @param element HTML element để đặt caret vào bên trong\r\n   * @param selection Selection object từ window.getSelection()\r\n   * @param selectionRange Range object từ selection.getRangeAt(0)\r\n   */\r\n  static moveCaretToElement(\r\n    element: HTMLElement,\r\n    selection: Selection,\r\n    selectionRange: Range,\r\n    position: \"start\" | \"end\" = \"start\"\r\n  ): void {\r\n    let firstTextNode = element.firstChild\r\n    if (firstTextNode) {\r\n      if (firstTextNode.nodeType !== Node.TEXT_NODE) {\r\n        firstTextNode = document.createTextNode(\"\")\r\n        element.prepend(firstTextNode)\r\n      }\r\n    } else {\r\n      firstTextNode = document.createTextNode(\"\")\r\n      element.prepend(firstTextNode)\r\n    }\r\n    selectionRange.selectNodeContents(element)\r\n    selectionRange.collapse(position === \"start\")\r\n    selection.removeAllRanges()\r\n    selection.addRange(selectionRange)\r\n  }\r\n\r\n  static getNextTopBlockElementFromCurrentTopBlock(currentTopBlockElement: HTMLElement): HTMLElement | null {\r\n    let nextElementSibling = currentTopBlockElement.nextElementSibling\r\n    while (nextElementSibling && nextElementSibling.tagName !== this.topBlockElementTagName) {\r\n      nextElementSibling = nextElementSibling.nextElementSibling\r\n    }\r\n    return (nextElementSibling || null) as HTMLElement | null\r\n  }\r\n\r\n  static getNextTopBlockElementFromCurrentCaret(selection: Selection): HTMLElement | null {\r\n    const currentTopBlockElement = this.getTopBlockElementFromSelection(selection)\r\n    if (currentTopBlockElement) {\r\n      return this.getNextTopBlockElementFromCurrentTopBlock(currentTopBlockElement)\r\n    }\r\n    return null\r\n  }\r\n\r\n  static moveCaretToStartOfNextTopBlock(selection: Selection): void {\r\n    const nextTopBlockElement = this.getNextTopBlockElementFromCurrentCaret(selection)\r\n    if (nextTopBlockElement) {\r\n      this.moveCaretToElement(nextTopBlockElement, selection, selection.getRangeAt(0))\r\n    } else {\r\n      this.moveCaretToElement(this.insertNewEmptyTopBlockElement(), selection, selection.getRangeAt(0))\r\n    }\r\n  }\r\n\r\n  static getPreviousTopBlockElementFromCurrentTopBlock(currentTopBlockElement: HTMLElement): HTMLElement | null {\r\n    let previousElementSibling = currentTopBlockElement.previousElementSibling\r\n    while (previousElementSibling && previousElementSibling.tagName !== this.topBlockElementTagName) {\r\n      previousElementSibling = previousElementSibling.previousElementSibling\r\n    }\r\n    return (previousElementSibling || null) as HTMLElement | null\r\n  }\r\n\r\n  static getPreviousTopBlockElementFromCurrentCaret(selection: Selection): HTMLElement | null {\r\n    const currentTopBlockElement = this.getTopBlockElementFromSelection(selection)\r\n    if (currentTopBlockElement) {\r\n      return this.getPreviousTopBlockElementFromCurrentTopBlock(currentTopBlockElement)\r\n    }\r\n    return null\r\n  }\r\n\r\n  static moveCaretToPreviousTopBlock(selection: Selection): void {\r\n    const previousTopBlockElement = this.getPreviousTopBlockElementFromCurrentCaret(selection)\r\n    if (previousTopBlockElement) {\r\n      this.moveCaretToElement(previousTopBlockElement, selection, selection.getRangeAt(0), \"end\")\r\n    } else {\r\n      this.moveCaretToElement(this.insertNewEmptyTopBlockElement(), selection, selection.getRangeAt(0))\r\n    }\r\n  }\r\n\r\n  static findLatestTopBlockElement(): HTMLElement | null {\r\n    return editorContent.getContentElement().lastElementChild as HTMLElement | null\r\n  }\r\n\r\n  static insertNewEmptyTopBlockElement(): HTMLElement {\r\n    const newBlockElement = this.createNewEmptyTopBlockElement()\r\n    editorContent.getContentElement().appendChild(newBlockElement)\r\n    return newBlockElement\r\n  }\r\n\r\n  static focusCaretAtEndOfEditorContent(): Selection | null {\r\n    const contentElement = editorContent.getContentElement()\r\n\r\n    const range = document.createRange()\r\n    const lastElementChild = contentElement.lastElementChild\r\n\r\n    if (lastElementChild) {\r\n      // nếu editor content có element con cuối cùng thì caret ở cuối element con đó\r\n      range.selectNodeContents(lastElementChild)\r\n      range.collapse(false)\r\n    } else if (contentElement.innerHTML === \"\") {\r\n      // nếu rỗng thì collapse trong content element\r\n      const newBlockElement = this.insertNewEmptyTopBlockElement()\r\n      range.selectNodeContents(newBlockElement)\r\n      range.collapse(false)\r\n    }\r\n\r\n    const selection = window.getSelection()\r\n    if (!selection) return null\r\n\r\n    contentElement.focus()\r\n    selection.removeAllRanges()\r\n    selection.addRange(range)\r\n\r\n    return selection\r\n  }\r\n\r\n  static removeEmptyElements(...elements: HTMLElement[]): void {\r\n    for (const element of elements) {\r\n      if (this.isEmptyElement(element)) {\r\n        element.remove()\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Xóa tất cả các element con rỗng trong container.\r\n   * \"Rỗng\" nghĩa là:\r\n   *  - Không có text node chứa ký tự (kể cả khoảng trắng),\r\n   *  - Và không có element con nào khác còn lại sau khi kiểm tra.\r\n   */\r\n  static removeEmptyChildElements(container: HTMLElement): void {\r\n    const children = Array.from(container.children)\r\n    for (const child of children) {\r\n      if (child instanceof HTMLElement) {\r\n        // Kiểm tra đệ quy các con trước\r\n        this.removeEmptyChildElements(child)\r\n        if (this.isEmptyElement(child)) {\r\n          child.remove()\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Kiểm tra element có rỗng không bằng cách duyệt các child node trực tiếp.\r\n   * Trả về true nếu element ko có text node nào hoặc element có ít nhất 1 element con (element con này chưa biết có rỗng hay ko)\r\n   */\r\n  static isEmptyElement(element: HTMLElement): boolean {\r\n    for (const node of element.childNodes) {\r\n      if (node.nodeType === Node.TEXT_NODE) {\r\n        // Nếu có bất kỳ text node nào (kể cả toàn dấu cách, xuống dòng),\r\n        // thì ta coi element này là KHÔNG rỗng\r\n        if ((node as Text).data.length > 0) {\r\n          return false\r\n        }\r\n      } else if (node.nodeType === Node.ELEMENT_NODE) {\r\n        // Nếu còn phần tử con thì không rỗng\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  static checkIfElementContainsText(element: HTMLElement): boolean {\r\n    const walker = document.createTreeWalker(element, NodeFilter.SHOW_TEXT, {\r\n      acceptNode(node) {\r\n        // Nếu node có độ dài > 0 (bao gồm khoảng trắng), thì coi là có text\r\n        return node.nodeValue && node.nodeValue.length > 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT\r\n      },\r\n    })\r\n    return !!walker.nextNode()\r\n  }\r\n\r\n  static getDeepestChildOfElement(element: HTMLElement): HTMLElement | null {\r\n    let currentElement: HTMLElement = element\r\n    while (currentElement.lastChild && currentElement.lastChild instanceof HTMLElement) {\r\n      currentElement = currentElement.lastChild as HTMLElement\r\n    }\r\n    return currentElement\r\n  }\r\n\r\n  static insertElementAfterElement(beforeElement: HTMLElement, afterElement: HTMLElement): void {\r\n    beforeElement.insertAdjacentElement(\"afterend\", afterElement)\r\n  }\r\n\r\n  /**\r\n   * Chia element thành 2 phần (before và after), sau đó focus caret vào element sau (element after), nếu caretAtMiddle là true thì focus caret vào element giữa (element middle)\r\n   * @param element html element\r\n   * @param selection selection\r\n   * @returns 2 element mới (before và after) hoặc 3 element mới (before, middle và after)\r\n   */\r\n  static splitElementInHalfAtCaret(\r\n    element: HTMLElement,\r\n    selection: Selection,\r\n    caretAtMiddle: boolean = false\r\n  ): HTMLElement[] {\r\n    const range = selection.getRangeAt(0)\r\n\r\n    // Đoạn trước caret\r\n    const beforeRange = range.cloneRange()\r\n    beforeRange.setStartBefore(element)\r\n    const beforeFrag = beforeRange.extractContents()\r\n\r\n    // Đoạn sau caret\r\n    const afterRange = range.cloneRange()\r\n    afterRange.setEndAfter(element)\r\n    const afterFrag = afterRange.extractContents()\r\n\r\n    const beforeElement = beforeFrag.firstElementChild as HTMLElement\r\n    if (!this.checkIfElementContainsText(beforeElement)) {\r\n      const deepestChild = this.getDeepestChildOfElement(beforeElement)\r\n      if (deepestChild) {\r\n        deepestChild.innerHTML = \"<br>\"\r\n      } else {\r\n        beforeElement.innerHTML = \"<br>\"\r\n      }\r\n    }\r\n    const afterElement = afterFrag.firstElementChild as HTMLElement\r\n    if (!this.checkIfElementContainsText(afterElement)) {\r\n      const deepestChild = this.getDeepestChildOfElement(afterElement)\r\n      if (deepestChild) {\r\n        deepestChild.innerHTML = \"<br>\"\r\n      } else {\r\n        afterElement.innerHTML = \"<br>\"\r\n      }\r\n    }\r\n\r\n    const newElements: HTMLElement[] = [beforeElement, afterElement]\r\n    if (caretAtMiddle) {\r\n      const middleElement = document.createElement(element.tagName)\r\n      middleElement.innerHTML = \"<br>\"\r\n      newElements[1] = middleElement\r\n      newElements[2] = afterElement\r\n    }\r\n\r\n    // Thay thế element cũ bằng 2 element mới\r\n    element.replaceWith(...newElements)\r\n\r\n    // Focus caret trong element mới (element after or middle)\r\n    this.moveCaretToElement(newElements[1], selection, document.createRange())\r\n\r\n    return newElements\r\n  }\r\n\r\n  static splitCurrentTopBlockElementAtCaret(selection: Selection, caretAtMiddle: boolean = false): HTMLElement[] {\r\n    const currentTopBlockElement = this.getTopBlockElementFromSelection(selection)\r\n    if (currentTopBlockElement) {\r\n      return this.splitElementInHalfAtCaret(currentTopBlockElement, selection, caretAtMiddle)\r\n    }\r\n    return []\r\n  }\r\n\r\n  static isSelectingContent(): Selection | null {\r\n    const selection = this.checkIsFocusingInEditorContent()\r\n    if (!selection || selection.isCollapsed) return null\r\n    return selection\r\n  }\r\n\r\n  static saveCurrentCaretPosition(selection?: Selection): void {\r\n    if (CodeVCNEditorEngine.checkIsFocusingInEditorContent()) {\r\n      this.savedCaretPosition = selection ? selection.getRangeAt(0) : window.getSelection()?.getRangeAt(0) || null\r\n    }\r\n  }\r\n\r\n  static restoreCaretPosition(): Selection | null {\r\n    if (this.savedCaretPosition) {\r\n      const selection = window.getSelection()\r\n      if (selection) {\r\n        selection.removeAllRanges()\r\n        selection.addRange(this.savedCaretPosition)\r\n        return selection\r\n      }\r\n    }\r\n    return null\r\n  }\r\n\r\n  static insertElementAtCaret(element: HTMLElement, selection: Selection): void {\r\n    selection.getRangeAt(0).insertNode(element)\r\n  }\r\n\r\n  /**\r\n   * Lấy element tại vị trí con trỏ caret hiện tại\r\n   * @param selection Selection object từ window.getSelection()\r\n   * @returns HTMLElement tại vị trí caret hoặc null nếu không tìm thấy\r\n   */\r\n  static getElementAtCaretPosition(selection: Selection): HTMLElement | null {\r\n    const range = selection.getRangeAt(0)\r\n    const container = range.commonAncestorContainer\r\n\r\n    if (container.nodeType === Node.TEXT_NODE) {\r\n      // Nếu container là text node, lấy parent element\r\n      return container.parentElement as HTMLElement\r\n    } else if (container.nodeType === Node.ELEMENT_NODE) {\r\n      // Nếu container là element node\r\n      return container as HTMLElement\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  static notify(type: ENotifyType, message: string) {\r\n    const notificationElement = document.createElement(\"div\")\r\n    notificationElement.className =\r\n      \"fixed top-0 left-0 w-[250px] h-[100px] bg-white border border-gray-400 rounded-md flex items-center p-4 text-black\"\r\n    if (type === ENotifyType.SUCCESS) {\r\n      notificationElement.classList.add(\"bg-green-300\")\r\n    } else if (type === ENotifyType.ERROR) {\r\n      notificationElement.classList.add(\"bg-red-300\")\r\n    } else if (type === ENotifyType.WARNING) {\r\n      notificationElement.classList.add(\"bg-yellow-300\")\r\n    } else if (type === ENotifyType.INFO) {\r\n      notificationElement.classList.add(\"bg-blue-300\")\r\n    }\r\n    notificationElement.innerHTML = message\r\n    document.body.appendChild(notificationElement)\r\n    setTimeout(() => {\r\n      notificationElement.remove()\r\n    }, 2000)\r\n  }\r\n\r\n  static getTopBlockFromSelectionRange(selectionRange: Range): HTMLElement | null {\r\n    let startContainer = selectionRange.startContainer\r\n    if (!(startContainer instanceof HTMLElement)) {\r\n      startContainer = startContainer.parentElement!\r\n    }\r\n    return this.getTopBlockElementFromElement(startContainer as HTMLElement)\r\n  }\r\n\r\n  /**\r\n   * Lấy ra tất cả các top block được bôi đen (selected) trong editor.\r\n   * @returns HTMLElement[] | null - Mảng các top block được bôi đen, hoặc null nếu không bôi đen\r\n   */\r\n  static getSelectedTopBlocksFromRange(selectionRange: Range): HTMLElement[] | null {\r\n    if (selectionRange.collapsed) return null\r\n\r\n    let currentTopBlockElement = this.getTopBlockFromSelectionRange(selectionRange)\r\n    if (!currentTopBlockElement) return null\r\n\r\n    const topBlocks: HTMLElement[] = []\r\n    while (\r\n      currentTopBlockElement &&\r\n      currentTopBlockElement.tagName === this.topBlockElementTagName &&\r\n      selectionRange.intersectsNode(currentTopBlockElement)\r\n    ) {\r\n      topBlocks.push(currentTopBlockElement)\r\n      currentTopBlockElement = this.getNextTopBlockElementFromCurrentTopBlock(currentTopBlockElement)\r\n    }\r\n\r\n    return topBlocks.length > 0 ? topBlocks : null\r\n  }\r\n\r\n  static wrapElementContentsByEmptyElement(element: HTMLElement, emptyElement: HTMLElement): void {\r\n    emptyElement.append(...element.childNodes)\r\n    element.replaceChildren(emptyElement)\r\n  }\r\n\r\n  static getFirstTextNodeFromNode(node: Node): Node | null {\r\n    if (node.nodeType === Node.TEXT_NODE) return node.nodeValue?.trim() ? node : null\r\n    let child = node.firstChild\r\n    while (child) {\r\n      const found = this.getFirstTextNodeFromNode(child)\r\n      if (found) return found\r\n      child = child.nextSibling\r\n    }\r\n    return null\r\n  }\r\n\r\n  static getLastTextNodeFromNode(node: Node): Node | null {\r\n    if (node.nodeType === Node.TEXT_NODE) return node.nodeValue?.trim() ? node : null\r\n    let child = node.lastChild\r\n    while (child) {\r\n      const found = this.getLastTextNodeFromNode(child)\r\n      if (found) return found\r\n      child = child.previousSibling\r\n    }\r\n    return null\r\n  }\r\n\r\n  static removeEmptyChildrenRecursively(parent: HTMLElement): void {\r\n    if (!parent || !(parent instanceof HTMLElement)) return\r\n\r\n    // Duyệt tất cả con từ dưới lên để tránh mất tham chiếu khi xóa\r\n    const children = Array.from(parent.children) as HTMLElement[]\r\n    for (const child of children) {\r\n      this.removeEmptyChildrenRecursively(child)\r\n\r\n      // Nếu element con hoàn toàn không có text (sau khi duyệt cả con cháu)\r\n      if (child.textContent?.length === 0) {\r\n        child.remove()\r\n      }\r\n    }\r\n  }\r\n\r\n  static removeOverlapChildTags(parent: HTMLElement, tagNamesToRemove: string[], removeParentTag?: boolean): void {\r\n    const descendants = parent.querySelectorAll<HTMLElement>(tagNamesToRemove.join(\",\"))\r\n    for (const descendant of descendants) {\r\n      descendant.replaceWith(...descendant.childNodes)\r\n    }\r\n    if (removeParentTag && tagNamesToRemove.includes(parent.tagName)) {\r\n      parent.replaceWith(...parent.childNodes)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gộp 2 tag giống nhau liền kề thành 1 tag, VD: <b>Hello</b><b> World</b> => <b>Hello World</b>\r\n   */\r\n  static mergeAdjacentStyling(parent: HTMLElement): void {\r\n    let node = parent.firstChild\r\n    while (node) {\r\n      const next = node.nextSibling\r\n      if (node instanceof HTMLElement && next instanceof HTMLElement && node.tagName === next.tagName) {\r\n        // chuyển toàn bộ con của next sang node rồi xóa next\r\n        while (next.firstChild) node.appendChild(next.firstChild)\r\n        parent.removeChild(next)\r\n        continue // kiểm tra lại node hiện tại với phần tử kế tiếp mới\r\n      }\r\n      node = next\r\n    }\r\n  }\r\n}\r\n","import { ETextListingType } from \"@/enums/global-enums\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\nimport { editorContent } from \"@/lib/artifact/content/editor.content.js\"\r\n\r\nclass TextListingStylish {\r\n  private currentTagName: string = \"\"\r\n  private readonly bulletListTagName: string = \"UL\"\r\n  private readonly numberedListTagName: string = \"OL\"\r\n  private readonly listItemTagName: string = \"LI\"\r\n\r\n  constructor() {}\r\n\r\n  private setCurrentTagName(listingType: ETextListingType): void {\r\n    this.currentTagName =\r\n      listingType === ETextListingType.NUMBERED_LIST ? this.numberedListTagName : this.bulletListTagName\r\n  }\r\n\r\n  private getClosestListLineElement(selection?: Selection | null): HTMLElement | null {\r\n    if (!selection || selection.rangeCount === 0) return null\r\n\r\n    let elementOfSelection: HTMLElement\r\n    const node = selection.anchorNode\r\n    if (node && node.nodeType === Node.TEXT_NODE) {\r\n      elementOfSelection = node.parentNode as HTMLElement // nếu caret nằm trong text thì lấy cha\r\n    } else {\r\n      elementOfSelection = node as HTMLElement\r\n    }\r\n\r\n    const editorContentElement = editorContent.getContentElement()\r\n    if (elementOfSelection.tagName === this.listItemTagName) {\r\n      if (editorContentElement.contains(elementOfSelection)) {\r\n        return elementOfSelection\r\n      }\r\n    } else if (elementOfSelection.tagName === this.currentTagName) {\r\n      return elementOfSelection.lastElementChild as HTMLElement\r\n    }\r\n    return null\r\n  }\r\n\r\n  private insertNewLine(currentLiElement: HTMLElement, selection: Selection): void {\r\n    // Tách selection ra khỏi li hiện tại\r\n    const range = selection.getRangeAt(0)\r\n    const after = range.extractContents()\r\n\r\n    // Tạo li mới\r\n    const newLi = document.createElement(this.listItemTagName)\r\n    if (!after.textContent) {\r\n      newLi.innerHTML = \"<br>\" // giữ caret hiển thị\r\n    } else {\r\n      newLi.appendChild(after)\r\n    }\r\n\r\n    // Chèn vào sau li hiện tại\r\n    currentLiElement.insertAdjacentElement(\"afterend\", newLi)\r\n\r\n    // Đặt caret vào li mới\r\n    const newRange = document.createRange()\r\n    newRange.setStart(newLi, 0)\r\n    newRange.collapse(true)\r\n    selection.removeAllRanges()\r\n    selection.addRange(newRange)\r\n  }\r\n\r\n  private isOnEmptyLine(liElement: HTMLElement): boolean {\r\n    const trimmedInnerHTML = liElement.innerHTML.trim()\r\n    return trimmedInnerHTML === \"<br>\" || trimmedInnerHTML === \"\"\r\n  }\r\n\r\n  private deleteLine(liElement: HTMLElement): void {\r\n    liElement.remove()\r\n  }\r\n\r\n  private isOnListLine(): boolean {\r\n    return !!this.currentTagName\r\n  }\r\n\r\n  private createNewList(...nodes: Node[]): HTMLElement {\r\n    const list = document.createElement(this.currentTagName)\r\n    const line = document.createElement(this.listItemTagName)\r\n    line.innerHTML = \"<br>\"\r\n    if (nodes.length > 0) {\r\n      line.replaceChildren(...nodes)\r\n    }\r\n    list.appendChild(line)\r\n    return list\r\n  }\r\n\r\n  private wrapElementContentByNewList(element: HTMLElement): void {\r\n    element.replaceChildren(this.createNewList(...element.childNodes))\r\n  }\r\n\r\n  /**\r\n   * Tạo danh sách: Nếu caret nằm trong li thì tạo li mới, nếu li hiện tại rỗng thì xóa li, nếu caret nằm ngoài li thì tạo danh sách\r\n   * @param selection Selection của user\r\n   */\r\n  private makeListing(selection: Selection) {\r\n    const listLineElement = this.getClosestListLineElement(selection)\r\n    if (listLineElement) {\r\n      if (this.isOnEmptyLine(listLineElement)) {\r\n        this.deleteLine(listLineElement)\r\n      } else {\r\n        this.insertNewLine(listLineElement, selection)\r\n      }\r\n    } else {\r\n      const anchorNode = selection.anchorNode!\r\n      const topBlockElement = CodeVCNEditorEngine.getTopBlockElementFromElement(\r\n        anchorNode.nodeType === Node.TEXT_NODE ? (anchorNode.parentNode as HTMLElement) : (anchorNode as HTMLElement)\r\n      )\r\n      if (topBlockElement) {\r\n        this.wrapElementContentByNewList(topBlockElement)\r\n      }\r\n    }\r\n  }\r\n\r\n  private insertNewListInsideLine(lineElement: HTMLElement): void {\r\n    const newList = this.createNewList()\r\n    lineElement.appendChild(newList)\r\n  }\r\n\r\n  private makeNestedListing(selection: Selection): void {\r\n    const listLineElement = this.getClosestListLineElement(selection)\r\n    if (listLineElement) {\r\n      if (this.isOnEmptyLine(listLineElement)) {\r\n        this.deleteLine(listLineElement)\r\n        const selection = window.getSelection()\r\n        const currentLineElement = this.getClosestListLineElement(selection)\r\n        if (currentLineElement) {\r\n          this.insertNewListInsideLine(currentLineElement)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private makeListingOnToolbarButtonClick(listingType: ETextListingType): void {\r\n    const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection) return\r\n    this.setCurrentTagName(listingType)\r\n    this.makeListing(selection)\r\n  }\r\n\r\n  private makeListingOnKeyboardEvent(e: KeyboardEvent): void {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault()\r\n      const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n      if (!selection) return\r\n      this.makeListing(selection)\r\n    } else if (e.key === \"Tab\") {\r\n      e.preventDefault()\r\n      const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n      if (!selection) return\r\n      this.makeNestedListing(selection)\r\n    }\r\n  }\r\n\r\n  onAction(listingType?: ETextListingType, e?: KeyboardEvent): void {\r\n    if (listingType) {\r\n      this.makeListingOnToolbarButtonClick(listingType)\r\n    } else if (e && this.isOnListLine()) {\r\n      this.makeListingOnKeyboardEvent(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport const textListingStylish = new TextListingStylish()\r\n","import { EErrorMessage } from \"@/enums/global-enums\"\r\n\r\nexport class EditorInternalErrorHelper {\r\n  static createError(message: EErrorMessage): Error {\r\n    return new Error(message)\r\n  }\r\n}\r\n","import { EBlockquoteType, EErrorMessage } from \"@/enums/global-enums.js\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\nimport { EditorInternalErrorHelper } from \"@/helpers/error-helper.js\"\r\nimport { editorContent } from \"@/lib/artifact/content/editor.content.js\"\r\n\r\nclass BlockquoteStylish {\r\n  private readonly blockQuoteTagName: string = \"BLOCKQUOTE\"\r\n  private readonly quoteLineTagName: string = \"P\"\r\n  private currentBlockquoteElement: HTMLElement | null = null\r\n\r\n  constructor() {}\r\n\r\n  private createBlockQuoteElement(blockQuoteInnerHTML: HTMLElement[\"innerHTML\"]): HTMLElement {\r\n    const blockQuoteElement = document.createElement(this.blockQuoteTagName)\r\n    blockQuoteElement.innerHTML = blockQuoteInnerHTML\r\n    return blockQuoteElement\r\n  }\r\n\r\n  private insertNewBlockquoteElement(topBlockElement: HTMLElement): void {\r\n    const blockQuoteElement = this.createBlockQuoteElement(`<${this.quoteLineTagName}><br></${this.quoteLineTagName}>`)\r\n    topBlockElement.replaceChildren(blockQuoteElement)\r\n    this.currentBlockquoteElement = blockQuoteElement\r\n  }\r\n\r\n  private exitBlockquote(selection: Selection): void {\r\n    const latestTopBlockElement = CodeVCNEditorEngine.findLatestTopBlockElement()\r\n    if (latestTopBlockElement) {\r\n      CodeVCNEditorEngine.insertNewTopBlockElementAfterElement(selection, latestTopBlockElement)\r\n    }\r\n    this.currentBlockquoteElement = null\r\n  }\r\n\r\n  private checkIfIsInBlockquote(selection: Selection): HTMLElement | null {\r\n    const anchorNode = selection.anchorNode\r\n    if (!anchorNode) return null\r\n    let node: HTMLElement | null = null\r\n    if (anchorNode.nodeType === Node.TEXT_NODE) {\r\n      node = anchorNode.parentNode as HTMLElement | null\r\n    } else {\r\n      node = anchorNode as HTMLElement\r\n    }\r\n    if (node?.tagName === this.blockQuoteTagName) {\r\n      return node\r\n    }\r\n    const blockquoteElement = node?.closest<HTMLElement>(this.blockQuoteTagName) || null\r\n    const editorContentElement = editorContent.getContentElement()\r\n    return editorContentElement.contains(blockquoteElement) ? blockquoteElement : null\r\n  }\r\n\r\n  private unblockquote(selection: Selection): void {\r\n    const topBlockElement = CodeVCNEditorEngine.getTopBlockElementFromSelection(selection)\r\n    if (topBlockElement) {\r\n      const blockquoteElementFirstChild = topBlockElement.querySelector(\r\n        this.blockQuoteTagName.toLowerCase()\r\n      ) as HTMLElement\r\n      if (blockquoteElementFirstChild) {\r\n        const childNodes = blockquoteElementFirstChild.childNodes\r\n        const newTopBlocks: HTMLElement[] = []\r\n        for (const childNode of childNodes) {\r\n          const topBlock = document.createElement(CodeVCNEditorEngine.topBlockElementTagName)\r\n          topBlock.appendChild(childNode.cloneNode(true))\r\n          newTopBlocks.push(topBlock)\r\n        }\r\n        topBlockElement.replaceWith(...newTopBlocks)\r\n      }\r\n    }\r\n    this.currentBlockquoteElement = null\r\n  }\r\n\r\n  private makeBlockquoteOnButtonClick(): void {\r\n    const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection) return\r\n    // bắt buộc phải check bằng selection hiện tại khi tạo blockquote bằng click on button, vì\r\n    // khi tạo blockquote mới thì chưa biết caret có nằm trong blockquote hay không\r\n    if (this.checkIfIsInBlockquote(selection)) {\r\n      this.unblockquote(selection)\r\n      return\r\n    }\r\n    const { topBlockElement, isEmpty } = CodeVCNEditorEngine.isEmptyTopBlock(selection)\r\n    if (topBlockElement) {\r\n      if (isEmpty) {\r\n        // nếu đang ở trong 1 block trống thì tạo blockquote cho block đó\r\n        this.insertNewBlockquoteElement(topBlockElement)\r\n      } else {\r\n        // nếu đang ở trong 1 block KHÔNG trống thì tạo blockquote cho block mới\r\n        const newBlockElement = CodeVCNEditorEngine.insertNewTopBlockElementAfterElement(selection, topBlockElement)\r\n        this.insertNewBlockquoteElement(newBlockElement)\r\n      }\r\n    }\r\n  }\r\n\r\n  private getClosestQuoteLineElement(selection: Selection): HTMLElement | null {\r\n    let node: HTMLElement\r\n    const anchorNode = selection.anchorNode!\r\n    if (anchorNode.nodeType === Node.TEXT_NODE) {\r\n      node = anchorNode.parentNode as HTMLElement\r\n    } else {\r\n      node = anchorNode as HTMLElement\r\n    }\r\n    if (node.tagName === this.quoteLineTagName) {\r\n      return node as HTMLElement\r\n    }\r\n    let quoteLineElement: HTMLElement | null = null\r\n    while (node && node.tagName !== this.quoteLineTagName && this.currentBlockquoteElement?.contains(node)) {\r\n      node = node.parentNode as HTMLElement\r\n      quoteLineElement = node\r\n    }\r\n    if (quoteLineElement?.tagName !== this.quoteLineTagName) return null\r\n    return quoteLineElement\r\n  }\r\n\r\n  private isOnEmptyLine(selection: Selection): boolean {\r\n    const quoteLineElement = this.getClosestQuoteLineElement(selection)\r\n    if (!quoteLineElement) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.QUOTE_LINE_ELEMENT_NOT_FOUND)\r\n    }\r\n    const trimmedInnerHTML = quoteLineElement.innerHTML.trim()\r\n    return trimmedInnerHTML === \"<br>\" || trimmedInnerHTML === \"\"\r\n  }\r\n\r\n  private insertNewEmptyLine(selection: Selection): void {\r\n    if (!this.currentBlockquoteElement) return\r\n    const newLineElement = document.createElement(this.quoteLineTagName)\r\n    newLineElement.innerHTML = \"<br>\"\r\n    this.currentBlockquoteElement.appendChild(newLineElement)\r\n    CodeVCNEditorEngine.moveCaretToElement(newLineElement, selection, selection.getRangeAt(0))\r\n  }\r\n\r\n  private makeBlockquoteOnKeyboardEvent(e: KeyboardEvent): void {\r\n    if (e.key === \"Enter\") {\r\n      const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n      if (!selection) return\r\n      const isInBlockquote = this.checkIfIsInBlockquote(selection)\r\n      if (!isInBlockquote) return\r\n      e.preventDefault()\r\n      // chỉ dc thực thi nếu caret nằm trong blockquote\r\n      if (this.isOnEmptyLine(selection)) {\r\n        this.exitBlockquote(selection)\r\n      } else {\r\n        this.insertNewEmptyLine(selection)\r\n      }\r\n    }\r\n  }\r\n\r\n  onAction(action?: EBlockquoteType, e?: KeyboardEvent) {\r\n    if (action) {\r\n      switch (action) {\r\n        case EBlockquoteType.BLOCKQUOTE:\r\n          this.makeBlockquoteOnButtonClick()\r\n          break\r\n      }\r\n    } else if (e) {\r\n      this.makeBlockquoteOnKeyboardEvent(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport const blockquoteStylish = new BlockquoteStylish()\r\n","/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.6';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","import { clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\nimport { render, type TemplateResult } from \"lit-html\"\r\nimport DOMPurify from \"dompurify\"\r\nimport type { TImageDimensions } from \"@/types/global-types\"\r\nimport { EErrorMessage } from \"@/enums/global-enums\"\r\n\r\nexport const cn = (...classes: string[]): string => {\r\n  return twMerge(clsx(classes))\r\n}\r\n\r\nexport const sanitizeHTML = (html: string): string => {\r\n  return DOMPurify.sanitize(html)\r\n}\r\n\r\nexport class LitHTMLHelper {\r\n  static createElementFromRenderer<T extends (...args: any[]) => TemplateResult<1>, R extends Element = HTMLElement>(\r\n    Renderer: T,\r\n    data: Parameters<T>\r\n  ): R {\r\n    const container = document.createElement(\"div\")\r\n    render(Renderer(...data), container)\r\n    return container.firstElementChild as R\r\n  }\r\n}\r\n\r\n/**\r\n * Kiểm tra string có phải URL hợp lệ không, chỉ chấp nhận protocol là https hoặc http\r\n * @param {string} str\r\n * @returns {boolean}\r\n */\r\nexport function isValidUrl(str: string): boolean {\r\n  try {\r\n    const urlProtocol = new URL(str).protocol\r\n    if (urlProtocol === \"https:\" || urlProtocol === \"http:\") {\r\n      return true\r\n    }\r\n    return false\r\n  } catch (_) {\r\n    return false\r\n  }\r\n}\r\n\r\nexport const getImageDimensions = (file: File): Promise<TImageDimensions> => {\r\n  return new Promise((resolve, reject) => {\r\n    if (!file.type.startsWith(\"image/\")) {\r\n      reject(new Error(EErrorMessage.ONLY_SUPPORT_IMAGE_FILE))\r\n      return\r\n    }\r\n    const img = new Image()\r\n    img.onload = () => {\r\n      resolve({ width: img.width, height: img.height })\r\n      URL.revokeObjectURL(img.src)\r\n    }\r\n    img.onerror = reject\r\n    img.src = URL.createObjectURL(file)\r\n  })\r\n}\r\n\r\nexport const copyTextToClipboard = (text: string, copyBoxElement?: HTMLElement): void => {\r\n  navigator.clipboard.writeText(text)\r\n  if (copyBoxElement) {\r\n    copyBoxElement.classList.add(\"STATE-copied\")\r\n    setTimeout(() => {\r\n      copyBoxElement.classList.remove(\"STATE-copied\")\r\n    }, 1500)\r\n  }\r\n}\r\n\r\nexport const nextFrame = (callback: () => void): void => {\r\n  requestAnimationFrame(() => {\r\n    requestAnimationFrame(callback)\r\n  })\r\n}\r\n\r\n/**\r\n * Chuyển đổi chữ cái đầu tiên thành chữ in hoa, các chữ cái còn lại thành chữ thường\r\n * @param word string cần chuyển đổi\r\n * @returns string đã chuyển đổi\r\n */\r\nexport const capitalizeWord = (word: string): string => {\r\n  if (typeof word !== \"string\" || word.length === 0) return word\r\n  return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()\r\n}\r\n\r\n/**\r\n * Thiết lập key cho mỗi phần tử trong mảng object\r\n * @param array mảng cần thiết lập key\r\n * @param prefix tiền tố cho key\r\n * @returns mảng đã thiết lập key\r\n */\r\nexport const setupKeyIndexForObjectArray = (array: any[], prefix?: string): any[] => {\r\n  let keyIndex: number = 0\r\n  return array.map((item) => ({ ...item, key: `${prefix || \"index-prefix\"}-${keyIndex++}` }))\r\n}\r\n\r\n/**\r\n * Lấy vị trí của element trong parent bằng cách đếm xem có bao nhiêu anh em đứng trước element đó\r\n * @param element element cần lấy vị trí\r\n * @returns vị trí của element trong parent (index bắt đầu từ 0)\r\n */\r\nexport const getElementIndexInParent = (element: HTMLElement): number => {\r\n  let i = 0\r\n  let preSiblingElement = element.previousElementSibling\r\n  while (preSiblingElement) {\r\n    i++\r\n    preSiblingElement = preSiblingElement.previousElementSibling\r\n  }\r\n  return i\r\n}\r\n","import { html, type TemplateResult } from \"lit-html\"\r\n\r\ntype ModalProps = {\r\n  body: TemplateResult<1>\r\n} & Partial<{\r\n  title: string\r\n  footer: TemplateResult<1>\r\n}>\r\n\r\nexport const Modal = ({ body, title, footer }: ModalProps): TemplateResult<1> => {\r\n  return html`\r\n    <div class=\"NAME-modal fixed inset-0 flex items-center justify-center p-4 z-[100] text-base\">\r\n      <div class=\"NAME-modal-overlay bg-black/50 absolute inset-0 z-10\"></div>\r\n      <div\r\n        class=\"NAME-modal-content flex flex-col bg-white rounded-2xl shadow-2xl w-full h-fit max-h-full max-w-[70vw] overflow-hidden relative z-11\"\r\n      >\r\n        <div class=\"NAME-modal-header flex items-center justify-between p-2 border-b border-gray-200\">\r\n          <h2 class=\"NAME-modal-title ml-3 text-xl font-bold text-black\">${title}</h2>\r\n          <button\r\n            class=\"NAME-modal-close p-2 cursor-pointer hover:bg-gray-100 rounded-full transition-colors duration-200\"\r\n          >\r\n            <i class=\"bi bi-x-lg text-gray-600 text-xl\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"NAME-modal-body flex flex-col grow overflow-y-auto h-fit\">${body}</div>\r\n        <div class=\"NAME-modal-footer w-full border-t border-gray-200 py-2 px-4 bg-white\">${footer}</div>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","import { Modal } from \"../modal\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers\"\r\nimport { html } from \"lit-html\"\r\n\r\nexport class ModalManager {\r\n  private static readonly modalElement: HTMLElement = this.initModal()\r\n\r\n  static getModalElement(): HTMLElement {\r\n    return this.modalElement\r\n  }\r\n\r\n  static showModal<TModal extends typeof Modal>(params: Parameters<TModal>): void {\r\n    const modalElement = this.modalElement\r\n    const { body, title, footer } = params[0]\r\n    modalElement\r\n      .querySelector(\".NAME-modal-body\")!\r\n      .replaceChildren(LitHTMLHelper.createElementFromRenderer(() => body, []))\r\n    if (title) {\r\n      const titleElement = modalElement.querySelector<HTMLElement>(\".NAME-modal-title\")!\r\n      titleElement.textContent = title\r\n      titleElement.hidden = false\r\n    } else {\r\n      modalElement.querySelector<HTMLLIElement>(\".NAME-modal-title\")!.hidden = true\r\n    }\r\n    if (footer) {\r\n      const modalFooterElement = modalElement.querySelector<HTMLElement>(\".NAME-modal-footer\")!\r\n      modalFooterElement.replaceChildren(LitHTMLHelper.createElementFromRenderer(() => footer, []))\r\n      modalFooterElement.hidden = false\r\n    } else {\r\n      modalElement.querySelector<HTMLLIElement>(\".NAME-modal-footer\")!.hidden = true\r\n    }\r\n    modalElement.classList.add(\"STATE-show\")\r\n  }\r\n\r\n  static hideModal(modalElement: HTMLElement): void {\r\n    modalElement.classList.remove(\"STATE-show\")\r\n  }\r\n\r\n  private static bindHideEventHandler(modalElement: HTMLElement): void {\r\n    modalElement.querySelector(\".NAME-modal-close\")?.addEventListener(\"click\", () => {\r\n      this.hideModal(modalElement)\r\n    })\r\n    modalElement.querySelector(\".NAME-modal-overlay\")?.addEventListener(\"click\", () => {\r\n      this.hideModal(modalElement)\r\n    })\r\n  }\r\n\r\n  private static initModal(): HTMLElement {\r\n    const modalElement = LitHTMLHelper.createElementFromRenderer<typeof Modal>(Modal, [{ body: html`` }])\r\n    document.body.appendChild(modalElement)\r\n    this.bindHideEventHandler(modalElement)\r\n    return modalElement\r\n  }\r\n}\r\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is an empty object (safely handles Buffers)\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an empty object, otherwise false\n */\nconst isEmptyObject = (val) => {\n  // Early return for non-objects or Buffers to prevent RangeError\n  if (!isObject(val) || isBuffer(val)) {\n    return false;\n  }\n  \n  try {\n    return Object.keys(val).length === 0 && Object.getPrototypeOf(val) === Object.prototype;\n  } catch (e) {\n    // Fallback for any other objects that might cause RangeError with Object.keys()\n    return false;\n  }\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Buffer check\n    if (isBuffer(obj)) {\n      return;\n    }\n\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  if (isBuffer(obj)){\n    return null;\n  }\n\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      //Buffer check\n      if (isBuffer(source)) {\n        return source;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isEmptyObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), {\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    },\n    ...options\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn(...args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys({...config1, ...config2}), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request, fetchOptions);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.11.0\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift(...requestInterceptorChain);\n      chain.push(...responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","import type { TImageInfoRes, TUploadImageRes } from \"@/types/api-types\"\r\nimport axios from \"axios\"\r\n\r\nexport class CodeVCNEditorService {\r\n  static clientAxios = axios.create({\r\n    baseURL: \"http://localhost:3000/api\",\r\n  })\r\n\r\n  static async uploadImage(\r\n    endpoint: string,\r\n    files: File[],\r\n    onProgress: (progress: number) => void\r\n  ): Promise<TUploadImageRes> {\r\n    const formData = new FormData()\r\n    for (const file of files) {\r\n      formData.append(\"images\", file)\r\n    }\r\n    const { data } = await this.clientAxios.post<TUploadImageRes>(endpoint, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      onUploadProgress: (progressEvent) => {\r\n        const progress = Math.round((progressEvent.loaded * 100) / (progressEvent.total || 1))\r\n        onProgress(progress)\r\n      },\r\n    })\r\n    return data\r\n  }\r\n\r\n  static async fetchImageInfo(url: string): Promise<TImageInfoRes> {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image()\r\n      img.onload = () => {\r\n        resolve({ width: img.naturalWidth, height: img.naturalHeight })\r\n      }\r\n      img.onerror = reject\r\n      img.src = url\r\n    })\r\n  }\r\n}\r\n","import{nothing as t}from\"../lit-html.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o=o=>o??t;export{o as ifDefined};\n//# sourceMappingURL=if-defined.js.map\n","import { html } from \"lit-html\"\r\nimport type { TemplateResult } from \"lit-html\"\r\nimport { ifDefined } from \"lit-html/directives/if-defined.js\"\r\n\r\ntype SkeletonProps = Partial<{\r\n  width: number\r\n  height: number\r\n  fullWidth: boolean\r\n  fullHeight: boolean\r\n}>\r\n\r\nexport const Skeleton = ({ width, height, fullWidth, fullHeight }: SkeletonProps): TemplateResult<1> => {\r\n  return html`<div\r\n    class=\"NAME-skeleton ${fullWidth ? \"w-full\" : \"\"} ${fullHeight\r\n      ? \"h-full\"\r\n      : \"\"} mb-3 rounded bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 animate-pulse\"\r\n    style=${ifDefined(width || height ? `width: ${width || 0}px; height: ${height || 0}px;` : undefined)}\r\n  ></div>`\r\n}\r\n","import { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine\"\r\nimport { editorContent } from \"../../content/editor.content\"\r\nimport { EditorInternalErrorHelper } from \"@/helpers/error-helper\"\r\nimport { EErrorMessage } from \"@/enums/global-enums\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers\"\r\nimport { Skeleton } from \"@/lib/components/skeleton\"\r\nimport type { TImageSkeletonReplacer } from \"@/types/global-types\"\r\n\r\ntype TImageProperties = {\r\n  imgUrl: string\r\n  altText: string\r\n  height: number\r\n  width: number\r\n}\r\n\r\nclass ImageBlockingStylish {\r\n  private readonly imageBlockingTagName: string = \"IMG\"\r\n\r\n  constructor() {}\r\n\r\n  private createImageElement({ imgUrl, altText, height, width }: TImageProperties): HTMLImageElement {\r\n    const imageElement = document.createElement(this.imageBlockingTagName) as HTMLImageElement\r\n    imageElement.src = imgUrl\r\n    imageElement.alt = altText\r\n    imageElement.height = height\r\n    imageElement.width = width\r\n    return imageElement\r\n  }\r\n\r\n  private insertNewImageElement(\r\n    topBlockElement: HTMLElement,\r\n    { imgUrl, altText, height, width }: TImageProperties\r\n  ): void {\r\n    const imageElement = this.createImageElement({ imgUrl, altText, height, width })\r\n    topBlockElement.replaceChildren(imageElement)\r\n  }\r\n\r\n  private makeImageBlocking(\r\n    { imgUrl, altText, height, width }: TImageProperties,\r\n    skeletonReplacer?: TImageSkeletonReplacer\r\n  ): void {\r\n    const selection = CodeVCNEditorEngine.restoreCaretPosition()\r\n    if (!selection) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.SELECTION_NOT_FOUND)\r\n    }\r\n    if (skeletonReplacer) {\r\n      skeletonReplacer(this.createImageElement({ imgUrl, altText, height, width }))\r\n      return\r\n    }\r\n    CodeVCNEditorEngine.splitCurrentTopBlockElementAtCaret(selection, true)\r\n    const { topBlockElement, isEmpty } = CodeVCNEditorEngine.isEmptyTopBlock(selection)\r\n    if (topBlockElement) {\r\n      if (isEmpty) {\r\n        this.insertNewImageElement(topBlockElement, { imgUrl, altText, height, width })\r\n      } else {\r\n        const newBlockElement = CodeVCNEditorEngine.insertNewTopBlockElementAfterElement(selection, topBlockElement)\r\n        this.insertNewImageElement(newBlockElement, { imgUrl, altText, height, width })\r\n      }\r\n    }\r\n  }\r\n\r\n  private createImageSkeleton(height: number, width: number): HTMLElement {\r\n    return LitHTMLHelper.createElementFromRenderer(Skeleton, [{ width, height }])\r\n  }\r\n\r\n  private insertImageSkeleton(\r\n    topBlockElement: HTMLElement,\r\n    selection: Selection,\r\n    height: number,\r\n    width: number\r\n  ): HTMLElement {\r\n    const imageSkeleton = this.createImageSkeleton(height, width)\r\n    const pElement = document.createElement(\"p\")\r\n    pElement.innerHTML = \"<br>\"\r\n    topBlockElement.replaceChildren(pElement, imageSkeleton)\r\n    CodeVCNEditorEngine.moveCaretToElement(pElement, selection, selection.getRangeAt(0))\r\n    return imageSkeleton\r\n  }\r\n\r\n  renderImageSkeleton(height: number, width: number): TImageSkeletonReplacer {\r\n    const selection = CodeVCNEditorEngine.restoreCaretPosition()\r\n    if (!selection) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.SELECTION_NOT_FOUND)\r\n    }\r\n    CodeVCNEditorEngine.splitCurrentTopBlockElementAtCaret(selection, true)\r\n    const { topBlockElement, isEmpty } = CodeVCNEditorEngine.isEmptyTopBlock(selection)\r\n    if (!topBlockElement) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.TOP_BLOCK_NOT_FOUND)\r\n    }\r\n    let imageSkeleton: HTMLElement\r\n    if (isEmpty) {\r\n      imageSkeleton = this.insertImageSkeleton(topBlockElement, selection, height, width)\r\n    } else {\r\n      const newBlockElement = CodeVCNEditorEngine.insertNewTopBlockElementAfterElement(selection, topBlockElement)\r\n      imageSkeleton = this.insertImageSkeleton(newBlockElement, selection, height, width)\r\n    }\r\n    return (imageElement: HTMLImageElement) => {\r\n      imageSkeleton.replaceWith(imageElement)\r\n    }\r\n  }\r\n\r\n  onAction({ imgUrl, altText, height, width }: TImageProperties, skeletonReplacer?: TImageSkeletonReplacer) {\r\n    this.makeImageBlocking({ imgUrl, altText, height, width }, skeletonReplacer)\r\n  }\r\n}\r\n\r\nexport const imageBlockingStylish = new ImageBlockingStylish()\r\n","import { EErrorMessage, ENotifyType } from \"@/enums/global-enums\"\r\nimport { getImageDimensions, isValidUrl } from \"@/helpers/common-helpers\"\r\nimport { EditorInternalErrorHelper } from \"@/helpers/error-helper\"\r\nimport { ModalManager } from \"@/lib/components/managers/modal.manager\"\r\nimport { Modal } from \"@/lib/components/modal\"\r\nimport { CodeVCNEditorService } from \"@/services/codevcn-editor.service\"\r\nimport { html } from \"lit-html\"\r\nimport { imageBlockingStylish } from \"./image-blocking.stylish\"\r\nimport type { TImageDimensions, TImageSkeletonReplacer } from \"@/types/global-types\"\r\n\r\ntype TMemorizedImage = {\r\n  imgUrl: string\r\n  dimensions: TImageDimensions\r\n  caption: string\r\n}\r\n\r\nclass AddImageModalManager {\r\n  private addImageModal: HTMLElement\r\n  private uploadImageURL: string\r\n  private maxImageSizeAllowed: number\r\n  private maxImagesCountAllowed: number\r\n  private memorizedImage: TMemorizedImage | null = null\r\n\r\n  constructor() {\r\n    this.addImageModal = ModalManager.getModalElement()\r\n    this.uploadImageURL = \"\"\r\n    this.maxImageSizeAllowed = 10 * 1024 * 1024 // 10MB\r\n    this.maxImagesCountAllowed = 5\r\n  }\r\n\r\n  setUploadImageURL(url: string) {\r\n    if (!isValidUrl(url)) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.INVALID_UPLOAD_IMAGE_URL)\r\n    }\r\n    this.uploadImageURL = url\r\n  }\r\n\r\n  getUploadImageURL(): string {\r\n    return this.uploadImageURL\r\n  }\r\n\r\n  private switchAddImageType(e: PointerEvent) {\r\n    e.preventDefault()\r\n    const currentTarget = e.currentTarget as HTMLElement\r\n    const currentBtn = currentTarget.classList.contains(\"NAME-add-image-btn-upload\") ? \"upload\" : \"url\"\r\n    const addImageContent = this.addImageModal.querySelector(\".NAME-add-image-content\") as HTMLElement\r\n    const addImageTypeButtons = this.addImageModal.querySelector(\".NAME-add-image-type-buttons\") as HTMLElement\r\n    addImageContent.classList.remove(\"STATE-upload\", \"STATE-url\")\r\n    addImageTypeButtons.classList.remove(\"STATE-upload\", \"STATE-url\")\r\n    if (currentBtn === \"upload\") {\r\n      addImageContent.classList.add(\"STATE-upload\")\r\n      addImageTypeButtons.classList.add(\"STATE-upload\")\r\n    } else {\r\n      addImageContent.classList.add(\"STATE-url\")\r\n      addImageTypeButtons.classList.add(\"STATE-url\")\r\n    }\r\n  }\r\n\r\n  private pickImageFile(e: PointerEvent) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    const input = this.addImageModal.querySelector(\".NAME-add-image-upload-input\") as HTMLInputElement\r\n    input.click()\r\n  }\r\n\r\n  private notify(type: ENotifyType, message: string) {\r\n    console.error(\">>> notify:\", { message, type })\r\n  }\r\n\r\n  private validateImageFile(file: File): boolean {\r\n    if (file.size > this.maxImageSizeAllowed) {\r\n      this.notify(ENotifyType.ERROR, EErrorMessage.IMAGE_SIZE_TOO_LARGE)\r\n      return false\r\n    }\r\n    if (\r\n      file.type !== \"image/svg+xml\" &&\r\n      file.type !== \"image/png\" &&\r\n      file.type !== \"image/jpg\" &&\r\n      file.type !== \"image/jpeg\" &&\r\n      file.type !== \"image/gif\"\r\n    ) {\r\n      this.notify(ENotifyType.ERROR, EErrorMessage.INVALID_IMAGE_TYPE)\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  private validateImageFiles(files: File[]): boolean {\r\n    if (files.length > this.maxImagesCountAllowed) {\r\n      this.notify(ENotifyType.ERROR, EErrorMessage.MAX_IMAGES_COUNT_TOO_LARGE)\r\n      return false\r\n    }\r\n    for (const file of files) {\r\n      if (!this.validateImageFile(file)) {\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  private previewImage(imgAltText: string, url: string) {\r\n    const preview = this.addImageModal.querySelector(\".NAME-add-image-preview\") as HTMLElement\r\n    const image = new Image()\r\n    image.src = url\r\n    image.alt = imgAltText\r\n    image.className = \"w-full h-full object-contain\"\r\n    image.onload = () => {\r\n      preview.innerHTML = \"\"\r\n      preview.appendChild(image)\r\n    }\r\n    const imgUrlInputHidden = this.addImageModal.querySelector(\".NAME-add-image-img-url\") as HTMLInputElement\r\n    imgUrlInputHidden.value = url\r\n    const imgUrlInput = this.addImageModal.querySelector(\".NAME-add-image-url-input\") as HTMLInputElement\r\n    imgUrlInput.value = url\r\n  }\r\n\r\n  private checkIfImageFile(file: File): boolean {\r\n    return file.type.startsWith(\"image/\")\r\n  }\r\n\r\n  private memorizeImageData(imgUrl: string, dimensions: TImageDimensions, caption: string) {\r\n    this.memorizedImage = { imgUrl, dimensions, caption }\r\n  }\r\n\r\n  private renderImageSkeleton(height: number, width: number): TImageSkeletonReplacer {\r\n    return imageBlockingStylish.renderImageSkeleton(height, width)\r\n  }\r\n\r\n  private async uploadImageFile(file: File) {\r\n    return await CodeVCNEditorService.uploadImage(this.uploadImageURL, [file], (progress) => {\r\n      console.log(\">>> progress:\", progress)\r\n    })\r\n  }\r\n\r\n  async onPasteImage(e: ClipboardEvent) {\r\n    const clipboardData = e.clipboardData\r\n    if (clipboardData) {\r\n      const files = clipboardData.files\r\n      if (files && files.length > 0) {\r\n        const fileToUpload = files[0]\r\n        if (!this.checkIfImageFile(fileToUpload)) {\r\n          this.notify(ENotifyType.ERROR, EErrorMessage.ONLY_SUPPORT_IMAGE_FILE)\r\n          return\r\n        }\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        const dimensions = await getImageDimensions(fileToUpload)\r\n        const { width, height } = dimensions\r\n        const skeletonReplacer = this.renderImageSkeleton(height, width)\r\n        const result = await this.uploadImageFile(fileToUpload)\r\n        const imgUrl = result.files[0].url\r\n        const imgName = fileToUpload.name\r\n        this.memorizeImageData(imgUrl, dimensions, imgName)\r\n        imageBlockingStylish.onAction({ width, height, altText: imgName, imgUrl }, skeletonReplacer)\r\n      }\r\n    }\r\n  }\r\n\r\n  private async fillImageDimensions(imgDimensions: TImageDimensions) {\r\n    const { width, height } = imgDimensions\r\n    const widthInput = this.addImageModal.querySelector(\".NAME-add-image-width-input\") as HTMLInputElement\r\n    const heightInput = this.addImageModal.querySelector(\".NAME-add-image-height-input\") as HTMLInputElement\r\n    widthInput.value = `${width}`\r\n    heightInput.value = `${height}`\r\n  }\r\n\r\n  private async onImageFilePicked(e: PointerEvent) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    const input = e.currentTarget as HTMLInputElement\r\n    const filesList = input.files\r\n    if (filesList && filesList.length > 0) {\r\n      const files = Array.from(filesList)\r\n      if (!this.validateImageFiles(files)) return\r\n      const result = await this.uploadImageFile(files[0])\r\n      this.previewImage(files[0].name, result.files[0].url)\r\n      const dimensions = await getImageDimensions(files[0])\r\n      this.fillImageDimensions(dimensions)\r\n    }\r\n    input.value = \"\"\r\n    input.files = null\r\n    input.src = \"\"\r\n  }\r\n\r\n  private async onChangeImageURL(e: Event) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    const input = e.currentTarget as HTMLInputElement\r\n    const url = input.value\r\n    this.previewImage(\"\", url)\r\n    const imgInfo = await CodeVCNEditorService.fetchImageInfo(url)\r\n    this.fillImageDimensions(imgInfo)\r\n  }\r\n\r\n  private bindDragAndDropImageEvent() {\r\n    const dropZone = this.addImageModal.querySelector<HTMLElement>(\".NAME-add-image-drop-zone\")\r\n    if (!dropZone) return\r\n\r\n    // Ngăn trình duyệt mở ảnh khi kéo thả\r\n    for (const eventName of [\"dragenter\", \"dragover\", \"dragleave\", \"drop\"]) {\r\n      dropZone.addEventListener(eventName, (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      })\r\n    }\r\n\r\n    // Highlight khi kéo file vào\r\n    for (const eventName of [\"dragenter\", \"dragover\"]) {\r\n      dropZone.addEventListener(eventName, () => {\r\n        dropZone.classList.add(\"bg-gray-100\")\r\n      })\r\n    }\r\n\r\n    // Remove highlight khi kéo file ra\r\n    for (const eventName of [\"dragleave\", \"drop\"]) {\r\n      dropZone.addEventListener(eventName, () => {\r\n        dropZone.classList.remove(\"bg-gray-100\")\r\n      })\r\n    }\r\n\r\n    // Xử lý khi thả file\r\n    dropZone.addEventListener(\"drop\", async (e) => {\r\n      const files = e.dataTransfer?.files || []\r\n      if (files.length === 0) return\r\n\r\n      // Ví dụ: chỉ lấy file ảnh\r\n      const images = Array.from(files).filter((file) => this.checkIfImageFile(file))\r\n\r\n      if (images.length > 0) {\r\n        // Ở đây bạn có thể upload ảnh hoặc preview\r\n        const fileToUpload = files[0]\r\n        const result = await this.uploadImageFile(fileToUpload)\r\n        this.previewImage(fileToUpload.name, result.files[0].url)\r\n        const dimensions = await getImageDimensions(fileToUpload)\r\n        this.fillImageDimensions(dimensions)\r\n      }\r\n    })\r\n  }\r\n\r\n  private onAction(e: PointerEvent) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    const infoForm = this.addImageModal.querySelector(\".NAME-add-image-info-form\") as HTMLFormElement\r\n    const formData = new FormData(infoForm)\r\n    const width = parseInt(formData.get(\"img-width\") as string)\r\n    const height = parseInt(formData.get(\"img-height\") as string)\r\n    const imgUrl = formData.get(\"img-url\") as string\r\n    const caption = formData.get(\"img-caption\") as string\r\n    imageBlockingStylish.onAction({ width, height, altText: caption, imgUrl })\r\n  }\r\n\r\n  showAddImageModal() {\r\n    ModalManager.showModal<typeof Modal>([\r\n      {\r\n        title: \"Add Image\",\r\n        body: html`\r\n          <div class=\"NAME-add-image-container p-4 space-y-6 h-full\">\r\n            <div class=\"NAME-add-image-type-buttons STATE-upload flex gap-2 bg-gray-100 rounded-xl p-1\">\r\n              <button\r\n                @click=${(e: PointerEvent) => this.switchAddImageType(e)}\r\n                class=\"NAME-add-image-btn-upload flex-1 flex items-center justify-center cursor-pointer gap-2 p-2 leading-none rounded-lg font-medium transition-all duration-300 text-gray-600 hover:bg-white hover:shadow\"\r\n              >\r\n                <i class=\"bi bi-upload font-bold\"></i>\r\n                Upload File\r\n              </button>\r\n              <button\r\n                @click=${(e: PointerEvent) => this.switchAddImageType(e)}\r\n                class=\"NAME-add-image-btn-url flex-1 flex items-center justify-center cursor-pointer gap-2 p-2 leading-none rounded-lg font-medium transition-all duration-300 text-gray-600 hover:bg-white hover:shadow\"\r\n              >\r\n                <i class=\"bi bi-link-45deg font-bold\"></i>\r\n                Image URL\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"NAME-add-image-content STATE-upload space-y-4\">\r\n              <input\r\n                @change=${(e: PointerEvent) => this.onImageFilePicked(e)}\r\n                type=\"file\"\r\n                multiple\r\n                accept=\".svg,.png,.jpg,.jpeg,.gif\"\r\n                hidden\r\n                class=\"NAME-add-image-upload-input\"\r\n              />\r\n              <section\r\n                @click=${(e: PointerEvent) => this.pickImageFile(e)}\r\n                class=\"NAME-add-image-upload-section NAME-add-image-drop-zone hover:bg-gray-50 border-2 border-dashed rounded-xl p-8 text-center border-gray-400 transition-colors duration-200 cursor-pointer\"\r\n              >\r\n                <div class=\"flex flex-col items-center space-y-4\">\r\n                  <div class=\"p-4 rounded-full bg-gray-100 transition-colors duration-200\">\r\n                    <i class=\"bi bi-camera text-gray-600 text-2xl font-bold\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-lg font-medium text-black mb-2\">Click to upload or drag and drop</p>\r\n                    <p class=\"text-sm text-gray-600\">SVG, PNG, JPG or GIF (max: 10MB)</p>\r\n                  </div>\r\n                  <button\r\n                    @click=${(e: PointerEvent) => this.pickImageFile(e)}\r\n                    class=\"bg-black text-white px-6 py-1 cursor-pointer rounded-lg hover:scale-105 transition duration-200 font-medium\"\r\n                  >\r\n                    Choose File\r\n                  </button>\r\n                </div>\r\n              </section>\r\n              <section class=\"NAME-add-image-url-section space-y-2\">\r\n                <label class=\"block text-sm pl-1 font-medium text-black\">Image URL</label>\r\n                <input\r\n                  type=\"url\"\r\n                  @change=${(e: PointerEvent) => this.onChangeImageURL(e)}\r\n                  placeholder=\"Example: https://example.com/image.jpg\"\r\n                  class=\"NAME-add-image-url-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\r\n                  value=${this.memorizedImage?.imgUrl || \"\"}\r\n                />\r\n              </section>\r\n            </div>\r\n\r\n            <div class=\"space-y-2\">\r\n              <label class=\"block text-sm pl-1 font-medium text-black\">Image Preview</label>\r\n              <div class=\"border border-gray-300 rounded-lg p-2 bg-gray-100\">\r\n                <div class=\"NAME-add-image-preview flex flex-col items-center justify-center text-gray-500\">\r\n                  ${this.memorizedImage\r\n                    ? html` <img src=${this.memorizedImage?.imgUrl || \"\"} alt=${this.memorizedImage?.caption || \"\"} /> `\r\n                    : html`<i class=\"bi bi-image text-4xl font-bold\"></i>\r\n                        <p class=\"text-sm mt-2\">No image selected</p>`}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <form\r\n              action=\"#\"\r\n              @submit=${(e: SubmitEvent) => e.preventDefault()}\r\n              class=\"NAME-add-image-info-form grid grid-cols-1 md:grid-cols-2 gap-6 pb-4\"\r\n            >\r\n              <input hidden name=\"img-url\" class=\"NAME-add-image-img-url\" />\r\n              <div class=\"space-y-4 grid-rows-2 flex flex-col justify-between\">\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"block text-sm pl-1 font-medium text-black\">Width (px)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"800\"\r\n                    name=\"img-width\"\r\n                    class=\"NAME-add-image-width-input w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\r\n                    value=${this.memorizedImage?.dimensions.width || \"\"}\r\n                  />\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"block text-sm pl-1 font-medium text-black\">Height (px)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"600\"\r\n                    name=\"img-height\"\r\n                    class=\"NAME-add-image-height-input w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\r\n                    value=${this.memorizedImage?.dimensions.height || \"\"}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"space-y-2 grid-rows-2 flex flex-col\">\r\n                <label class=\"block text-sm pl-1 font-medium text-black\">Description</label>\r\n                <textarea\r\n                  placeholder=\"Enter image caption...\"\r\n                  rows=\"5\"\r\n                  name=\"img-caption\"\r\n                  class=\"w-full grow px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 resize-none\"\r\n                >\r\n${this.memorizedImage?.caption || \"\"}</textarea\r\n                >\r\n              </div>\r\n            </form>\r\n          </div>\r\n        `,\r\n        footer: html`\r\n          <div class=\"flex items-center justify-end gap-3 text-base\">\r\n            <button\r\n              @click=${() => ModalManager.hideModal(this.addImageModal)}\r\n              class=\"px-6 py-1 cursor-pointer text-gray-600 hover:scale-105 transition duration-200 font-medium\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              @click=${(e: PointerEvent) => this.onAction(e)}\r\n              class=\"px-6 py-1 cursor-pointer bg-black text-white rounded-lg hover:scale-105 transition duration-200 font-medium shadow-lg hover:shadow-xl\"\r\n            >\r\n              Insert Image\r\n            </button>\r\n          </div>\r\n        `,\r\n      },\r\n    ])\r\n    this.bindDragAndDropImageEvent()\r\n  }\r\n}\r\n\r\nexport const addImageModalManager = new AddImageModalManager()\r\n","import { EInternalEvents } from \"@/enums/global-enums\"\r\n\r\ninterface IInternalEvents {\r\n  [EInternalEvents.BIND_TEXT_LINK_POPOVER_EVENT]: (textLinkElement: HTMLAnchorElement) => void\r\n}\r\n\r\nclass EventEmitter<IEvents extends IInternalEvents> {\r\n  private listeners: {\r\n    [K in keyof IEvents]?: IEvents[K][]\r\n  } = {}\r\n\r\n  on<K extends keyof IEvents>(name: K, handler: IEvents[K]): void {\r\n    if (this.listeners[name]) {\r\n      this.listeners[name].push(handler)\r\n    } else {\r\n      this.listeners[name] = [handler]\r\n    }\r\n  }\r\n\r\n  off<K extends keyof IEvents>(name: K, handler?: IEvents[K]): void {\r\n    if (handler) {\r\n      this.listeners[name] = (this.listeners[name] ?? []).filter((h) => h !== handler)\r\n    } else {\r\n      delete this.listeners[name]\r\n    }\r\n  }\r\n\r\n  emit<K extends keyof IEvents>(name: K, ...args: IEvents[K] extends (...args: infer P) => any ? P : never): void {\r\n    for (const handler of this.listeners[name] ?? []) {\r\n      queueMicrotask(() => {\r\n        ;(handler as any)(...args)\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const eventEmitter = new EventEmitter<IInternalEvents>()\r\n","import type {\r\n  TCheckIfRangeIsInsideWrapper,\r\n  TCleanUpElementsHandler,\r\n  THandleEachRangeHandler,\r\n  TWrapperSelector,\r\n  TWrappingType,\r\n} from \"@/types/global-types.js\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\n\r\nexport class TagWrappingEngine {\r\n  constructor() {}\r\n\r\n  /**\r\n   * Hàm xử lý xóa styling tag khỏi selection.\r\n   */\r\n  static unwrapRangeContentByTag(\r\n    selectionRange: Range,\r\n    parentElement: HTMLElement,\r\n    contentWrapper?: HTMLElement\r\n  ): void {\r\n    // Tìm thẻ styling tag NHỎ NHẤT bao trọn selection\r\n    const doc = parentElement.ownerDocument\r\n    const tagName = parentElement.tagName // styling tag name\r\n\r\n    // Clone nội dung của 3 đoạn: trái | selection | phải (không đụng DOM gốc)\r\n    const clonedRange = selectionRange.cloneRange()\r\n\r\n    const leftRange = doc.createRange()\r\n    leftRange.setStart(parentElement, 0)\r\n    leftRange.setEnd(clonedRange.startContainer, clonedRange.startOffset)\r\n\r\n    const rightRange = doc.createRange()\r\n    rightRange.setStart(clonedRange.endContainer, clonedRange.endOffset)\r\n    rightRange.setEnd(parentElement, parentElement.childNodes.length)\r\n\r\n    const leftFragment = leftRange.cloneContents()\r\n    const midFragment = clonedRange.cloneContents() // phần cần bỏ styling tag\r\n    const rightFragment = rightRange.cloneContents()\r\n\r\n    // Xây fragment thay thế, fragment này chứa: <styling tag>left</styling tag> + mid + <styling tag>right</styling tag>\r\n    const replacement = doc.createDocumentFragment()\r\n\r\n    if (leftFragment.hasChildNodes()) {\r\n      const leftElement = doc.createElement(tagName)\r\n      leftElement.appendChild(leftFragment)\r\n      replacement.appendChild(leftElement)\r\n    }\r\n\r\n    if (midFragment.hasChildNodes()) {\r\n      // KHÔNG bị bọc bởi styling tag\r\n      if (contentWrapper) {\r\n        contentWrapper.appendChild(midFragment)\r\n        replacement.appendChild(contentWrapper)\r\n      } else {\r\n        replacement.appendChild(midFragment)\r\n      }\r\n    }\r\n\r\n    if (rightFragment.hasChildNodes()) {\r\n      const rightElement = doc.createElement(tagName)\r\n      rightElement.appendChild(rightFragment)\r\n      replacement.appendChild(rightElement)\r\n    }\r\n\r\n    // Thay thẻ cha <styling tag> cũ bằng cấu trúc mới\r\n    parentElement.replaceWith(replacement)\r\n  }\r\n\r\n  static wrapRangeContentByTag(range: Range, wrapper: HTMLElement): HTMLElement {\r\n    const content = range.extractContents()\r\n    const clonedWrapper = wrapper.cloneNode() as HTMLElement\r\n    clonedWrapper.appendChild(content)\r\n    range.insertNode(clonedWrapper)\r\n    return clonedWrapper\r\n  }\r\n\r\n  static checkIfRangeIsInsideWrapper(selectionRange: Range, wrapperSelector: TWrapperSelector): HTMLElement | null {\r\n    let anchorNode = selectionRange.startContainer\r\n    if (!(anchorNode instanceof HTMLElement)) {\r\n      anchorNode = anchorNode.parentElement!\r\n    }\r\n    return CodeVCNEditorEngine.getClosestParentOfElement(anchorNode as HTMLElement, wrapperSelector)\r\n  }\r\n\r\n  static wrapUnwrapRangeByWrapper(\r\n    selectionRange: Range,\r\n    wrapper: HTMLElement,\r\n    wrappingType: TWrappingType,\r\n    checkIfRangeIsInsideWrapper: TCheckIfRangeIsInsideWrapper,\r\n    cleanUpElements: TCleanUpElementsHandler\r\n  ): void {\r\n    if (wrappingType === \"unwrap\") {\r\n      const parentElement = checkIfRangeIsInsideWrapper(selectionRange)\r\n      if (parentElement) {\r\n        const container = parentElement.parentElement\r\n        if (container && container instanceof HTMLElement) {\r\n          this.unwrapRangeContentByTag(selectionRange, parentElement)\r\n          cleanUpElements(container, wrappingType)\r\n        }\r\n      } else {\r\n        let container = selectionRange.startContainer\r\n        if (!(container instanceof HTMLElement)) {\r\n          container = container.parentElement!\r\n        }\r\n        cleanUpElements(container as HTMLElement, wrappingType, true)\r\n      }\r\n    } else {\r\n      if (checkIfRangeIsInsideWrapper(selectionRange)) return\r\n      const parentElement = this.wrapRangeContentByTag(selectionRange, wrapper)\r\n      cleanUpElements(parentElement, wrappingType)\r\n    }\r\n  }\r\n\r\n  static wrapSelectionInMultipleLines(\r\n    selection: Selection,\r\n    tagNamesForWrapping: string[],\r\n    handleEachRange: THandleEachRangeHandler\r\n  ): HTMLElement[] | null {\r\n    if (selection.rangeCount === 0) return null\r\n    const topBlocks = CodeVCNEditorEngine.getSelectedTopBlocksFromRange(selection.getRangeAt(0))\r\n    if (!topBlocks) return null\r\n    if (topBlocks.length > 1) {\r\n      const rootRange = selection.getRangeAt(0)\r\n\r\n      const firstTopBlock = topBlocks[0]\r\n      const clonedFirstRange = rootRange.cloneRange()\r\n      const lastTextNode = CodeVCNEditorEngine.getLastTextNodeFromNode(firstTopBlock)\r\n      let wrappingType: TWrappingType = \"wrap\"\r\n      if (lastTextNode) {\r\n        const startContainer = rootRange.startContainer\r\n        const closestWrapper = this.checkIfRangeIsInsideWrapper(\r\n          clonedFirstRange,\r\n          (element) => tagNamesForWrapping.includes(element.tagName) && element.contains(startContainer)\r\n        )\r\n        if (closestWrapper) {\r\n          wrappingType = \"unwrap\"\r\n        }\r\n        clonedFirstRange.setEnd(lastTextNode, lastTextNode.nodeValue?.length || 0)\r\n        handleEachRange(clonedFirstRange, wrappingType)\r\n      }\r\n\r\n      const lastTopBlock = topBlocks[topBlocks.length - 1]\r\n      const clonedLastRange = rootRange.cloneRange()\r\n      const firstTextNode = CodeVCNEditorEngine.getFirstTextNodeFromNode(lastTopBlock)\r\n      if (firstTextNode) {\r\n        clonedLastRange.setStart(firstTextNode, 0)\r\n        handleEachRange(clonedLastRange, wrappingType)\r\n      }\r\n\r\n      const otherTopBlocks = topBlocks.length > 2 ? topBlocks.slice(1, topBlocks.length - 1) : []\r\n      for (const topBlock of otherTopBlocks) {\r\n        const range = document.createRange()\r\n        const firstTextNode = CodeVCNEditorEngine.getFirstTextNodeFromNode(topBlock)\r\n        const lastTextNode = CodeVCNEditorEngine.getLastTextNodeFromNode(topBlock)\r\n        if (firstTextNode && lastTextNode) {\r\n          range.setStart(firstTextNode, 0)\r\n          range.setEnd(lastTextNode, lastTextNode.nodeValue?.length || 0)\r\n          handleEachRange(range, wrappingType)\r\n        }\r\n      }\r\n\r\n      return topBlocks\r\n    } else if (topBlocks.length === 1) {\r\n      const rootRange = selection.getRangeAt(0)\r\n      const closestWrapper = this.checkIfRangeIsInsideWrapper(rootRange, (element) =>\r\n        tagNamesForWrapping.includes(element.tagName)\r\n      )\r\n      handleEachRange(rootRange, closestWrapper ? \"unwrap\" : \"wrap\")\r\n      return topBlocks\r\n    }\r\n    return null\r\n  }\r\n}\r\n","import { CodeVCNEditorEngine } from \"./codevcn-editor.engine\"\r\n\r\nexport class TagWrappingPreparationEngine {\r\n  private static readyEmptyElement: HTMLElement | null = null\r\n\r\n  constructor() {}\r\n\r\n  static prepareStylingForWrapping(stylingEmptyElement: HTMLElement): void {\r\n    this.readyEmptyElement = stylingEmptyElement.cloneNode() as HTMLElement\r\n  }\r\n\r\n  private static wrapNodeByStylingTag(text: string): void {\r\n    const stylingEmptyElement = this.readyEmptyElement!\r\n    const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection || !selection.isCollapsed) return\r\n    const range = selection.getRangeAt(0)\r\n    const node = range.startContainer\r\n    let closestStylingElement = CodeVCNEditorEngine.getClosestParentOfElement(\r\n      node instanceof HTMLElement ? node : node.parentElement!,\r\n      (element) => element.tagName === stylingEmptyElement.tagName\r\n    )\r\n    if (!closestStylingElement) {\r\n      range.insertNode(stylingEmptyElement)\r\n      range.setStart(stylingEmptyElement, 0)\r\n      range.setEnd(stylingEmptyElement, 0)\r\n      selection.removeAllRanges()\r\n      selection.addRange(range)\r\n    }\r\n    const textNode = document.createTextNode(text)\r\n    range.insertNode(textNode)\r\n    range.setStartAfter(textNode)\r\n    range.setEndAfter(textNode)\r\n    selection.removeAllRanges()\r\n    selection.addRange(range)\r\n\r\n    this.readyEmptyElement = null\r\n  }\r\n\r\n  static completeStylingForWrapping(e: InputEvent): void {\r\n    if (!this.readyEmptyElement) return\r\n    e.preventDefault()\r\n    const data = e.data\r\n    if (!data) return\r\n    this.wrapNodeByStylingTag(data)\r\n  }\r\n}\r\n","import { ETextStylingType } from \"@/enums/global-enums.js\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\nimport type { TWrappingType } from \"@/types/global-types.js\"\r\nimport { TagWrappingEngine } from \"../../engine/wrapping.engine.js\"\r\nimport { TagWrappingPreparationEngine } from \"../../engine/preparation.engine.js\"\r\n\r\nclass TextStylingStylish {\r\n  private currentStylingType: ETextStylingType | null = null\r\n  /**\r\n   * Tên các thẻ styling cho từng loại styling (index theo thứ tự ưu tiên, 0 là ưu tiên nhất rồi đến 1, 2, 3, ...)\r\n   */\r\n  private readonly tagNamesForStyling: Record<ETextStylingType, string[]> = {\r\n    [ETextStylingType.BOLD]: [\"B\", \"STRONG\"],\r\n    [ETextStylingType.ITALIC]: [\"I\", \"EM\"],\r\n    [ETextStylingType.UNDERLINE]: [\"U\", \"INS\"],\r\n    [ETextStylingType.STRIKE_THROUGH]: [\"S\", \"DEL\", \"STRIKE\"],\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  getBoldTagNameMostPrioritied(): string {\r\n    return this.tagNamesForStyling[ETextStylingType.BOLD][0]\r\n  }\r\n\r\n  private ifTagNameIsCurrentStyling(tagName: string): boolean {\r\n    return this.getCurrentStylingSimilarTagNames().includes(tagName)\r\n  }\r\n\r\n  private setCurrentStylingType(stylingType: ETextStylingType): void {\r\n    this.currentStylingType = stylingType\r\n  }\r\n\r\n  private getCurrentStylingSimilarTagNames(): string[] {\r\n    return this.tagNamesForStyling[this.currentStylingType!]\r\n  }\r\n\r\n  private getCurrentStylingTagName(): string {\r\n    return this.getCurrentStylingSimilarTagNames()[0]\r\n  }\r\n\r\n  private createNewStylingTagElement(): HTMLElement {\r\n    return document.createElement(this.getCurrentStylingTagName())\r\n  }\r\n\r\n  private cleanUpElements(container: HTMLElement, wrappingType: TWrappingType, isForceToUnwrap?: boolean): void {\r\n    if (wrappingType === \"unwrap\") {\r\n      if (isForceToUnwrap) {\r\n        CodeVCNEditorEngine.removeOverlapChildTags(container, this.getCurrentStylingSimilarTagNames(), true)\r\n      }\r\n      CodeVCNEditorEngine.removeEmptyChildrenRecursively(container)\r\n      CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n    } else {\r\n      CodeVCNEditorEngine.removeOverlapChildTags(container, this.getCurrentStylingSimilarTagNames())\r\n      CodeVCNEditorEngine.removeEmptyChildrenRecursively(container.parentElement || container)\r\n      CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n    }\r\n  }\r\n\r\n  private insertStylingAtCaret(): void {\r\n    CodeVCNEditorEngine.saveCurrentCaretPosition()\r\n    TagWrappingPreparationEngine.prepareStylingForWrapping(this.createNewStylingTagElement())\r\n    CodeVCNEditorEngine.restoreCaretPosition()\r\n  }\r\n\r\n  private makeStyling(selection: Selection, stylingType: ETextStylingType): void {\r\n    this.setCurrentStylingType(stylingType)\r\n\r\n    if (CodeVCNEditorEngine.isSelectingContent()) {\r\n      TagWrappingEngine.wrapSelectionInMultipleLines(\r\n        selection,\r\n        this.getCurrentStylingSimilarTagNames(),\r\n        (range, wrappingType) => {\r\n          TagWrappingEngine.wrapUnwrapRangeByWrapper(\r\n            range,\r\n            this.createNewStylingTagElement(),\r\n            wrappingType,\r\n            (range) =>\r\n              TagWrappingEngine.checkIfRangeIsInsideWrapper(\r\n                range,\r\n                (element) =>\r\n                  this.ifTagNameIsCurrentStyling(element.tagName) &&\r\n                  element.contains(range.startContainer) &&\r\n                  element.contains(range.endContainer)\r\n              ),\r\n            (container, type, isForceToUnwrap) => {\r\n              this.cleanUpElements(container, type, isForceToUnwrap)\r\n            }\r\n          )\r\n        }\r\n      )\r\n    } else {\r\n      this.insertStylingAtCaret()\r\n    }\r\n  }\r\n\r\n  onAction(stylingType: ETextStylingType): void {\r\n    const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection) return\r\n    this.makeStyling(selection, stylingType)\r\n  }\r\n}\r\n\r\nexport const textStylingStylish = new TextStylingStylish()\r\n","import { EditorInternalErrorHelper } from \"@/helpers/error-helper\"\r\nimport { editorContent } from \"../../content/editor.content\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine\"\r\nimport { EErrorMessage, EInternalEvents } from \"@/enums/global-enums\"\r\nimport type { TOnSaveLink } from \"@/types/api-types\"\r\nimport { eventEmitter } from \"../../event/event-emitter\"\r\nimport { textStylingStylish } from \"../text-styling/text-styling.stylish\"\r\n\r\ntype TInsertType = \"insert-new\" | \"wrap-existing\"\r\n\r\ntype TShowLinkModalHandler = (\r\n  link: string | null,\r\n  textOfLink: string | null,\r\n  textLinkElement: HTMLAnchorElement | null,\r\n  onSaveLink: TOnSaveLink\r\n) => void\r\n\r\nclass TextLinkingStylish {\r\n  private readonly linkTagName: string = \"A\"\r\n\r\n  constructor() {}\r\n\r\n  getTextLinkTagName(): string {\r\n    return this.linkTagName\r\n  }\r\n\r\n  private createTextLinkElement(link: string, innerHTML: string): HTMLAnchorElement {\r\n    const textLinkElement = document.createElement(this.linkTagName) as HTMLAnchorElement\r\n    textLinkElement.setAttribute(\"href\", link)\r\n    textLinkElement.setAttribute(\"target\", \"_blank\")\r\n    textLinkElement.setAttribute(\"rel\", \"noopener noreferrer\")\r\n    const boldElement = document.createElement(textStylingStylish.getBoldTagNameMostPrioritied())\r\n    boldElement.innerHTML = innerHTML\r\n    textLinkElement.replaceChildren(boldElement)\r\n    return textLinkElement\r\n  }\r\n\r\n  updateLink(link: string, textOfLink: string | null, textLinkElement: HTMLAnchorElement): void {\r\n    textLinkElement.setAttribute(\"href\", link)\r\n    textLinkElement.textContent = textOfLink || link\r\n  }\r\n\r\n  /**\r\n   * Kiểm tra xem caret có nằm trên text link không, dùng được cho cả khi bôi đen và khi ko bôi đen\r\n   */\r\n  private checkIfIsOnTextLink(selection: Selection): HTMLAnchorElement | null {\r\n    let anchorNode = selection.anchorNode\r\n    if (anchorNode && anchorNode.nodeType === Node.TEXT_NODE) {\r\n      anchorNode = anchorNode.parentElement\r\n    }\r\n    if (!anchorNode || !(anchorNode instanceof HTMLElement)) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.ANCHOR_NODE_NOT_FOUND_OR_NOT_ELEMENT)\r\n    }\r\n    if (anchorNode.tagName === this.linkTagName) {\r\n      return anchorNode as HTMLAnchorElement\r\n    }\r\n    return CodeVCNEditorEngine.getClosestParentOfElement<HTMLAnchorElement>(\r\n      anchorNode,\r\n      (element) => element.tagName === this.linkTagName\r\n    )\r\n  }\r\n\r\n  private insertNewLinkToCurrentCaret(link: string, textOfLink: string, selection: Selection, type: TInsertType): void {\r\n    const range = selection.getRangeAt(0)\r\n    const textLinkElement = this.createTextLinkElement(link, textOfLink)\r\n    if (type === \"wrap-existing\") {\r\n      range.deleteContents()\r\n    }\r\n    eventEmitter.emit(EInternalEvents.BIND_TEXT_LINK_POPOVER_EVENT, textLinkElement)\r\n    range.insertNode(textLinkElement)\r\n  }\r\n\r\n  private showModalToUpdateLink(textLinkElement: HTMLAnchorElement, showLinkModalHandler: TShowLinkModalHandler): void {\r\n    showLinkModalHandler(\r\n      textLinkElement.getAttribute(\"href\"),\r\n      textLinkElement.textContent,\r\n      textLinkElement,\r\n      (link, textOfLink) => {\r\n        if (link) {\r\n          const trimmedLink = link.trim()\r\n          if (trimmedLink.length > 0) {\r\n            this.updateLink(trimmedLink, textOfLink, textLinkElement)\r\n          }\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  private showModalToMakeNewLink(\r\n    showLinkModalHandler: TShowLinkModalHandler,\r\n    selection: Selection,\r\n    type: TInsertType\r\n  ): void {\r\n    showLinkModalHandler(\r\n      null,\r\n      type === \"insert-new\" ? null : selection.getRangeAt(0).cloneContents().textContent,\r\n      null,\r\n      (link, textOfLink) => {\r\n        if (link) {\r\n          const trimmedLink = link.trim()\r\n          if (trimmedLink.length > 0) {\r\n            const selection = CodeVCNEditorEngine.restoreCaretPosition()\r\n            if (selection) {\r\n              this.insertNewLinkToCurrentCaret(trimmedLink, textOfLink || trimmedLink, selection, type)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  private makeLinking(showLinkModalHandler: TShowLinkModalHandler): void {\r\n    const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection) return\r\n    CodeVCNEditorEngine.saveCurrentCaretPosition(selection)\r\n    if (CodeVCNEditorEngine.isSelectingContent()) {\r\n      const textLinkElement = this.checkIfIsOnTextLink(selection)\r\n      if (textLinkElement) {\r\n        this.showModalToUpdateLink(textLinkElement, showLinkModalHandler)\r\n      } else {\r\n        this.showModalToMakeNewLink(showLinkModalHandler, selection, \"wrap-existing\")\r\n      }\r\n    } else {\r\n      const textLinkElement = this.checkIfIsOnTextLink(selection)\r\n      if (textLinkElement) {\r\n        this.showModalToUpdateLink(textLinkElement, showLinkModalHandler)\r\n      } else {\r\n        this.showModalToMakeNewLink(showLinkModalHandler, selection, \"insert-new\")\r\n      }\r\n    }\r\n  }\r\n\r\n  onAction(showLinkModalHandler: TShowLinkModalHandler) {\r\n    this.makeLinking(showLinkModalHandler)\r\n  }\r\n}\r\n\r\nexport const textLinkingStylish = new TextLinkingStylish()\r\n","import { html, type TemplateResult } from \"lit-html\"\r\n\r\ntype TCustomPopoverProps = {\r\n  content: TemplateResult<1>\r\n} & Partial<{\r\n  id: string\r\n}>\r\n\r\nexport const Popover = ({ content, id }: TCustomPopoverProps) => {\r\n  return html`\r\n    <div class=\"NAME-popover fixed z-[99] top-0 left-0 pt-1.5\" ?id=${id}>\r\n      <div class=\"NAME-popover-content-wrapper bg-white border border-gray-400 shadow-md rounded-md relative\">\r\n        <div\r\n          class=\"NAME-popover-arrow bg-inherit border border-inherit h-2 w-2 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 z-10\"\r\n        ></div>\r\n        <div class=\"NAME-popover-content relative z-20 bg-inherit rounded-md\">${content}</div>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","export class PageLayoutHelper {\r\n  static detectCollisionWithViewportEdges(target: HTMLElement, margin: number = 10): void {\r\n    const popoverRect = target.getBoundingClientRect()\r\n    const viewportWidth = window.innerWidth\r\n    const viewportHeight = window.innerHeight\r\n    if (popoverRect.left < 0) {\r\n      target.style.left = `${margin}px`\r\n    }\r\n    if (popoverRect.right > viewportWidth) {\r\n      target.style.left = `${viewportWidth - target.offsetWidth - margin}px`\r\n    }\r\n    if (popoverRect.top < 0) {\r\n      target.style.top = `${margin}px`\r\n    }\r\n    if (popoverRect.bottom > viewportHeight) {\r\n      target.style.top = `${viewportHeight - target.offsetHeight - margin}px`\r\n    }\r\n  }\r\n}\r\n","import { LitHTMLHelper, nextFrame } from \"@/helpers/common-helpers\"\r\nimport { html } from \"lit-html\"\r\nimport { Popover } from \"../popover\"\r\nimport { PageLayoutHelper } from \"@/helpers/page-layout-helper\"\r\n\r\nexport class PopoverManager {\r\n  private static readonly initialRootPopoverId: string = \"initial-root-popover\"\r\n  private static readonly popoverElement: HTMLElement = this.initPopover(this.initialRootPopoverId)\r\n\r\n  private static moveArrowPosition(popover: HTMLElement): void {\r\n    const arrowElement = popover.querySelector<HTMLElement>(\".NAME-popover-arrow\")\r\n    if (arrowElement) {\r\n      arrowElement.style.cssText += `\r\n        left: 10px;\r\n      `\r\n    }\r\n  }\r\n\r\n  private static movePopoverToTriggerPosition(trigger: HTMLElement, popover: HTMLElement): void {\r\n    const triggerRect = trigger.getBoundingClientRect()\r\n    popover.style.cssText += `\r\n      left: ${triggerRect.left}px;\r\n      top: ${triggerRect.top + triggerRect.height}px;\r\n    `\r\n    PageLayoutHelper.detectCollisionWithViewportEdges(popover, 10)\r\n    this.moveArrowPosition(popover)\r\n  }\r\n\r\n  static showPopover<TPopover extends typeof Popover>(\r\n    trigger: HTMLElement,\r\n    params: Parameters<TPopover>,\r\n    popoverId?: string\r\n  ): void {\r\n    const popoverElement = popoverId ? document.getElementById(popoverId) || this.popoverElement : this.popoverElement\r\n    const { content } = params[0]\r\n    const contentElement = popoverElement.querySelector(\".NAME-popover-content\")\r\n    if (contentElement) {\r\n      contentElement.replaceChildren(LitHTMLHelper.createElementFromRenderer(() => content, []))\r\n    }\r\n    this.movePopoverToTriggerPosition(trigger, popoverElement)\r\n    popoverElement.classList.add(\"STATE-show\")\r\n  }\r\n\r\n  static forceHidePopover(popoverId?: string): void {\r\n    const popoverElement = popoverId ? document.getElementById(popoverId) || this.popoverElement : this.popoverElement\r\n    popoverElement.classList.remove(\"STATE-show\")\r\n  }\r\n\r\n  private static hidePopoverOnMouseEvent(\r\n    trigger: HTMLElement,\r\n    e: MouseEvent,\r\n    delay?: number,\r\n    popoverId?: string\r\n  ): void {\r\n    const relatedTarget = e.relatedTarget\r\n    const popoverElement = popoverId ? document.getElementById(popoverId) || this.popoverElement : this.popoverElement\r\n    if (\r\n      relatedTarget &&\r\n      relatedTarget instanceof Node &&\r\n      !trigger.contains(relatedTarget) &&\r\n      !popoverElement.contains(relatedTarget)\r\n    ) {\r\n      if (delay && delay > 0) {\r\n        setTimeout(() => {\r\n          popoverElement.classList.remove(\"STATE-show\")\r\n        }, delay)\r\n      } else {\r\n        popoverElement.classList.remove(\"STATE-show\")\r\n      }\r\n    }\r\n  }\r\n\r\n  static bindHideEventToPopover(trigger: HTMLElement, delay?: number, popoverId?: string): void {\r\n    this.popoverElement.onmouseleave = (e) => {\r\n      this.hidePopoverOnMouseEvent(trigger, e, delay, popoverId)\r\n    }\r\n  }\r\n\r\n  static bindHideEventToTrigger(trigger: HTMLElement, delay?: number, popoverId?: string): void {\r\n    trigger.onmouseleave = (e) => {\r\n      this.hidePopoverOnMouseEvent(trigger, e, delay, popoverId)\r\n    }\r\n  }\r\n\r\n  static getPopoverElement(): HTMLElement {\r\n    return this.popoverElement\r\n  }\r\n\r\n  private static initPopover(popoverId?: string): HTMLElement {\r\n    const popoverElement = LitHTMLHelper.createElementFromRenderer<typeof Popover>(Popover, [\r\n      { content: html``, id: popoverId || this.initialRootPopoverId },\r\n    ])\r\n    document.body.appendChild(popoverElement)\r\n    return popoverElement\r\n  }\r\n}\r\n","import { html } from \"lit-html\"\r\nimport { editorContent } from \"../../content/editor.content\"\r\nimport { textLinkingStylish } from \"./text-linking.stylish\"\r\nimport { PopoverManager } from \"@/lib/components/managers/popover.manager\"\r\nimport { ModalManager } from \"@/lib/components/managers/modal.manager\"\r\nimport { EditorInternalErrorHelper } from \"@/helpers/error-helper\"\r\nimport { EErrorMessage, EInternalEvents } from \"@/enums/global-enums\"\r\nimport { copyTextToClipboard, isValidUrl } from \"@/helpers/common-helpers\"\r\nimport type { TOnSaveLink } from \"@/types/api-types\"\r\nimport { eventEmitter } from \"../../event/event-emitter\"\r\n\r\ntype TTextLinkFormData = {\r\n  link: string\r\n  textOfLink: string | null\r\n}\r\n\r\nclass TextLinkingManager {\r\n  private linkTyping: string = \"\"\r\n  private onSaveLink?: TOnSaveLink\r\n  private textLinkForm: HTMLFormElement | null = null\r\n  private debounceTimer: NodeJS.Timeout | undefined = undefined\r\n  private currentLink: string | null = null\r\n  private currentTextOfLink: string | null = null\r\n  private currentTextLinkElement: HTMLAnchorElement | null = null\r\n  private readonly textLinkPopoverId = \"text-link-popover\"\r\n\r\n  constructor() {\r\n    eventEmitter.on(EInternalEvents.BIND_TEXT_LINK_POPOVER_EVENT, (textLinkElement) => {\r\n      this.setupTextLinkElementToShowPopover(textLinkElement)\r\n    })\r\n  }\r\n\r\n  private copyTextLinkToClipboard(link: string, copyBoxElement: HTMLElement): void {\r\n    copyTextToClipboard(link, copyBoxElement)\r\n  }\r\n\r\n  private unlinkFromText(): void {\r\n    if (!this.currentTextLinkElement) return\r\n    const textLinkElement = this.currentTextLinkElement\r\n    if (textLinkElement.tagName !== textLinkingStylish.getTextLinkTagName()) return\r\n    const textLinkChildNodes = textLinkElement.childNodes\r\n    textLinkElement.replaceChildren(...textLinkChildNodes)\r\n  }\r\n\r\n  private handleLinkTyping(e: InputEvent): void {\r\n    const inputElement = e.currentTarget as HTMLInputElement\r\n    clearTimeout(this.debounceTimer)\r\n    this.debounceTimer = setTimeout(() => {\r\n      this.linkTyping = inputElement.value\r\n      const textOfLinkInput = this.textLinkForm?.querySelector<HTMLInputElement>(\".NAME-text-of-link\")\r\n      if (textOfLinkInput && !textOfLinkInput.value) {\r\n        textOfLinkInput.setAttribute(\"value\", this.linkTyping)\r\n      }\r\n    }, 300)\r\n  }\r\n\r\n  private notify(message: string): void {\r\n    console.error(\">>> notify:\", message)\r\n  }\r\n\r\n  private validateFormData(form: HTMLFormElement): TTextLinkFormData | null {\r\n    const formData = new FormData(form)\r\n    const link = formData.get(\"link\") as string | null\r\n    const textOfLink = formData.get(\"text-of-link\") as string | null\r\n    if (!link) {\r\n      this.notify(\"Link and text of link are required\")\r\n      return null\r\n    }\r\n    if (!isValidUrl(link)) {\r\n      this.notify(\"Link is not valid\")\r\n      return null\r\n    }\r\n    return { link, textOfLink }\r\n  }\r\n\r\n  private extractFormData(): TTextLinkFormData | null {\r\n    if (!this.textLinkForm) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.TEXT_LINK_FORM_NOT_FOUND)\r\n    }\r\n    const formData = this.validateFormData(this.textLinkForm)\r\n    if (!formData) return null\r\n    const { link, textOfLink } = formData\r\n    return { link, textOfLink }\r\n  }\r\n\r\n  private saveLinkHandler(e: Event): void {\r\n    e.preventDefault()\r\n    const formData = this.extractFormData()\r\n    if (!formData) return\r\n    if (this.currentTextLinkElement) {\r\n      textLinkingStylish.updateLink(formData.link, formData.textOfLink, this.currentTextLinkElement)\r\n    } else if (this.onSaveLink) {\r\n      this.onSaveLink(formData.link, formData.textOfLink)\r\n    }\r\n  }\r\n\r\n  private catchEnterKey(e: KeyboardEvent): void {\r\n    if (e.key === \"Enter\") {\r\n      this.saveLinkHandler(e)\r\n    }\r\n  }\r\n\r\n  showEditLinkModal(): void {\r\n    ModalManager.showModal([\r\n      {\r\n        title: \"Edit link\",\r\n        body: html`\r\n          <div class=\"bg-white px-4 pt-2 pb-4 rounded-lg shadow-lg\">\r\n            <form\r\n              class=\"NAME-text-link-form space-y-4\"\r\n              action=\"#\"\r\n              @submit=${(e: Event) => this.saveLinkHandler(e)}\r\n              @keydown=${(e: KeyboardEvent) => this.catchEnterKey(e)}\r\n            >\r\n              <div>\r\n                <label class=\"block text-sm font-medium text-black mb-2\">Link</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value=\"${this.currentLink || this.linkTyping || \"\"}\"\r\n                  class=\"NAME-link-input w-full px-3 py-1 border border-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\r\n                  placeholder=\"Enter link\"\r\n                  @input=${(e: InputEvent) => this.handleLinkTyping(e)}\r\n                  name=\"link\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label class=\"block text-sm font-medium text-black mb-2\">Text of link</label>\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"NAME-text-of-link w-full px-3 py-1 border border-gray-400 rounded-md focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent\"\r\n                  placeholder=\"Enter text of link\"\r\n                  value=\"${this.currentTextOfLink}\"\r\n                  name=\"text-of-link\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"pt-2 flex items-center gap-2\">\r\n                ${this.currentTextLinkElement\r\n                  ? html`\r\n                      <button\r\n                        @click=${() => this.unlinkFromText()}\r\n                        class=\"flex items-center justify-center flex-1 gap-2 text-white hover:scale-105 transition duration-200 bg-red-600 rounded-md py-1 px-2 text-sm font-medium cursor-pointer\"\r\n                      >\r\n                        <i class=\"bi bi-trash\"></i>\r\n                        <span>Remove link</span>\r\n                      </button>\r\n                    `\r\n                  : \"\"}\r\n                <button\r\n                  @click=${(e: Event) => this.saveLinkHandler(e)}\r\n                  class=\"flex items-center justify-center flex-1 gap-2 text-white hover:scale-105 transition duration-200 bg-black rounded-md py-1 px-2 cursor-pointer text-sm font-medium\"\r\n                >\r\n                  <i class=\"bi bi-save\"></i>\r\n                  <span>Save link</span>\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        `,\r\n      },\r\n    ])\r\n    this.textLinkForm = ModalManager.getModalElement().querySelector(\".NAME-text-link-form\") as HTMLFormElement\r\n    this.textLinkForm.querySelector<HTMLInputElement>(\".NAME-link-input\")?.focus()\r\n  }\r\n\r\n  showModalOnAction(): void {\r\n    textLinkingStylish.onAction((link, textOfLink, textLinkElement, onSaveLink) => {\r\n      this.currentLink = link\r\n      this.currentTextLinkElement = textLinkElement\r\n      this.currentTextOfLink = textOfLink\r\n      this.onSaveLink = onSaveLink\r\n      this.showEditLinkModal()\r\n    })\r\n  }\r\n\r\n  private showModalOnPopover(link: string | null, textLinkElement: HTMLAnchorElement): void {\r\n    this.currentLink = link\r\n    this.currentTextOfLink = textLinkElement.textContent\r\n    this.currentTextLinkElement = textLinkElement\r\n    this.showEditLinkModal()\r\n  }\r\n\r\n  private showTextLinkPopover(): void {\r\n    const link = this.currentLink\r\n    const textLinkElement = this.currentTextLinkElement\r\n    if (!link || !textLinkElement) return\r\n    PopoverManager.showPopover(\r\n      textLinkElement,\r\n      [\r\n        {\r\n          content: html`<div class=\"flex items-center gap-1 text-gray-800 rounded-md py-1 px-2\">\r\n            <div class=\"text-gray-600 text-xs truncate max-w-[250px] w-fit\">${link}</div>\r\n            <button\r\n              class=\"NAME-copy-box cursor-pointer p-1 hover:bg-gray-200 rounded-md\"\r\n              @click=${(e: MouseEvent) => this.copyTextLinkToClipboard(link, e.currentTarget as HTMLElement)}\r\n            >\r\n              <i class=\"bi bi-copy text-base NAME-copy-copy\"></i>\r\n              <i class=\"bi bi-check-all text-base NAME-copy-copied\"></i>\r\n            </button>\r\n            <button\r\n              class=\"cursor-pointer p-1 hover:bg-gray-200 rounded-md\"\r\n              @click=${() => this.showModalOnPopover(link, textLinkElement)}\r\n            >\r\n              <i class=\"bi bi-pencil text-base\"></i>\r\n            </button>\r\n            <button class=\"cursor-pointer p-1 hover:bg-gray-200 rounded-md\" @click=${() => this.unlinkFromText()}>\r\n              <i class=\"bi bi-trash text-base\"></i>\r\n            </button>\r\n          </div>`,\r\n        },\r\n      ],\r\n      this.textLinkPopoverId\r\n    )\r\n    PopoverManager.bindHideEventToTrigger(textLinkElement, 300, this.textLinkPopoverId)\r\n    PopoverManager.bindHideEventToPopover(textLinkElement, 300, this.textLinkPopoverId)\r\n  }\r\n\r\n  setupTextLinkElementToShowPopover(textLinkElement: HTMLAnchorElement): void {\r\n    textLinkElement[\"binded-text-link-popover-event\"] = true\r\n    textLinkElement.addEventListener(\"mouseenter\", () => {\r\n      this.currentLink = textLinkElement.getAttribute(\"href\")\r\n      this.currentTextOfLink = textLinkElement.textContent\r\n      this.currentTextLinkElement = textLinkElement\r\n      this.showTextLinkPopover()\r\n    })\r\n  }\r\n\r\n  private showPopoverWithLinkInfo(link: string, textLinkElement: HTMLAnchorElement): void {\r\n    this.currentLink = link\r\n    this.currentTextLinkElement = textLinkElement\r\n    this.showTextLinkPopover()\r\n  }\r\n\r\n  showModalAtTextLinkElement(textLinkElement: HTMLAnchorElement): void {\r\n    const link = textLinkElement.getAttribute(\"href\")\r\n    if (link) {\r\n      this.showPopoverWithLinkInfo(link, textLinkElement)\r\n    }\r\n  }\r\n\r\n  showModalOnCaretMoves(selection: Selection): void {\r\n    const node = selection.anchorNode\r\n    const element = node instanceof HTMLElement ? node : node?.parentElement\r\n    if (element && element.tagName === textLinkingStylish.getTextLinkTagName()) {\r\n      this.showModalAtTextLinkElement(element as HTMLAnchorElement)\r\n    } else {\r\n      const linkElement = element?.closest<HTMLAnchorElement>(textLinkingStylish.getTextLinkTagName())\r\n      if (linkElement && editorContent.getContentElement().contains(linkElement)) {\r\n        this.showModalAtTextLinkElement(linkElement)\r\n      } else {\r\n        PopoverManager.forceHidePopover(this.textLinkPopoverId)\r\n      }\r\n    }\r\n  }\r\n\r\n  activateLinksOnEditorContentClick(e: MouseEvent) {\r\n    const target = e.target as HTMLElement\r\n    if (target.tagName === textLinkingStylish.getTextLinkTagName()) {\r\n      const href = target.getAttribute(\"href\")\r\n      if (href) {\r\n        window.open(href, \"_blank\")\r\n      }\r\n    } else {\r\n      const textLinkElement = target.closest(textLinkingStylish.getTextLinkTagName())\r\n      if (textLinkElement) {\r\n        const href = textLinkElement.getAttribute(\"href\")\r\n        if (href) {\r\n          window.open(href, \"_blank\")\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  showTextLinkModalOnContentMouseMove(e: MouseEvent): void {\r\n    queueMicrotask(() => {\r\n      const target = e.target\r\n      if (target instanceof HTMLElement && target.tagName === textLinkingStylish.getTextLinkTagName()) {\r\n        this.showModalAtTextLinkElement(target as HTMLAnchorElement)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const textLinkingManager = new TextLinkingManager()\r\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (document.currentScript && document.currentScript.tagName === 'SCRIPT' && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism’s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","Prism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n","Prism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n","Prism.languages.python = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string-interpolation': {\n\t\tpattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\t// \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n\t\t\t\tpattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-spec': {\n\t\t\t\t\t\tpattern: /(:)[^:(){}]+(?=\\}$)/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'conversion-option': {\n\t\t\t\t\t\tpattern: /![sra](?=[:}]$)/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'triple-quoted-string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n\t\tgreedy: true,\n\t\talias: 'string'\n\t},\n\t'string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n\t\tgreedy: true\n\t},\n\t'function': {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)\\w+/i,\n\t\tlookbehind: true\n\t},\n\t'decorator': {\n\t\tpattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n\t\tlookbehind: true,\n\t\talias: ['annotation', 'punctuation'],\n\t\tinside: {\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n\t'boolean': /\\b(?:False|None|True)\\b/,\n\t'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n\t'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n\nPrism.languages.py = Prism.languages.python;\n","import { ECodeBlockingLanguage, EErrorMessage } from \"@/enums/global-enums.js\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\nimport { EditorInternalErrorHelper } from \"@/helpers/error-helper.js\"\r\nimport type { TWrappingType } from \"@/types/global-types.js\"\r\nimport Prism from \"prismjs\"\r\nimport \"prismjs/components/prism-clike\"\r\nimport \"prismjs/components/prism-javascript\"\r\nimport \"prismjs/components/prism-python\"\r\nimport { TagWrappingEngine } from \"../../engine/wrapping.engine.js\"\r\n\r\ntype TInitCodeBlockHandler = (selection: Selection) => void\r\n\r\ntype TInlineCodeBlockClassName = `language-${string}`\r\n\r\nclass CodeBlockingStylish {\r\n  private readonly codeBlockBoxElementTagName: string = \"DIV\"\r\n  private readonly codeBlockBoxClassName: string = \"NAME-code-block-box\"\r\n  private readonly inlineCodeBlockElementTagName: string = \"CODE\"\r\n\r\n  constructor() {}\r\n\r\n  getCodeBlockBoxElementTagName(): string {\r\n    return this.codeBlockBoxElementTagName\r\n  }\r\n\r\n  getCodeBlockBoxClassName(): string {\r\n    return this.codeBlockBoxClassName\r\n  }\r\n\r\n  jumpToPreviousLineFromInsideCodeBlock(codeBlockParent: HTMLElement): void {\r\n    const topBlockElement = CodeVCNEditorEngine.getTopBlockElementFromElement(codeBlockParent)\r\n    if (!topBlockElement) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.TOP_BLOCK_NOT_FOUND)\r\n    }\r\n    const selection = window.getSelection()\r\n    if (!selection || selection.rangeCount === 0) return\r\n    CodeVCNEditorEngine.moveCaretToPreviousTopBlock(selection)\r\n  }\r\n\r\n  jumpToNewLineFromInsideCodeBlock(codeBlockParent: HTMLElement): void {\r\n    const topBlockElement = CodeVCNEditorEngine.getTopBlockElementFromElement(codeBlockParent)\r\n    if (!topBlockElement) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.TOP_BLOCK_NOT_FOUND)\r\n    }\r\n    const selection = window.getSelection()\r\n    if (!selection || selection.rangeCount === 0) return\r\n    CodeVCNEditorEngine.moveCaretToStartOfNextTopBlock(selection)\r\n  }\r\n\r\n  private generateInlineCodeBlockClassName(language: ECodeBlockingLanguage): TInlineCodeBlockClassName {\r\n    return `language-${language.toLowerCase()}`\r\n  }\r\n\r\n  private createNewInlineCodeBlockElement(language: ECodeBlockingLanguage = ECodeBlockingLanguage.CPP): HTMLElement {\r\n    const inlineCodeBlockElement = document.createElement(this.inlineCodeBlockElementTagName)\r\n    inlineCodeBlockElement.className = this.generateInlineCodeBlockClassName(language)\r\n    return inlineCodeBlockElement\r\n  }\r\n\r\n  private ifTagNameIsCodeBlock(tagName: string): boolean {\r\n    return tagName === this.inlineCodeBlockElementTagName\r\n  }\r\n\r\n  private highlightCodeBlock(codeblockElement: HTMLElement): void {\r\n    Prism.highlightElement(codeblockElement)\r\n  }\r\n\r\n  private highlightCodeBlocksInTopBlocks(topBlocks: HTMLElement[]): void {\r\n    for (const topBlock of topBlocks) {\r\n      for (const inlineCodeBlockElement of topBlock.querySelectorAll<HTMLElement>(this.inlineCodeBlockElementTagName)) {\r\n        this.highlightCodeBlock(inlineCodeBlockElement)\r\n      }\r\n    }\r\n  }\r\n\r\n  private cleanUpElements(container: HTMLElement, wrappingType: TWrappingType, isForceToUnwrap?: boolean): void {\r\n    if (wrappingType === \"unwrap\") {\r\n      if (isForceToUnwrap) {\r\n        CodeVCNEditorEngine.removeOverlapChildTags(container, [this.inlineCodeBlockElementTagName], true)\r\n      }\r\n      CodeVCNEditorEngine.removeEmptyChildrenRecursively(container)\r\n      CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n    } else {\r\n      CodeVCNEditorEngine.removeOverlapChildTags(container, [this.inlineCodeBlockElementTagName])\r\n      CodeVCNEditorEngine.removeEmptyChildrenRecursively(container.parentElement || container)\r\n      CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n    }\r\n  }\r\n\r\n  insertNewTopBlockForCodeBlock(initCodeBlockHandler: TInitCodeBlockHandler): void {\r\n    let selection = CodeVCNEditorEngine.restoreCaretPosition()\r\n    if (!selection) {\r\n      selection = CodeVCNEditorEngine.focusCaretAtEndOfEditorContent()\r\n    }\r\n    if (!selection) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.SELECTION_NOT_FOUND_AFTER_RESTORE)\r\n    }\r\n    if (CodeVCNEditorEngine.isSelectingContent()) {\r\n      const topBlocks = TagWrappingEngine.wrapSelectionInMultipleLines(\r\n        selection,\r\n        [this.inlineCodeBlockElementTagName],\r\n        (range, wrappingType) => {\r\n          TagWrappingEngine.wrapUnwrapRangeByWrapper(\r\n            range,\r\n            this.createNewInlineCodeBlockElement(),\r\n            wrappingType,\r\n            (range) =>\r\n              TagWrappingEngine.checkIfRangeIsInsideWrapper(\r\n                range,\r\n                (element) =>\r\n                  this.ifTagNameIsCodeBlock(element.tagName) &&\r\n                  element.contains(range.startContainer) &&\r\n                  element.contains(range.endContainer)\r\n              ),\r\n            (container, type, isForceToUnwrap) => {\r\n              this.cleanUpElements(container, type, isForceToUnwrap)\r\n            }\r\n          )\r\n        }\r\n      )\r\n      if (topBlocks) {\r\n        this.highlightCodeBlocksInTopBlocks(topBlocks)\r\n      }\r\n    } else {\r\n      const { topBlockElement, isEmpty } = CodeVCNEditorEngine.isEmptyTopBlock(selection)\r\n      if (topBlockElement) {\r\n        if (!isEmpty) {\r\n          CodeVCNEditorEngine.splitCurrentTopBlockElementAtCaret(selection, true)\r\n        }\r\n        initCodeBlockHandler(selection)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport const codeBlockingStylish = new CodeBlockingStylish()\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2,MATHML:3},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,d=o=>void 0!==o?._$litDirective$,c=o=>o?._$litDirective$,f=o=>void 0===o.strings,r=()=>document.createComment(\"\"),s=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(r(),l),d=e.insertBefore(r(),l);n=new t(i,d,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,d=i!==o;if(d){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||d){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,M=o=>{o._$AR(),o._$AA.remove()},h=o=>{o._$AR()};export{n as TemplateResultType,h as clearPart,p as getCommittedValue,c as getDirectiveClass,s as insertPart,l as isCompiledTemplateResult,d as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,M as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import{noChange as e}from\"../lit-html.js\";import{directive as s,Directive as t,PartType as r}from\"../directive.js\";import{getCommittedValue as l,setChildPartValue as o,insertPart as i,removePart as n,setCommittedValue as f}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},c=s(class extends t{constructor(e){if(super(e),e.type!==r.CHILD)throw Error(\"repeat() can only be used in text expressions\")}dt(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],o=[];let i=0;for(const s of e)l[i]=r?r(s,i):i,o[i]=t(s,i),i++;return{values:o,keys:l}}render(e,s,t){return this.dt(e,s,t).values}update(s,[t,r,c]){const d=l(s),{values:p,keys:a}=this.dt(t,r,c);if(!Array.isArray(d))return this.ut=a,p;const h=this.ut??=[],v=[];let m,y,x=0,j=d.length-1,k=0,w=p.length-1;for(;x<=j&&k<=w;)if(null===d[x])x++;else if(null===d[j])j--;else if(h[x]===a[k])v[k]=o(d[x],p[k]),x++,k++;else if(h[j]===a[w])v[w]=o(d[j],p[w]),j--,w--;else if(h[x]===a[w])v[w]=o(d[x],p[w]),i(s,v[w+1],d[x]),x++,w--;else if(h[j]===a[k])v[k]=o(d[j],p[k]),i(s,d[x],d[j]),j--,k++;else if(void 0===m&&(m=u(a,k,w),y=u(h,x,j)),m.has(h[x]))if(m.has(h[j])){const e=y.get(a[k]),t=void 0!==e?d[e]:null;if(null===t){const e=i(s,d[x]);o(e,p[k]),v[k]=e}else v[k]=o(t,p[k]),i(s,d[x],t),d[e]=null;k++}else n(d[j]),j--;else n(d[x]),x++;for(;k<=w;){const e=i(s,v[w+1]);o(e,p[k]),v[k++]=e}for(;x<=j;){const e=d[x++];null!==e&&n(e)}return this.ut=a,f(s,v),e}});export{c as repeat};\n//# sourceMappingURL=repeat.js.map\n","import { html, type TemplateResult } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { ifDefined } from \"lit-html/directives/if-defined.js\"\r\n\r\ntype TableProps = {\r\n  rows: {\r\n    key: string\r\n    rowClassName?: string\r\n    cells: {\r\n      key: string\r\n      content: TemplateResult<1>\r\n      className?: string\r\n    }[]\r\n  }[]\r\n} & Partial<{\r\n  isInsideEditorContent?: boolean\r\n}>\r\n\r\nexport const Table = ({ rows, isInsideEditorContent }: TableProps): TemplateResult<1> => {\r\n  return html`<table ?class=${!isInsideEditorContent && \"NAME-table\"}>\r\n    <tbody>\r\n      ${rows &&\r\n      repeat(\r\n        rows,\r\n        ({ key }) => key,\r\n        ({ rowClassName, cells }) => html`<tr ?class=${rowClassName}>\r\n          ${repeat(\r\n            cells,\r\n            ({ key }) => key,\r\n            ({ content, className }) => html`<td ?class=${className}>${content}</td>`\r\n          )}\r\n        </tr>`\r\n      )}\r\n    </tbody>\r\n  </table>`\r\n}\r\n","import { EditorInternalErrorHelper } from \"@/helpers/error-helper\"\r\nimport { CodeVCNEditorEngine } from \"../../engine/codevcn-editor.engine\"\r\nimport { EErrorMessage } from \"@/enums/global-enums\"\r\n\r\nclass TablePlacingStylish {\r\n  private readonly tableCellTagName: string = \"TD\"\r\n  private readonly tableTagName: string = \"TABLE\"\r\n  private readonly tableRowTagName: string = \"TR\"\r\n  private readonly tableBodyTagName: string = \"TBODY\"\r\n\r\n  constructor() {}\r\n\r\n  getTableCellTagName(): string {\r\n    return this.tableCellTagName\r\n  }\r\n\r\n  getTableTagName(): string {\r\n    return this.tableTagName\r\n  }\r\n\r\n  getTableRowTagName(): string {\r\n    return this.tableRowTagName\r\n  }\r\n\r\n  getTableBodyTagName(): string {\r\n    return this.tableBodyTagName\r\n  }\r\n\r\n  insertNewTableIntoCurrentCaret(tableElement: HTMLElement): void {\r\n    CodeVCNEditorEngine.restoreCaretPosition()\r\n    let selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection) {\r\n      CodeVCNEditorEngine.focusCaretAtEndOfEditorContent()\r\n      selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n      if (!selection) {\r\n        throw EditorInternalErrorHelper.createError(EErrorMessage.SELECTION_NOT_FOUND_AFTER_RESTORE)\r\n      }\r\n    }\r\n    const { topBlockElement, isEmpty } = CodeVCNEditorEngine.isEmptyTopBlock(selection)\r\n    if (topBlockElement) {\r\n      if (!isEmpty) {\r\n        CodeVCNEditorEngine.insertNewTopBlockElementAfterElement(selection, topBlockElement)\r\n      }\r\n      CodeVCNEditorEngine.insertElementAtCaret(tableElement, selection)\r\n      const firstCellElement = tableElement.querySelector<HTMLElement>(this.tableCellTagName)\r\n      if (firstCellElement) {\r\n        CodeVCNEditorEngine.moveCaretToElement(firstCellElement, selection, selection.getRangeAt(0), \"end\")\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport const tablePlacingStylish = new TablePlacingStylish()\r\n","import { getElementIndexInParent, LitHTMLHelper, setupKeyIndexForObjectArray } from \"@/helpers/common-helpers\"\r\nimport { Table } from \"@/lib/components/table\"\r\nimport { html } from \"lit-html\"\r\nimport { ModalManager } from \"@/lib/components/managers/modal.manager\"\r\nimport { tablePlacingStylish } from \"./table-placing.stylish\"\r\nimport { CodeVCNEditorEngine } from \"../../engine/codevcn-editor.engine\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { PopoverManager } from \"@/lib/components/managers/popover.manager\"\r\n\r\ntype TTablePlacingModalFormData = {\r\n  columns: number\r\n  rows: number\r\n}\r\n\r\nclass TablePlacingManager {\r\n  private preHighlightedCellElement: HTMLElement | null = null\r\n  private addColumnBtnElement: HTMLElement\r\n  private addRowBtnElement: HTMLElement\r\n  private coordinatesRowOptionsBtn: HTMLElement\r\n  private coordinatesColumnOptionsBtn: HTMLElement\r\n\r\n  constructor() {\r\n    this.addColumnBtnElement = this.createAddColumnBtnElement()\r\n    this.addRowBtnElement = this.createAddRowBtnElement()\r\n    this.coordinatesRowOptionsBtn = this.createCoordinatesRowOptionsBtn()\r\n    this.coordinatesColumnOptionsBtn = this.createCoordinatesColumnOptionsBtn()\r\n    document.body.append(\r\n      this.addColumnBtnElement,\r\n      this.addRowBtnElement,\r\n      this.coordinatesRowOptionsBtn,\r\n      this.coordinatesColumnOptionsBtn\r\n    )\r\n  }\r\n\r\n  private showCoordinatesOptionsPopover(coordinatesOptionsBtn: HTMLElement, type: \"row\" | \"column\"): void {\r\n    const isRow: boolean = type === \"row\"\r\n    PopoverManager.showPopover(\r\n      coordinatesOptionsBtn,\r\n      [\r\n        {\r\n          content: html`\r\n            <div class=\"flex flex-col gap-1 text-sm text-gray-800 bg-white py-1 rounded-md\">\r\n              <button\r\n                class=\"flex items-center cursor-pointer gap-1 rounded w-full py-0.5 px-2 hover:bg-red-100 hover:text-red-600\"\r\n              >\r\n                <i class=\"bi bi-trash text-sm\"></i>\r\n                <span>Delete ${isRow ? \"Row\" : \"Column\"}</span>\r\n              </button>\r\n              <button class=\"flex items-center cursor-pointer gap-1 rounded w-full py-0.5 px-2 hover:bg-gray-100\">\r\n                ${isRow\r\n                  ? html`<i class=\"bi bi-arrow-90deg-up text-sm\"></i>`\r\n                  : html`<i class=\"bi bi-arrow-90deg-left text-sm\"></i>`}\r\n                <span>Insert ${isRow ? \"Row\" : \"Column\"} ${isRow ? \"Above\" : \"Left\"}</span>\r\n              </button>\r\n              <button class=\"flex items-center cursor-pointer gap-1 rounded w-full py-0.5 px-2 hover:bg-gray-100\">\r\n                ${isRow\r\n                  ? html`<i class=\"bi bi-arrow-90deg-down text-sm\"></i>`\r\n                  : html`<i class=\"bi bi-arrow-90deg-right text-sm\"></i>`}\r\n                <span>Insert ${isRow ? \"Row\" : \"Column\"} ${isRow ? \"Below\" : \"Right\"}</span>\r\n              </button>\r\n            </div>\r\n          `,\r\n        },\r\n      ],\r\n      \"table-coordinates-options-popover\"\r\n    )\r\n  }\r\n\r\n  private createCoordinatesRowOptionsBtn(): HTMLElement {\r\n    return LitHTMLHelper.createElementFromRenderer(\r\n      () =>\r\n        html`<button\r\n          class=\"NAME-coordinates-row-options cursor-pointer px-0.5 py-0.5 border border-regular-table-border-cl bg-white hover:bg-gray-100 rounded\"\r\n          @click=${() => this.showCoordinatesOptionsPopover(this.coordinatesRowOptionsBtn, \"row\")}\r\n        >\r\n          <i class=\"bi bi-three-dots-vertical text-sm\"></i>\r\n        </button>`,\r\n      []\r\n    )\r\n  }\r\n\r\n  private createCoordinatesColumnOptionsBtn(): HTMLElement {\r\n    return LitHTMLHelper.createElementFromRenderer(\r\n      () =>\r\n        html`<button\r\n          class=\"NAME-coordinates-column-options cursor-pointer px-0.5 py-0.5 border border-regular-table-border-cl bg-white hover:bg-gray-100 rounded\"\r\n          @click=${() => this.showCoordinatesOptionsPopover(this.coordinatesColumnOptionsBtn, \"column\")}\r\n        >\r\n          <i class=\"bi bi-three-dots text-sm\"></i>\r\n        </button>`,\r\n      []\r\n    )\r\n  }\r\n\r\n  private createAddColumnBtnElement(): HTMLElement {\r\n    return LitHTMLHelper.createElementFromRenderer(\r\n      () => html`<div class=\"NAME-add-table-column-btn-container\">\r\n        <button\r\n          class=\"flex items-center justify-center cursor-pointer bg-white gap-1 p-0.5 rounded w-full border border-regular-table-border-cl hover:bg-gray-100\"\r\n        >\r\n          <i class=\"bi bi-plus-lg text-sm\"></i>\r\n        </button>\r\n      </div>`,\r\n      []\r\n    )\r\n  }\r\n\r\n  private hideShowAddColumnBtnElement(show: boolean, tableElement: HTMLElement): void {\r\n    this.addColumnBtnElement.classList.toggle(\"STATE-show\", show)\r\n    if (show) {\r\n      const tableElementRect = tableElement.getBoundingClientRect()\r\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft\r\n      this.addColumnBtnElement.style.cssText = `\r\n        left: ${tableElementRect.right + scrollLeft - 2}px;\r\n        top: ${tableElementRect.top + scrollTop}px;\r\n        height: ${tableElementRect.height}px;\r\n        padding-left: 8px;\r\n      `\r\n    }\r\n  }\r\n\r\n  private createNewEmptyColumnElement(rowsCount: number): HTMLElement {\r\n    const cells: Parameters<typeof Table>[0][\"rows\"][0][\"cells\"] = []\r\n    for (let i = 0; i < rowsCount; i++) {\r\n      cells.push({\r\n        key: `cell-${i}`,\r\n        content: html`<td>\r\n          <div><br /></div>\r\n        </td>`,\r\n      })\r\n    }\r\n    return LitHTMLHelper.createElementFromRenderer(\r\n      () => html`<tr>\r\n        ${repeat(\r\n          cells,\r\n          ({ key }) => key,\r\n          ({ content }) => content\r\n        )}\r\n      </tr>`,\r\n      []\r\n    )\r\n  }\r\n\r\n  private createNewEmptyColumnsElement(columnsCount: number, rowsCount: number): HTMLElement[] {\r\n    const columns: HTMLElement[] = []\r\n    for (let i = 0; i < columnsCount; i++) {\r\n      columns.push(this.createNewEmptyColumnElement(rowsCount))\r\n    }\r\n    return columns\r\n  }\r\n\r\n  private insertNewEmptyColumnsElement(columnsCount: number, rowsCount: number, tableElement: HTMLElement): void {\r\n    const columns = this.createNewEmptyColumnsElement(columnsCount, rowsCount)\r\n    tableElement.append(...columns)\r\n    this.hideShowAddColumnBtnElement(true, tableElement)\r\n  }\r\n\r\n  private onClickOnAddColumnBtn(tableElement: HTMLElement): void {\r\n    const rowsCount =\r\n      tableElement.querySelectorAll<HTMLElement>(\r\n        `${tablePlacingStylish.getTableBodyTagName()} ${tablePlacingStylish.getTableRowTagName()}`\r\n      ).length || 0\r\n    this.insertNewEmptyColumnsElement(1, rowsCount, tableElement)\r\n  }\r\n\r\n  private createAddRowBtnElement(): HTMLElement {\r\n    return LitHTMLHelper.createElementFromRenderer(\r\n      () => html`<div class=\"NAME-add-table-row-btn-container\">\r\n        <button\r\n          class=\"flex items-center justify-center cursor-pointer bg-white gap-1 p-0.5 rounded w-full border border-regular-table-border-cl hover:bg-gray-100\"\r\n        >\r\n          <i class=\"bi bi-plus-lg text-sm\"></i>\r\n        </button>\r\n      </div>`,\r\n      []\r\n    )\r\n  }\r\n\r\n  private hideShowAddRowBtnElement(show: boolean, tableElement: HTMLElement): void {\r\n    this.addRowBtnElement.classList.toggle(\"STATE-show\", show)\r\n    if (show) {\r\n      const tableElementRect = tableElement.getBoundingClientRect()\r\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop\r\n      const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft\r\n      this.addRowBtnElement.style.cssText = `\r\n        left: ${tableElementRect.left + scrollLeft}px;\r\n        top: ${tableElementRect.bottom + scrollTop - 2}px;\r\n        width: ${tableElementRect.width}px;\r\n        padding-top: 8px;\r\n      `\r\n    }\r\n  }\r\n\r\n  private createNewEmptyRowElement(columnsCount: number): HTMLElement {\r\n    const cells: Parameters<typeof Table>[0][\"rows\"][0][\"cells\"] = []\r\n    for (let j = 0; j < columnsCount; j++) {\r\n      cells.push({\r\n        key: `cell-${j}`,\r\n        content: html`<td>\r\n          <div><br /></div>\r\n        </td>`,\r\n      })\r\n    }\r\n    return LitHTMLHelper.createElementFromRenderer(\r\n      () => html`<tr>\r\n        ${repeat(\r\n          cells,\r\n          ({ key }) => key,\r\n          ({ content }) => content\r\n        )}\r\n      </tr>`,\r\n      []\r\n    )\r\n  }\r\n\r\n  private createNewEmptyRowsElement(rowsCount: number, columnsCountPerRow: number): HTMLElement[] {\r\n    const rows: HTMLElement[] = []\r\n    for (let i = 0; i < rowsCount; i++) {\r\n      rows.push(this.createNewEmptyRowElement(columnsCountPerRow))\r\n    }\r\n    return rows\r\n  }\r\n\r\n  private insertNewEmptyRowsElement(rowsCount: number, columnsCountPerRow: number, tableElement: HTMLElement): void {\r\n    const rows = this.createNewEmptyRowsElement(rowsCount, columnsCountPerRow)\r\n    tableElement.append(...rows)\r\n    this.hideShowAddRowBtnElement(true, tableElement)\r\n  }\r\n\r\n  private createNewTableElement(rowsCount: number, columnsCount: number): HTMLElement {\r\n    const rows: Parameters<typeof Table>[0][\"rows\"] = []\r\n    for (let i = 0; i < rowsCount; i++) {\r\n      const cells: Parameters<typeof Table>[0][\"rows\"][0][\"cells\"] = []\r\n      for (let j = 0; j < columnsCount; j++) {\r\n        cells.push({\r\n          key: `cell-${j}`,\r\n          className: \"\",\r\n          content: html`<div><br /></div>`,\r\n        })\r\n      }\r\n      rows.push({\r\n        key: `row-${i}`,\r\n        rowClassName: \"\",\r\n        cells,\r\n      })\r\n    }\r\n    return LitHTMLHelper.createElementFromRenderer(Table, [\r\n      {\r\n        rows,\r\n        isInsideEditorContent: true,\r\n      },\r\n    ])\r\n  }\r\n\r\n  private onClickOnAddRowBtn(tableElement: HTMLElement): void {\r\n    const lastRow = tableElement.querySelector(tablePlacingStylish.getTableBodyTagName())?.lastElementChild\r\n    const columnsCount = lastRow\r\n      ? lastRow.querySelectorAll<HTMLTableCellElement>(tablePlacingStylish.getTableCellTagName()).length\r\n      : 0\r\n    this.insertNewEmptyRowsElement(1, columnsCount, tableElement)\r\n  }\r\n\r\n  private bindHideShowAddRowBtnElement(tableElement: HTMLElement): void {\r\n    tableElement.addEventListener(\"mouseenter\", () => {\r\n      this.hideShowAddRowBtnElement(true, tableElement)\r\n      this.addRowBtnElement.onclick = () => {\r\n        this.onClickOnAddRowBtn(tableElement)\r\n      }\r\n      this.hideShowAddColumnBtnElement(true, tableElement)\r\n      this.addColumnBtnElement.onclick = () => {\r\n        this.onClickOnAddColumnBtn(tableElement)\r\n      }\r\n    })\r\n    tableElement.addEventListener(\"mouseleave\", (e) => {\r\n      const relatedTarget = e.relatedTarget as Node\r\n      if (!(tableElement.contains(relatedTarget) || this.addRowBtnElement.contains(relatedTarget))) {\r\n        this.hideShowAddRowBtnElement(false, tableElement)\r\n      }\r\n      if (!(tableElement.contains(relatedTarget) || this.addColumnBtnElement.contains(relatedTarget))) {\r\n        this.hideShowAddColumnBtnElement(false, tableElement)\r\n      }\r\n    })\r\n    this.addRowBtnElement.addEventListener(\"mouseleave\", (e) => {\r\n      const relatedTarget = e.relatedTarget as Node\r\n      if (tableElement.contains(relatedTarget) || this.addRowBtnElement.contains(relatedTarget)) return\r\n      this.hideShowAddRowBtnElement(false, tableElement)\r\n    })\r\n    this.addColumnBtnElement.addEventListener(\"mouseleave\", (e) => {\r\n      const relatedTarget = e.relatedTarget as Node\r\n      if (tableElement.contains(relatedTarget) || this.addColumnBtnElement.contains(relatedTarget)) return\r\n      this.hideShowAddColumnBtnElement(false, tableElement)\r\n    })\r\n  }\r\n\r\n  private insertNewTableIntoCurrentCaret(rowsCount: number, columnsCount: number): void {\r\n    const tableElement = this.createNewTableElement(rowsCount, columnsCount)\r\n    tablePlacingStylish.insertNewTableIntoCurrentCaret(tableElement)\r\n    this.bindHideShowAddRowBtnElement(tableElement)\r\n  }\r\n\r\n  private notify(message: string): void {\r\n    console.error(\">>> notify:\", message)\r\n  }\r\n\r\n  private validateTablePlacingModalForm(form: HTMLFormElement): TTablePlacingModalFormData | null {\r\n    const formData = new FormData(form)\r\n    const columns = parseInt(formData.get(\"table-columns\") as string)\r\n    const rows = parseInt(formData.get(\"table-rows\") as string)\r\n    if (!columns || !rows) {\r\n      this.notify(\"Số cột và số bàn là bắt buộc\")\r\n      return null\r\n    }\r\n    if (columns < 1 || rows < 1) {\r\n      this.notify(\"Số cột và số bàn phải lớn hơn 0\")\r\n      return null\r\n    }\r\n    return { columns, rows }\r\n  }\r\n\r\n  private onTablePlacingModalSubmit(e: SubmitEvent): void {\r\n    e.preventDefault()\r\n    const form = e.target as HTMLFormElement\r\n    const formData = this.validateTablePlacingModalForm(form)\r\n    if (!formData) return\r\n    const { columns, rows } = formData\r\n    this.insertNewTableIntoCurrentCaret(rows, columns)\r\n    ModalManager.hideModal(ModalManager.getModalElement())\r\n  }\r\n\r\n  showTablePlacingModal(): void {\r\n    ModalManager.showModal([\r\n      {\r\n        title: \"Add Table\",\r\n        body: html`\r\n          <form @submit=${(e: SubmitEvent) => this.onTablePlacingModalSubmit(e)} class=\"flex flex-col gap-4 p-4\">\r\n            <div class=\"flex flex-col\">\r\n              <label for=\"table-rows\" class=\"mb-1 font-medium\">Số bàn</label>\r\n              <input\r\n                id=\"table-rows-input\"\r\n                name=\"table-rows\"\r\n                type=\"number\"\r\n                class=\"border rounded px-2 py-1\"\r\n                placeholder=\"Nhập số bàn\"\r\n                value=\"1\"\r\n              />\r\n            </div>\r\n            <div class=\"flex flex-col\">\r\n              <label for=\"table-columns\" class=\"mb-1 font-medium\">Số cột</label>\r\n              <input\r\n                id=\"table-columns-input\"\r\n                name=\"table-columns\"\r\n                type=\"number\"\r\n                class=\"border rounded px-2 py-1\"\r\n                placeholder=\"Nhập số cột\"\r\n                value=\"2\"\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              class=\"bg-black cursor-pointer text-white px-4 py-1 rounded-md hover:scale-105 transition\"\r\n            >\r\n              Tạo bảng\r\n            </button>\r\n          </form>\r\n        `,\r\n      },\r\n    ])\r\n    ModalManager.getModalElement().querySelector<HTMLInputElement>(\"#table-rows-input\")?.focus()\r\n  }\r\n\r\n  private highlightCellFocusedOnSelectionChange(cellElement: HTMLElement | null): void {\r\n    if (cellElement) {\r\n      if (cellElement.isSameNode(this.preHighlightedCellElement)) return\r\n      this.preHighlightedCellElement?.classList.remove(\"STATE-highlight-cell\")\r\n      cellElement.classList.add(\"STATE-highlight-cell\")\r\n      this.preHighlightedCellElement = cellElement\r\n    } else {\r\n      this.preHighlightedCellElement?.classList.remove(\"STATE-highlight-cell\")\r\n      this.preHighlightedCellElement = null\r\n    }\r\n  }\r\n\r\n  private showTableCoordinatesOptionsOnSelectionChange(cellElement: HTMLElement | null): void {\r\n    if (cellElement) {\r\n      const tableElement = cellElement.closest<HTMLElement>(tablePlacingStylish.getTableTagName())\r\n      if (!tableElement) return\r\n      const firstRow = tableElement.querySelector(tablePlacingStylish.getTableBodyTagName())?.firstElementChild\r\n      if (!firstRow) return\r\n      const cellsInFirstRow = firstRow.querySelectorAll<HTMLTableCellElement>(tablePlacingStylish.getTableCellTagName())\r\n      const cellIndexInFirstRow = getElementIndexInParent(cellElement)\r\n      const respectiveCellInFirstRow = cellsInFirstRow[cellIndexInFirstRow]\r\n      const currentRow = cellElement.parentElement\r\n      const firstCellInRow = currentRow?.firstElementChild\r\n      if (!firstCellInRow || !respectiveCellInFirstRow) return\r\n      const respectiveCellInFirstRowRect = respectiveCellInFirstRow.getBoundingClientRect()\r\n      const firstCellInRowRect = firstCellInRow.getBoundingClientRect()\r\n      const coordinatesRowOptionsRect = this.coordinatesRowOptionsBtn.getBoundingClientRect()\r\n      const coordinatesColumnOptionsRect = this.coordinatesColumnOptionsBtn.getBoundingClientRect()\r\n      this.coordinatesRowOptionsBtn.classList.add(\"STATE-show\")\r\n      this.coordinatesRowOptionsBtn.style.cssText = `\r\n        left: ${firstCellInRowRect.left - coordinatesRowOptionsRect.width / 2}px;\r\n        top: ${firstCellInRowRect.top + firstCellInRowRect.height / 2 - coordinatesRowOptionsRect.height / 2}px;\r\n      `\r\n      this.coordinatesColumnOptionsBtn.classList.add(\"STATE-show\")\r\n      this.coordinatesColumnOptionsBtn.style.cssText = `\r\n        left: ${\r\n          respectiveCellInFirstRowRect.left +\r\n          respectiveCellInFirstRowRect.width / 2 -\r\n          coordinatesColumnOptionsRect.width / 2\r\n        }px;\r\n        top: ${respectiveCellInFirstRowRect.top - coordinatesColumnOptionsRect.height / 2}px;\r\n      `\r\n    } else {\r\n      this.coordinatesRowOptionsBtn.classList.remove(\"STATE-show\")\r\n      this.coordinatesColumnOptionsBtn.classList.remove(\"STATE-show\")\r\n    }\r\n  }\r\n\r\n  private onSelectionChangeOverTableCells(selection: Selection): void {\r\n    const parentOfRange = selection.getRangeAt(0).commonAncestorContainer\r\n    const closestCellElement = CodeVCNEditorEngine.getClosestParentOfElement(\r\n      parentOfRange instanceof HTMLElement ? parentOfRange : parentOfRange.parentElement!,\r\n      (element) => element.tagName === tablePlacingStylish.getTableCellTagName()\r\n    )\r\n    queueMicrotask(() => {\r\n      this.highlightCellFocusedOnSelectionChange(closestCellElement)\r\n    })\r\n    queueMicrotask(() => {\r\n      this.showTableCoordinatesOptionsOnSelectionChange(closestCellElement)\r\n    })\r\n  }\r\n\r\n  onEditorContentSelectionChange(selection: Selection): void {\r\n    this.onSelectionChangeOverTableCells(selection)\r\n  }\r\n}\r\n\r\nexport const tablePlacingManager = new TablePlacingManager()\r\n","import { html } from \"lit-html\"\r\nimport { textListingStylish } from \"../toolbar/text-listing/text-listing.stylish.js\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\nimport { blockquoteStylish } from \"../toolbar/text-blocking/blockquote/blockquote.stylish.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { addImageModalManager } from \"../toolbar/image-blocking/add-image.manager.js\"\r\nimport { textLinkingManager } from \"../toolbar/text-linking/text-linking.manager.js\"\r\nimport { codeBlockingStylish } from \"../toolbar/code-blocking/code-blocking.stylish.js\"\r\nimport { TagWrappingPreparationEngine } from \"../engine/preparation.engine.js\"\r\nimport { tablePlacingManager } from \"../toolbar/table-placing/table-placing.manager.js\"\r\n\r\nclass EditorContent {\r\n  private contentElement: HTMLElement\r\n  private contentElementName: string = \"NAME-editor-content\"\r\n\r\n  constructor() {\r\n    this.contentElement = this.createContentElement()\r\n    this.setupContentArea()\r\n  }\r\n\r\n  private setupContentArea(): void {\r\n    this.bindContentEventListener()\r\n    this.bindSelectionChangeEventListener()\r\n    this.bindKeydownEventListener()\r\n    this.bindBeforeInputEventListener()\r\n    this.bindPasteEventListener()\r\n    this.bindMouseMoveEventListener()\r\n  }\r\n\r\n  private bindMouseMoveEventListener(): void {\r\n    let timer: NodeJS.Timeout\r\n    const debounceTime: number = 100\r\n    this.contentElement.addEventListener(\"mousemove\", (e) => {\r\n      clearTimeout(timer)\r\n      timer = setTimeout(() => {\r\n        textLinkingManager.showTextLinkModalOnContentMouseMove(e)\r\n      }, debounceTime)\r\n    })\r\n  }\r\n\r\n  private bindKeydownEventListener(): void {\r\n    this.contentElement.addEventListener(\"keydown\", (e) => {\r\n      if (this.isEventAllowed(e)) {\r\n        queueMicrotask(() => {\r\n          textListingStylish.onAction(undefined, e)\r\n          blockquoteStylish.onAction(undefined, e)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  private bindContentEventListener(): void {\r\n    this.contentElement.addEventListener(\"click\", (e) => {\r\n      if (this.isEventAllowed(e)) {\r\n        textLinkingManager.activateLinksOnEditorContentClick(e)\r\n      }\r\n    })\r\n  }\r\n\r\n  private bindSelectionChangeEventListener(): void {\r\n    document.addEventListener(\"selectionchange\", (e) => {\r\n      if (this.isEventAllowed(e)) {\r\n        CodeVCNEditorEngine.saveCurrentCaretPosition()\r\n        queueMicrotask(() => {\r\n          const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n          if (selection) {\r\n            textLinkingManager.showModalOnCaretMoves(selection)\r\n            tablePlacingManager.onEditorContentSelectionChange(selection)\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Hàm xử lý sự kiện beforeinput (hàm được gọi khi người dùng nhập chỉnh sửa content trong editor)\r\n   */\r\n  private bindBeforeInputEventListener(): void {\r\n    this.contentElement.addEventListener(\"beforeinput\", (e) => {\r\n      const inputType = e.inputType\r\n      if (inputType === \"insertParagraph\") {\r\n        if (this.isEventAllowed(e)) {\r\n          e.preventDefault()\r\n          this.makeNewLine()\r\n        }\r\n      }\r\n      if (inputType === \"insertText\" || inputType === \"insertCompositionText\") {\r\n        if (this.isEventAllowed(e)) {\r\n          TagWrappingPreparationEngine.completeStylingForWrapping(e)\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  private bindPasteEventListener(): void {\r\n    this.contentElement.addEventListener(\"paste\", (e) => {\r\n      if (this.isEventAllowed(e)) {\r\n        queueMicrotask(() => {\r\n          addImageModalManager.onPasteImage(e)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  private isEventAllowed(e: Event): boolean {\r\n    const target = e.target\r\n    if (target instanceof HTMLElement && target.closest(`.${codeBlockingStylish.getCodeBlockBoxClassName()}`)) {\r\n      return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  getContentElementName(): string {\r\n    return this.contentElementName\r\n  }\r\n\r\n  private createContentElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`\r\n        <div\r\n          class=\"${this.contentElementName} py-4 px-8 min-h-[300px] outline-none\"\r\n          contenteditable=\"true\"\r\n          spellcheck=\"false\"\r\n        ></div>\r\n      `\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private makeNewLine(): void {\r\n    const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection) return\r\n    const topBlockElement = CodeVCNEditorEngine.getTopBlockElementFromSelection(selection)\r\n    if (topBlockElement) {\r\n      CodeVCNEditorEngine.splitElementInHalfAtCaret(topBlockElement, selection)\r\n    } else {\r\n      this.contentElement.appendChild(CodeVCNEditorEngine.createNewEmptyTopBlockElement())\r\n    }\r\n  }\r\n\r\n  getContentElement(): HTMLElement {\r\n    return this.contentElement\r\n  }\r\n}\r\n\r\nexport const editorContent = new EditorContent()\r\n","import { html } from \"lit-html\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass EditorFrame {\r\n  private frameElement: HTMLElement\r\n  private frameElementClassName: string = \"NAME-editor-frame\"\r\n  private codevcnEditorClassName: string = \"NAME-codevcn-editor\"\r\n\r\n  constructor() {\r\n    this.frameElement = this.createFrameElement()\r\n  }\r\n\r\n  private createFrameElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div\r\n        class=\"${this.frameElementClassName} ${this\r\n          .codevcnEditorClassName} w-full max-w-3xl mx-auto border rounded-lg shadow bg-white\"\r\n      ></div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getFrameElement(): HTMLElement {\r\n    return this.frameElement\r\n  }\r\n}\r\n\r\nexport const editorFrame = new EditorFrame()\r\n","type TButtonClickCallback<TAction extends string> = (action: TAction, value?: string) => void\r\n\r\nexport class ToolbarButton<TAction extends string> {\r\n  element: HTMLElement\r\n  action: TAction\r\n  value?: string\r\n\r\n  constructor(el: HTMLElement) {\r\n    this.element = el\r\n    this.action = (el.getAttribute(\"data-action\") as TAction) || (\"\" as TAction)\r\n    this.value = el.getAttribute(\"data-value\") || undefined\r\n  }\r\n\r\n  onClick(callback: TButtonClickCallback<TAction>) {\r\n    this.element.addEventListener(\"click\", () => {\r\n      callback(this.action, this.value)\r\n    })\r\n  }\r\n}\r\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","import { html, type TemplateResult } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\n\r\ntype TCustomDropDownProps = {\r\n  options: ({\r\n    value: string\r\n    label: string\r\n  } & Partial<{\r\n    className: string\r\n  }>)[]\r\n} & Partial<{\r\n  classNames: Partial<{\r\n    btn: string\r\n    container: string\r\n  }>\r\n}>\r\n\r\nexport const DropdownMenu = ({ options, classNames }: TCustomDropDownProps): TemplateResult<1> => {\r\n  return html`\r\n    <div class=\"NAME-dropdown-menu fixed top-0 left-0\">\r\n      <div\r\n        class=\"NAME-dropdown-menu-options flex flex-col gap-1 rounded-lg duration-200 ease-in-out bg-white border border-regular-border-cl z-50 p-1.5 ${classNames?.container ||\r\n        \"\"}\"\r\n      >\r\n        ${options && options.length > 0\r\n          ? repeat(\r\n              options,\r\n              ({ value }) => value,\r\n              ({ value, label, className }) =>\r\n                html`\r\n                  <button\r\n                    class=\"NAME-dropdown-option flex items-center px-1.5 py-0.5 leading-[1.5] w-full cursor-pointer rounded ${className ||\r\n                    \"\"}\"\r\n                    data-value=\"${value}\"\r\n                  >\r\n                    ${unsafeHTML(label)}\r\n                  </button>\r\n                `\r\n            )\r\n          : \"\"}\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n\r\ntype TCustomDropDownTriggerProps = {\r\n  label: string\r\n  action: string\r\n} & Partial<{\r\n  initialValue: string\r\n  classNames: Partial<{\r\n    btn: string\r\n    container: string\r\n  }>\r\n}>\r\n\r\nexport const DropdownTrigger = ({\r\n  label,\r\n  classNames,\r\n  initialValue,\r\n  action,\r\n}: TCustomDropDownTriggerProps): TemplateResult<1> => {\r\n  return html`\r\n    <div\r\n      class=\"NAME-dropdown-trigger flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer h-full ${classNames?.container ||\r\n      \"\"}\"\r\n      ?data-value=${initialValue}\r\n      data-action=${action}\r\n    >\r\n      <button\r\n        class=\"NAME-dropdown-btn flex items-center leading-none rounded hover:bg-gray-200 cursor-pointer h-full ${classNames?.btn ||\r\n        \"\"}\"\r\n      >\r\n        ${unsafeHTML(label)}\r\n      </button>\r\n    </div>\r\n  `\r\n}\r\n","import { LitHTMLHelper, nextFrame } from \"@/helpers/common-helpers.js\"\r\nimport { DropdownMenu } from \"../dropdown.js\"\r\nimport { PageLayoutHelper } from \"@/helpers/page-layout-helper.js\"\r\n\r\ntype TOnPickOption = (activeValue: string, item: HTMLElement) => void\r\n\r\nexport class DropdownManager {\r\n  private static readonly dropdownMenuElement: HTMLElement = this.initDropdownMenu()\r\n\r\n  private static moveDropdownMenuToTriggerPosition(trigger: HTMLElement): void {\r\n    const triggerRect = trigger.getBoundingClientRect()\r\n    this.dropdownMenuElement.style.cssText = `\r\n      left: ${triggerRect.left}px;\r\n      top: ${triggerRect.top + triggerRect.height - 5}px;\r\n      padding-top: 8px;\r\n    `\r\n  }\r\n\r\n  private static showDropdownMenu(trigger: HTMLElement, params: Parameters<typeof DropdownMenu>): void {\r\n    const dropdownMenuElement = this.dropdownMenuElement\r\n    dropdownMenuElement.replaceChildren(\r\n      ...LitHTMLHelper.createElementFromRenderer(DropdownMenu, [{ options: params[0].options }]).children\r\n    )\r\n    this.moveDropdownMenuToTriggerPosition(trigger)\r\n    PageLayoutHelper.detectCollisionWithViewportEdges(dropdownMenuElement)\r\n    nextFrame(() => {\r\n      dropdownMenuElement.classList.add(\"STATE-show\")\r\n      dropdownMenuElement.dataset.showing = \"true\"\r\n    })\r\n  }\r\n\r\n  static hideDropdownMenu(e?: MouseEvent): void {\r\n    if (e && this.dropdownMenuElement.contains(e.target as Node)) return\r\n    this.dropdownMenuElement.classList.remove(\"STATE-show\")\r\n    this.dropdownMenuElement.dataset.showing = \"false\"\r\n  }\r\n\r\n  static onTriggerClick(\r\n    trigger: HTMLElement,\r\n    params: Parameters<typeof DropdownMenu>,\r\n    onPickOption: TOnPickOption\r\n  ): void {\r\n    if (this.dropdownMenuElement.dataset.showing === \"true\") {\r\n      this.hideDropdownMenu()\r\n    } else {\r\n      this.showDropdownMenu(trigger, params)\r\n      this.bindPickOptionEvent(onPickOption)\r\n    }\r\n  }\r\n\r\n  static bindShowDropdownMenuEventToTrigger(\r\n    trigger: HTMLElement,\r\n    params: Parameters<typeof DropdownMenu>,\r\n    onPickOption: TOnPickOption\r\n  ): void {\r\n    trigger.addEventListener(\"click\", () => {\r\n      this.onTriggerClick(trigger, params, onPickOption)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Dropdown component được bind chỉ nên chứa 1 button và 1 content (content gồm các option)\r\n   */\r\n  private static bindPickOptionEvent(onPickOption: TOnPickOption): void {\r\n    this.dropdownMenuElement.onclick = (e) => {\r\n      e.preventDefault()\r\n      let target = e.target as HTMLElement\r\n      while (\r\n        target &&\r\n        !target.classList.contains(\"NAME-dropdown-option\") &&\r\n        this.dropdownMenuElement.contains(target)\r\n      ) {\r\n        target = target.parentElement as HTMLElement\r\n        if (target.tagName === \"BODY\") break\r\n      }\r\n      if (target && target.classList.contains(\"NAME-dropdown-option\")) {\r\n        const items = this.dropdownMenuElement.querySelectorAll<HTMLElement>(\".NAME-dropdown-option\")\r\n        for (const item of items) {\r\n          item.classList.remove(\"active\")\r\n        }\r\n        target.classList.add(\"active\")\r\n        onPickOption(target.dataset.value!, target)\r\n        this.hideDropdownMenu()\r\n      }\r\n    }\r\n  }\r\n\r\n  private static initDropdownMenu(): HTMLElement {\r\n    const dropdownElement = LitHTMLHelper.createElementFromRenderer(DropdownMenu, [{ options: [] }])\r\n    document.body.appendChild(dropdownElement)\r\n    return dropdownElement\r\n  }\r\n}\r\n","import { html } from \"lit-html\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { textStylingStylish } from \"./text-styling.stylish.js\"\r\nimport { ETextStylingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { DropdownManager } from \"@/lib/components/managers/dropdown.manager.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { DropdownTrigger } from \"@/lib/components/dropdown.js\"\r\n\r\nclass TextStylingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.BOLD,\r\n      label: \"B\",\r\n      className: \"font-bold\",\r\n    },\r\n    {\r\n      action: EToolbarAction.ITALIC,\r\n      label: \"I\",\r\n      className: \"italic font-mono text-lg\",\r\n    },\r\n    {\r\n      action: EToolbarAction.UNDERLINE,\r\n      label: \"U\",\r\n      className: \"underline\",\r\n    },\r\n    {\r\n      action: EToolbarAction.STRIKE_THROUGH,\r\n      label: \"S\",\r\n      className: \"line-through\",\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-text-styling-section flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, className, options }) =>\r\n            options\r\n              ? DropdownTrigger({\r\n                  action,\r\n                  label,\r\n                  classNames: { btn: className },\r\n                  initialValue: options?.[0]?.value || \"\",\r\n                })\r\n              : html`<button\r\n                  class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${className}\"\r\n                  data-action=\"${action}\"\r\n                >\r\n                  ${unsafeHTML(label)}\r\n                </button>`\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ETextStylingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action as ETextStylingType)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindDropdownEvents() {\r\n    const triggers = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-dropdown-trigger\")\r\n    for (const trigger of triggers) {\r\n      DropdownManager.bindShowDropdownMenuEventToTrigger(\r\n        trigger,\r\n        [\r\n          {\r\n            options: this.actions.find(({ action }) => action === trigger.dataset.action)?.options || [],\r\n          },\r\n        ],\r\n        (activeValue) => {\r\n          this.onAction(activeValue as ETextStylingType)\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n    this.bindDropdownEvents()\r\n  }\r\n\r\n  private onAction(stylingType: ETextStylingType) {\r\n    queueMicrotask(() => {\r\n      textStylingStylish.onAction(stylingType)\r\n    })\r\n  }\r\n}\r\n\r\nexport const textStylingModule = new TextStylingModule()\r\n","import { html } from \"lit-html\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { ETextListingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { textListingStylish } from \"./text-listing.stylish.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass TextListingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.NUMBERED_LIST,\r\n      label: `<i class=\"bi bi-list-ol\"></i>`,\r\n      className: \"text-2xl font-bold\",\r\n    },\r\n    {\r\n      action: EToolbarAction.BULLET_LIST,\r\n      label: `<i class=\"bi bi-list-ul\"></i>`,\r\n      className: \"text-2xl font-bold\",\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () => html`<div class=\"NAME-text-listing-section flex gap-2\">\r\n      ${repeat(\r\n        this.actions,\r\n        (action) => action.action,\r\n        (action) =>\r\n          html`<button\r\n            class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${action.className}\"\r\n            data-action=\"${action.action}\"\r\n          >\r\n            ${unsafeHTML(action.label)}\r\n          </button>`\r\n      )}\r\n    </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ETextListingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  private onAction(listingType: ETextListingType) {\r\n    queueMicrotask(() => {\r\n      textListingStylish.onAction(listingType)\r\n    })\r\n  }\r\n}\r\n\r\nexport const textListingModule = new TextListingModule()\r\n","import { EToolbarAction, EBlockquoteType } from \"@/enums/global-enums.js\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { html } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { ToolbarButton } from \"../../toolbar-button.js\"\r\nimport { blockquoteStylish } from \"./blockquote.stylish.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass BlockquoteModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.BLOCKQUOTE,\r\n      label: `<i class=\"bi bi-quote text-xl\"></i>`,\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-blockquote-module flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, className }) =>\r\n            html`<button\r\n              class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${className}\"\r\n              data-action=\"${action}\"\r\n            >\r\n              ${unsafeHTML(label)}\r\n            </button>`\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<EBlockquoteType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  private onAction(action: EBlockquoteType) {\r\n    queueMicrotask(() => {\r\n      blockquoteStylish.onAction(action)\r\n    })\r\n  }\r\n}\r\n\r\nexport const blockquoteModule = new BlockquoteModule()\r\n","import { EImageBlockingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport type { TImageBlockingModuleConfig, TToolbarAction } from \"@/types/global-types.js\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { html } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { addImageModalManager } from \"./add-image.manager.js\"\r\n\r\nclass ImageBlockingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.IMAGE_BLOCKING,\r\n      label: `<i class=\"bi bi-image-fill\"></i>`,\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-image-blocking-module flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, className }) =>\r\n            html`<button\r\n              class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${className}\"\r\n              data-action=\"${action}\"\r\n            >\r\n              ${unsafeHTML(label)}\r\n            </button>`\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<EImageBlockingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  configModule(config: TImageBlockingModuleConfig) {\r\n    const { uploadImageURL } = config\r\n    addImageModalManager.setUploadImageURL(uploadImageURL)\r\n  }\r\n\r\n  private onAction(action: EImageBlockingType) {\r\n    queueMicrotask(() => {\r\n      switch (action) {\r\n        case EImageBlockingType.IMAGE_BLOCKING:\r\n          addImageModalManager.showAddImageModal()\r\n          break\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const imageBlockingModule = new ImageBlockingModule()\r\n","import { ETextLinkingType, EToolbarAction } from \"@/enums/global-enums\"\r\nimport { TToolbarAction } from \"@/types/global-types\"\r\nimport { html } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { textLinkingManager } from \"./text-linking.manager.js\"\r\n\r\nclass TextLinkingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.TEXT_LINKING,\r\n      label: `<i class=\"bi bi-link-45deg text-xl\"></i>`,\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () => html`<div class=\"NAME-text-linking-section flex gap-2\">\r\n      ${repeat(\r\n        this.actions,\r\n        (action) => action.action,\r\n        (action) => html`<button\r\n          class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${action.className}\"\r\n          data-action=\"${action.action}\"\r\n        >\r\n          ${unsafeHTML(action.label)}\r\n        </button>`\r\n      )}\r\n    </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ETextLinkingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  private onAction(action: ETextLinkingType) {\r\n    queueMicrotask(() => {\r\n      switch (action) {\r\n        case ETextLinkingType.TEXT_LINKING:\r\n          textLinkingManager.showModalOnAction()\r\n          break\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const textLinkingModule = new TextLinkingModule()\r\n","import type { TSkeletonReplacer } from \"@/types/global-types.js\"\r\nimport { capitalizeWord, LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { Skeleton } from \"@/lib/components/skeleton.js\"\r\nimport type { Extension } from \"@codemirror/state\"\r\nimport { Compartment, EditorState } from \"@codemirror/state\"\r\nimport {\r\n  EditorView,\r\n  keymap,\r\n  highlightSpecialChars,\r\n  drawSelection,\r\n  highlightActiveLine,\r\n  lineNumbers,\r\n} from \"@codemirror/view\"\r\nimport {\r\n  defaultHighlightStyle,\r\n  syntaxHighlighting,\r\n  indentOnInput,\r\n  bracketMatching,\r\n  foldGutter,\r\n  foldKeymap,\r\n} from \"@codemirror/language\"\r\nimport { closeBrackets, closeBracketsKeymap } from \"@codemirror/autocomplete\"\r\nimport { history, historyKeymap, defaultKeymap, indentWithTab, undo, redo } from \"@codemirror/commands\"\r\nimport { vscodeDark, vscodeLight } from \"@uiw/codemirror-theme-vscode\"\r\nimport { javascript } from \"@codemirror/lang-javascript\"\r\nimport { python } from \"@codemirror/lang-python\"\r\nimport { cpp } from \"@codemirror/lang-cpp\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\nimport { EditorInternalErrorHelper } from \"@/helpers/error-helper.js\"\r\nimport { ECodeBlockingLanguage, EErrorMessage } from \"@/enums/global-enums.js\"\r\nimport { html } from \"lit-html\"\r\nimport { DropdownManager } from \"@/lib/components/managers/dropdown.manager.js\"\r\nimport { codeBlockingStylish } from \"./code-blocking.stylish.js\"\r\n\r\ntype TCodeBlockView = EditorView\r\n\r\ntype TInitCodeBlockViewResult = {\r\n  codeBlockView: TCodeBlockView\r\n  boxElement: HTMLElement\r\n  parentElement: HTMLElement\r\n}\r\n\r\ntype TCodeBlockName = `name-${string}`\r\n\r\ntype TCreateCodeBlockBoxElementResult = {\r\n  boxElement: HTMLElement\r\n  parentElement: HTMLElement\r\n}\r\n\r\ntype TCompartments = {\r\n  languageCompartment: Compartment\r\n  themeCompartment: Compartment\r\n}\r\n\r\nexport class CodeBlockViewManager {\r\n  private savedCodeBlocks: Map<TCodeBlockName, TCodeBlockView> = new Map()\r\n  private languageCompartment: Compartment | null = null\r\n  private themeCompartment: Compartment | null = null\r\n\r\n  constructor(private readonly codeBlockBoxElementTagName: string, private readonly codeBlockBoxClassName: string) {}\r\n\r\n  private initCompartments(): TCompartments {\r\n    this.languageCompartment = this.languageCompartment || new Compartment()\r\n    this.themeCompartment = this.themeCompartment || new Compartment()\r\n    return {\r\n      languageCompartment: this.languageCompartment,\r\n      themeCompartment: this.themeCompartment,\r\n    }\r\n  }\r\n\r\n  private async getLanguageExtension(language: ECodeBlockingLanguage): Promise<Extension> {\r\n    if (language === ECodeBlockingLanguage.JAVASCRIPT) {\r\n      return javascript()\r\n    }\r\n    if (language === ECodeBlockingLanguage.PYTHON) {\r\n      return python()\r\n    }\r\n    return cpp()\r\n  }\r\n\r\n  private createCodeBlockName(): TCodeBlockName {\r\n    return `name-${crypto.randomUUID()}`\r\n  }\r\n\r\n  private saveNewCodeBlock(codeBlockName: TCodeBlockName, codeBlock: TCodeBlockView) {\r\n    this.savedCodeBlocks.set(codeBlockName, codeBlock)\r\n  }\r\n\r\n  private switchTheme(e: MouseEvent) {\r\n    const themeCompartment = this.themeCompartment\r\n    if (!themeCompartment) return\r\n    const btn = e.currentTarget as HTMLElement\r\n    const codeBlockBox = btn.closest(`.${this.codeBlockBoxClassName}`) as HTMLElement\r\n    const isDarkTheme = codeBlockBox.dataset.isDarkTheme === \"true\"\r\n    if (isDarkTheme) {\r\n      codeBlockBox.dataset.isDarkTheme = \"false\"\r\n      const view = this.savedCodeBlocks.get(codeBlockBox.dataset.codeBlockBoxName as TCodeBlockName)\r\n      if (view) {\r\n        view.dispatch({\r\n          effects: themeCompartment.reconfigure(vscodeLight),\r\n        })\r\n        const themeLabel = btn.querySelector(\".NAME-theme-label\")\r\n        if (themeLabel) {\r\n          themeLabel.innerHTML = `<i class=\"bi bi-sun-fill\"></i>`\r\n        }\r\n      }\r\n    } else {\r\n      codeBlockBox.dataset.isDarkTheme = \"true\"\r\n      const view = this.savedCodeBlocks.get(codeBlockBox.dataset.codeBlockBoxName as TCodeBlockName)\r\n      if (view) {\r\n        view.dispatch({\r\n          effects: themeCompartment.reconfigure(vscodeDark),\r\n        })\r\n        const themeLabel = btn.querySelector(\".NAME-theme-label\")\r\n        if (themeLabel) {\r\n          themeLabel.innerHTML = `<i class=\"bi bi-moon-fill\"></i>`\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private switchLanguage(trigger: HTMLElement, language: ECodeBlockingLanguage) {\r\n    this.getLanguageExtension(language).then((languageExtension) => {\r\n      const languageCompartment = this.languageCompartment\r\n      if (!languageCompartment) return\r\n      const codeBlockBox = trigger.closest<HTMLElement>(`.${this.codeBlockBoxClassName}`)\r\n      if (!codeBlockBox) return\r\n      const view = this.savedCodeBlocks.get(codeBlockBox.dataset.codeBlockBoxName as TCodeBlockName)\r\n      if (!view) return\r\n      view.dispatch({\r\n        effects: languageCompartment.reconfigure(languageExtension),\r\n      })\r\n      const languageLabel = trigger.querySelector(\".NAME-language-label\")\r\n      if (languageLabel) {\r\n        languageLabel.textContent = capitalizeWord(language)\r\n      }\r\n    })\r\n  }\r\n\r\n  private onClickButtonSwitchLanguage(e: MouseEvent) {\r\n    const currentTarget = e.currentTarget as HTMLElement\r\n    DropdownManager.onTriggerClick(\r\n      currentTarget,\r\n      [\r\n        {\r\n          options: Object.values(ECodeBlockingLanguage).map((language) => ({\r\n            value: language,\r\n            label: capitalizeWord(language),\r\n            className: \"text-sm\",\r\n          })),\r\n        },\r\n      ],\r\n      (activeValue) => {\r\n        this.switchLanguage(currentTarget, activeValue as ECodeBlockingLanguage)\r\n      }\r\n    )\r\n  }\r\n\r\n  private onClickButtonUndoRedo(e: MouseEvent, action: \"undo\" | \"redo\") {\r\n    const currentTarget = e.currentTarget as HTMLElement\r\n    const codeBlockBox = currentTarget.closest<HTMLElement>(`.${this.codeBlockBoxClassName}`)\r\n    if (!codeBlockBox) return\r\n    const view = this.savedCodeBlocks.get(codeBlockBox.dataset.codeBlockBoxName as TCodeBlockName)\r\n    if (!view) return\r\n    if (action === \"undo\") {\r\n      undo(view)\r\n    } else {\r\n      redo(view)\r\n    }\r\n  }\r\n\r\n  private createNewCodeBlockBoxElement(\r\n    language: ECodeBlockingLanguage,\r\n    isDarkTheme: boolean\r\n  ): TCreateCodeBlockBoxElementResult {\r\n    const parentElement = document.createElement(this.codeBlockBoxElementTagName)\r\n\r\n    const boxElement = document.createElement(this.codeBlockBoxElementTagName)\r\n    boxElement.contentEditable = \"false\"\r\n    boxElement.className = this.codeBlockBoxClassName + \" border border-regular-border-cl rounded overflow-hidden\"\r\n    boxElement.dataset.codeBlockBoxName = this.createCodeBlockName()\r\n    boxElement.dataset.language = language\r\n    boxElement.dataset.isDarkTheme = isDarkTheme.toString()\r\n    boxElement.appendChild(\r\n      LitHTMLHelper.createElementFromRenderer(\r\n        () => html`\r\n          <div class=\"flex gap-2 items-stretch justify-between w-full py-1 px-2 text-sm\">\r\n            <div class=\"flex gap-2 items-stretch\">\r\n              <button\r\n                @click=${(e: MouseEvent) => this.switchTheme(e)}\r\n                class=\"flex items-center gap-2 px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 cursor-pointer\"\r\n              >\r\n                <span class=\"NAME-theme-label\"\r\n                  >${isDarkTheme ? html`<i class=\"bi bi-moon-fill\"></i>` : html`<i class=\"bi bi-sun-fill\"></i>`}</span\r\n                >\r\n              </button>\r\n              <button\r\n                @click=${(e: MouseEvent) => this.onClickButtonSwitchLanguage(e)}\r\n                class=\"NAME-dropdown-trigger flex items-center gap-2 px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 cursor-pointer\"\r\n              >\r\n                <i class=\"bi bi-braces\"></i>\r\n                <span class=\"NAME-language-label\">${capitalizeWord(language)}</span>\r\n              </button>\r\n            </div>\r\n            <div class=\"flex gap-2 items-stretch\">\r\n              <button\r\n                @click=${(e: MouseEvent) => this.onClickButtonUndoRedo(e, \"undo\")}\r\n                class=\"flex items-center gap-2 px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 cursor-pointer\"\r\n              >\r\n                <i class=\"bi bi-arrow-counterclockwise\"></i>\r\n                <span>Undo</span>\r\n              </button>\r\n              <button\r\n                @click=${(e: MouseEvent) => this.onClickButtonUndoRedo(e, \"redo\")}\r\n                class=\"flex items-center gap-2 px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 cursor-pointer\"\r\n              >\r\n                <i class=\"bi bi-arrow-clockwise\"></i>\r\n                <span>Redo</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        `,\r\n        []\r\n      )\r\n    )\r\n    boxElement.appendChild(parentElement)\r\n\r\n    return {\r\n      boxElement,\r\n      parentElement,\r\n    }\r\n  }\r\n\r\n  private handleArroyKeys(view: EditorView, direction: \"up\" | \"down\" | \"left\" | \"right\"): boolean {\r\n    const state = view.state\r\n    const stateDoc = state.doc\r\n    const totalLines = stateDoc.lines\r\n    const cursorPos = state.selection.main.head\r\n    const currentLine = stateDoc.lineAt(cursorPos).number\r\n    if (direction === \"up\" && currentLine === 1) {\r\n      codeBlockingStylish.jumpToPreviousLineFromInsideCodeBlock(view.dom)\r\n      return true\r\n    } else if (direction === \"down\" && currentLine === totalLines) {\r\n      codeBlockingStylish.jumpToNewLineFromInsideCodeBlock(view.dom)\r\n      return true\r\n    } else {\r\n      const firstLine = stateDoc.line(1) // dòng đầu\r\n      const lastLine = stateDoc.line(totalLines) // dòng cuối\r\n      // Trường hợp 1: con trỏ ở đầu dòng đầu tiên\r\n      if (direction === \"left\" && cursorPos === firstLine.from) {\r\n        codeBlockingStylish.jumpToPreviousLineFromInsideCodeBlock(view.dom)\r\n        return true\r\n      }\r\n      // Trường hợp 2: con trỏ ở cuối dòng cuối cùng\r\n      if (direction === \"right\" && cursorPos === lastLine.to) {\r\n        codeBlockingStylish.jumpToNewLineFromInsideCodeBlock(view.dom)\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  private initDOMEventHandlers(): Extension {\r\n    return EditorView.domEventHandlers({\r\n      keydown: (e, view) => {\r\n        e.stopPropagation()\r\n        return false\r\n      },\r\n      beforeinput: (e, view) => {\r\n        e.stopPropagation()\r\n        return false\r\n      },\r\n      click: (e, view) => {\r\n        e.stopPropagation()\r\n        return false\r\n      },\r\n      selectionchange: (e, view) => {\r\n        e.stopPropagation()\r\n        e.preventDefault()\r\n        return false\r\n      },\r\n      paste: (e, view) => {\r\n        e.stopPropagation()\r\n        return false\r\n      },\r\n      input: (e, view) => {\r\n        e.stopPropagation()\r\n        return false\r\n      },\r\n    })\r\n  }\r\n\r\n  private createCodeBlockSkeleton(): HTMLElement {\r\n    return LitHTMLHelper.createElementFromRenderer(Skeleton, [{ fullWidth: true, height: 200 }])\r\n  }\r\n\r\n  private insertCodeBlockSkeleton(selection: Selection): TSkeletonReplacer {\r\n    const skeleton = this.createCodeBlockSkeleton()\r\n    const topBlockElement = CodeVCNEditorEngine.getTopBlockElementFromSelection(selection)\r\n    if (!topBlockElement) {\r\n      throw EditorInternalErrorHelper.createError(EErrorMessage.TOP_BLOCK_NOT_FOUND)\r\n    }\r\n    topBlockElement.replaceChildren(skeleton)\r\n    return (codeBlockElement: HTMLElement) => {\r\n      skeleton.replaceWith(codeBlockElement)\r\n    }\r\n  }\r\n\r\n  private async generateStartState(language: ECodeBlockingLanguage, isDarkTheme: boolean): Promise<EditorState> {\r\n    const { languageCompartment, themeCompartment } = this.initCompartments()\r\n\r\n    const languageExtension = languageCompartment.of(await this.getLanguageExtension(language))\r\n\r\n    const themeExtension = themeCompartment.of(isDarkTheme ? vscodeDark : vscodeLight)\r\n\r\n    return EditorState.create({\r\n      doc: \"\",\r\n      extensions: [\r\n        lineNumbers(),\r\n        foldGutter(),\r\n        highlightSpecialChars(),\r\n        history(),\r\n        drawSelection(),\r\n        indentOnInput(),\r\n        bracketMatching(),\r\n        highlightActiveLine(),\r\n        closeBrackets(),\r\n        syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\r\n        keymap.of([\r\n          { key: \"ArrowDown\", run: (view) => this.handleArroyKeys(view, \"down\") },\r\n          { key: \"ArrowUp\", run: (view) => this.handleArroyKeys(view, \"up\") },\r\n          { key: \"ArrowLeft\", run: (view) => this.handleArroyKeys(view, \"left\") },\r\n          { key: \"ArrowRight\", run: (view) => this.handleArroyKeys(view, \"right\") },\r\n          ...defaultKeymap,\r\n          ...historyKeymap,\r\n          ...foldKeymap,\r\n          indentWithTab,\r\n          ...closeBracketsKeymap,\r\n        ]),\r\n        languageExtension,\r\n        themeExtension,\r\n        this.initDOMEventHandlers(),\r\n      ],\r\n    })\r\n  }\r\n\r\n  async initCodeBlockView(\r\n    selection: Selection,\r\n    language: ECodeBlockingLanguage,\r\n    isDarkTheme: boolean = false\r\n  ): Promise<TInitCodeBlockViewResult> {\r\n    const skeletonReplacer = this.insertCodeBlockSkeleton(selection)\r\n\r\n    const { boxElement, parentElement } = this.createNewCodeBlockBoxElement(language, isDarkTheme)\r\n    skeletonReplacer(boxElement)\r\n\r\n    const startState = await this.generateStartState(language, isDarkTheme)\r\n\r\n    const codeBlockView = new EditorView({\r\n      state: startState,\r\n      parent: parentElement,\r\n    })\r\n    codeBlockView.focus()\r\n\r\n    this.saveNewCodeBlock(boxElement.dataset.codeBlockBoxName as TCodeBlockName, codeBlockView)\r\n\r\n    return { codeBlockView, boxElement, parentElement }\r\n  }\r\n}\r\n","import { ECodeBlockingLanguage } from \"@/enums/global-enums.js\"\r\nimport { CodeBlockViewManager } from \"./code-block-view.manager.js\"\r\nimport { codeBlockingStylish } from \"./code-blocking.stylish.js\"\r\n\r\nclass CodeBlockingManager {\r\n  private readonly codeBlockViewManager: CodeBlockViewManager\r\n\r\n  constructor() {\r\n    this.codeBlockViewManager = new CodeBlockViewManager(\r\n      codeBlockingStylish.getCodeBlockBoxElementTagName(),\r\n      codeBlockingStylish.getCodeBlockBoxClassName()\r\n    )\r\n  }\r\n\r\n  private async initCodeBlockView(\r\n    selection: Selection,\r\n    language: ECodeBlockingLanguage,\r\n    isDarkTheme = false\r\n  ): Promise<void> {\r\n    await this.codeBlockViewManager.initCodeBlockView(selection, language, isDarkTheme)\r\n  }\r\n\r\n  private insertNewCodeBlock(language: ECodeBlockingLanguage, isDarkTheme = false): void {\r\n    codeBlockingStylish.insertNewTopBlockForCodeBlock((selection) => {\r\n      this.initCodeBlockView(selection, language, isDarkTheme)\r\n    })\r\n  }\r\n\r\n  insertCodeBlockForEditing(language: ECodeBlockingLanguage = ECodeBlockingLanguage.CPP, isDarkTheme = false) {\r\n    this.insertNewCodeBlock(language, isDarkTheme)\r\n  }\r\n}\r\n\r\nexport const codeBlockingManager = new CodeBlockingManager()\r\n","import { ECodeBlockingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { html } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { codeBlockingManager } from \"./code-blocking.manager.js\"\r\n\r\nclass CodeBlockingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.CODE_BLOCKING,\r\n      label: `<i class=\"bi bi-code-square text-lg\"></i>`,\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-code-blocking-module flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, className }) =>\r\n            html`<button\r\n              class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${className}\"\r\n              data-action=\"${action}\"\r\n            >\r\n              ${unsafeHTML(label)}\r\n            </button>`\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ECodeBlockingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private onAction(action: ECodeBlockingType) {\r\n    queueMicrotask(() => {\r\n      switch (action) {\r\n        case ECodeBlockingType.CODE_BLOCKING:\r\n          codeBlockingManager.insertCodeBlockForEditing()\r\n          break\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const codeBlockingModule = new CodeBlockingModule()\r\n","import { ETextHeadingType } from \"@/enums/global-enums.js\"\r\nimport { CodeVCNEditorEngine } from \"@/lib/artifact/engine/codevcn-editor.engine.js\"\r\nimport type { TWrappingType } from \"@/types/global-types.js\"\r\nimport { TagWrappingEngine } from \"../../engine/wrapping.engine.js\"\r\n\r\nclass TextHeadingStylish {\r\n  private currentHeadingType: ETextHeadingType | null = null\r\n  /**\r\n   * Tên các thẻ heading cho từng loại heading (index theo thứ tự ưu tiên, 0 là ưu tiên nhất rồi đến 1, 2, 3, ...)\r\n   */\r\n  private readonly tagNamesForHeading: Record<ETextHeadingType, string[]> = {\r\n    [ETextHeadingType.HEADING_1]: [\"H1\"],\r\n    [ETextHeadingType.HEADING_2]: [\"H2\"],\r\n    [ETextHeadingType.HEADING_3]: [\"H3\"],\r\n    [ETextHeadingType.PARAGRAPH]: [\"P\"],\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  private setCurrentHeadingType(headingType: ETextHeadingType): void {\r\n    this.currentHeadingType = headingType\r\n  }\r\n\r\n  private getCurrentHeadingSimilarTagNames(): string[] {\r\n    return this.tagNamesForHeading[this.currentHeadingType!]\r\n  }\r\n\r\n  private getAllHeadingTagNames(): string[] {\r\n    const tagNamesForHeading: string[] = []\r\n    for (const headingKey in this.tagNamesForHeading) {\r\n      tagNamesForHeading.push(...this.tagNamesForHeading[headingKey as ETextHeadingType])\r\n    }\r\n    return tagNamesForHeading\r\n  }\r\n\r\n  private getCurrentHeadingTagName(): string {\r\n    return this.getCurrentHeadingSimilarTagNames()[0]\r\n  }\r\n\r\n  private ifTagNameIsHeading(tagName: string): boolean {\r\n    const tagNamesForHeading = this.tagNamesForHeading\r\n    for (const headingKey in tagNamesForHeading) {\r\n      if (tagNamesForHeading[headingKey as ETextHeadingType].includes(tagName)) {\r\n        return true\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  private createNewHeadingTagElement(): HTMLElement {\r\n    return document.createElement(this.getCurrentHeadingTagName())\r\n  }\r\n\r\n  private cleanUpElements(container: HTMLElement, wrappingType: TWrappingType, isForceToUnwrap?: boolean): void {\r\n    if (wrappingType === \"unwrap\") {\r\n      if (isForceToUnwrap) {\r\n        CodeVCNEditorEngine.removeOverlapChildTags(container, this.getAllHeadingTagNames())\r\n      }\r\n      CodeVCNEditorEngine.removeEmptyChildrenRecursively(container)\r\n      CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n    } else {\r\n      CodeVCNEditorEngine.removeOverlapChildTags(container, this.getAllHeadingTagNames())\r\n      CodeVCNEditorEngine.removeEmptyChildrenRecursively(container.parentElement || container)\r\n      CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n    }\r\n  }\r\n\r\n  private makeHeading(selection: Selection, headingType: ETextHeadingType): void {\r\n    this.setCurrentHeadingType(headingType)\r\n\r\n    TagWrappingEngine.wrapSelectionInMultipleLines(selection, this.getAllHeadingTagNames(), (range, wrappingType) => {\r\n      // CodeVCNEditorEngine.wrapUnwrapRangeByWrapper(\r\n      //   range,\r\n      //   this.createNewHeadingTagElement(),\r\n      //   wrappingType,\r\n      //   (range) =>\r\n      //     CodeVCNEditorEngine.checkIfRangeIsInsideWrapper(\r\n      //       range,\r\n      //       (element) =>\r\n      //         this.ifTagNameIsHeading(element.tagName) &&\r\n      //         element.contains(range.startContainer) &&\r\n      //         element.contains(range.endContainer)\r\n      //     ),\r\n      //   (container, type) => {\r\n      //     if (type === \"unwrap\") {\r\n      //       CodeVCNEditorEngine.removeEmptyChildrenRecursively(container)\r\n      //       CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n      //     } else {\r\n      //       CodeVCNEditorEngine.removeOverlapChildTags(container, this.getAllHeadingTagNames())\r\n      //       CodeVCNEditorEngine.removeEmptyChildrenRecursively(container.parentElement || container)\r\n      //       CodeVCNEditorEngine.mergeAdjacentStyling(container)\r\n      //     }\r\n      //   }\r\n      // )\r\n      const checkIfRangeIsInsideWrapper = (selectionRange: Range) =>\r\n        TagWrappingEngine.checkIfRangeIsInsideWrapper(\r\n          selectionRange,\r\n          (element) =>\r\n            this.ifTagNameIsHeading(element.tagName) &&\r\n            element.contains(selectionRange.startContainer) &&\r\n            element.contains(selectionRange.endContainer)\r\n        )\r\n      const wrapper = this.createNewHeadingTagElement()\r\n      if (wrappingType === \"unwrap\") {\r\n        const parentElement = checkIfRangeIsInsideWrapper(range)\r\n        if (parentElement) {\r\n          if (parentElement.tagName === wrapper.tagName) return\r\n          const container = parentElement.parentElement\r\n          if (container && container instanceof HTMLElement) {\r\n            TagWrappingEngine.unwrapRangeContentByTag(range, parentElement, wrapper)\r\n            this.cleanUpElements(container, wrappingType)\r\n          }\r\n        } else {\r\n          this.cleanUpElements(wrapper, wrappingType, true)\r\n        }\r\n      } else {\r\n        if (checkIfRangeIsInsideWrapper(range)) return\r\n        const parentElement = TagWrappingEngine.wrapRangeContentByTag(range, wrapper)\r\n        this.cleanUpElements(parentElement, wrappingType)\r\n      }\r\n    })\r\n  }\r\n\r\n  onAction(headingType: ETextHeadingType): void {\r\n    const selection = CodeVCNEditorEngine.checkIsFocusingInEditorContent()\r\n    if (!selection) return\r\n    this.makeHeading(selection, headingType)\r\n  }\r\n}\r\n\r\nexport const textHeadingStylish = new TextHeadingStylish()\r\n","import { html } from \"lit-html\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { textHeadingStylish } from \"./text-heading.stylish.js\"\r\nimport { ETextHeadingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { DropdownManager } from \"@/lib/components/managers/dropdown.manager.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { DropdownTrigger } from \"@/lib/components/dropdown.js\"\r\n\r\nclass TextHeadingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.RESIZE,\r\n      label: `\r\n        <svg viewBox=\"0 0 48 48\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#000000\" height=\"18\" width=\"18\">\r\n          <g data-name=\"Layer_2\">\r\n            <g data-name=\"invisible_box\">\r\n              <rect width=\"26\" height=\"26\" fill=\"none\"></rect>\r\n            </g>\r\n            <g data-name=\"Q3_icons\">\r\n              <g>\r\n                <polygon points=\"2 23 9 23 9 43 15 43 15 23 22 23 22 17 2 17 2 23\"></polygon>\r\n                <polygon points=\"46 5 14 5 14 11 27 11 27 43 33 43 33 11 46 11 46 5\"></polygon>\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </svg>`,\r\n      className: \"text-2xl font-bold\",\r\n      options: [\r\n        {\r\n          value: ETextHeadingType.PARAGRAPH,\r\n          label: \"Paragraph\",\r\n          className: \"text-base\",\r\n        },\r\n        {\r\n          value: ETextHeadingType.HEADING_1,\r\n          label: \"H1\",\r\n          className: \"text-2xl font-bold\",\r\n        },\r\n        {\r\n          value: ETextHeadingType.HEADING_2,\r\n          label: \"H2\",\r\n          className: \"text-xl font-bold\",\r\n        },\r\n        {\r\n          value: ETextHeadingType.HEADING_3,\r\n          label: \"H3\",\r\n          className: \"text-lg font-bold\",\r\n        },\r\n      ],\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-text-heading-section flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, className, options }) =>\r\n            options\r\n              ? DropdownTrigger({\r\n                  action,\r\n                  label,\r\n                  classNames: { btn: className },\r\n                  initialValue: options?.[0]?.value || \"\",\r\n                })\r\n              : \"\"\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ETextHeadingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action as ETextHeadingType)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindDropdownEvents() {\r\n    const triggers = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-dropdown-trigger\")\r\n    for (const trigger of triggers) {\r\n      DropdownManager.bindShowDropdownMenuEventToTrigger(\r\n        trigger,\r\n        [\r\n          {\r\n            options: this.actions.find(({ action }) => action === trigger.dataset.action)?.options || [],\r\n          },\r\n        ],\r\n        (activeValue) => {\r\n          this.onAction(activeValue as ETextHeadingType)\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n    this.bindDropdownEvents()\r\n  }\r\n\r\n  private onAction(headingType: ETextHeadingType) {\r\n    queueMicrotask(() => {\r\n      textHeadingStylish.onAction(headingType)\r\n    })\r\n  }\r\n}\r\n\r\nexport const textHeadingModule = new TextHeadingModule()\r\n","import type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { ETablePlacingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { html } from \"lit-html\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { tablePlacingManager } from \"./table-placing.manager.js\"\r\n\r\nclass TablePlacingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.TABLE_PLACING,\r\n      label: `<i class=\"bi bi-table\"></i>`,\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () => html`<div class=\"NAME-table-placing-section flex gap-2\">\r\n      ${repeat(\r\n        this.actions,\r\n        (action) => action.action,\r\n        (action) =>\r\n          html`<button\r\n            class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${action.className}\"\r\n            data-action=\"${action.action}\"\r\n          >\r\n            ${unsafeHTML(action.label)}\r\n          </button>`\r\n      )}\r\n    </div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindEvents(): void {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  private bindButtonEvents(): void {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ETablePlacingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private onAction(action: ETablePlacingType): void {\r\n    queueMicrotask(() => {\r\n      switch (action) {\r\n        case ETablePlacingType.TABLE_PLACING:\r\n          tablePlacingManager.showTablePlacingModal()\r\n          break\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport const tablePlacingModule = new TablePlacingModule()\r\n","import { html } from \"lit-html\"\r\nimport { textStylingModule } from \"./text-styling/text-styling.module.js\"\r\nimport { textListingModule } from \"./text-listing/text-listing.module.js\"\r\nimport { blockquoteModule } from \"./text-blocking/blockquote/blockquote.module.js\"\r\nimport { imageBlockingModule } from \"./image-blocking/image-blocking.module.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { textLinkingModule } from \"./text-linking/text-linking.module.js\"\r\nimport { codeBlockingModule } from \"./code-blocking/code-blocking.module.js\"\r\nimport { textHeadingModule } from \"./text-heading/text-heading.module.js\"\r\nimport { tablePlacingModule } from \"./table-placing/table-placing.module.js\"\r\n\r\nclass EditorToolbar {\r\n  private toolbarElement: HTMLElement\r\n  private toolbarElementClassName: string = \"NAME-editor-toolbar\"\r\n\r\n  constructor() {\r\n    this.toolbarElement = this.createToolbarElement()\r\n    this.registerModules()\r\n  }\r\n\r\n  private registerModules() {\r\n    this.toolbarElement.appendChild(textStylingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(textHeadingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(textListingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(blockquoteModule.getSectionElement())\r\n    this.toolbarElement.appendChild(imageBlockingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(textLinkingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(codeBlockingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(tablePlacingModule.getSectionElement())\r\n  }\r\n\r\n  private createToolbarElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"${this.toolbarElementClassName} border-b px-2 py-1 flex gap-2 items-stretch\"></div>`\r\n    return LitHTMLHelper.createElementFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getToolbarElement(): HTMLElement {\r\n    return this.toolbarElement\r\n  }\r\n}\r\n\r\nexport const editorToolbar = new EditorToolbar()\r\n","import { editorContent } from \"./content/editor.content.js\"\r\nimport { editorFrame } from \"./frame/editor.frame.js\"\r\nimport { editorToolbar } from \"./toolbar/editor.toolbar.js\"\r\nimport { ERenderingMode } from \"@/enums/global-enums.js\"\r\nimport { sanitizeHTML } from \"@/helpers/common-helpers.js\"\r\nimport { TCodeVCNEditorConfig } from \"@/types/global-types.js\"\r\nimport { imageBlockingModule } from \"./toolbar/image-blocking/image-blocking.module.js\"\r\nimport { DropdownManager } from \"../components/managers/dropdown.manager.js\"\r\n\r\nclass CodeVCNEditor {\r\n  private editorWrapperID: string\r\n  private editorWrapper: HTMLElement\r\n\r\n  constructor(editorWrapperID: string, renderingMode: ERenderingMode = ERenderingMode.APPEND) {\r\n    const editorWrapper = document.getElementById(editorWrapperID)\r\n    if (!editorWrapper) {\r\n      const message: string = `Container with id ${editorWrapperID} not found`\r\n      throw new Error(message)\r\n    }\r\n\r\n    this.editorWrapper = editorWrapper\r\n    this.editorWrapperID = editorWrapperID\r\n\r\n    editorFrame.getFrameElement().appendChild(editorToolbar.getToolbarElement())\r\n    editorFrame.getFrameElement().appendChild(editorContent.getContentElement())\r\n\r\n    if (renderingMode === ERenderingMode.APPEND) {\r\n      this.editorWrapper.appendChild(editorFrame.getFrameElement())\r\n    } else {\r\n      this.editorWrapper.replaceWith(editorFrame.getFrameElement())\r\n    }\r\n\r\n    this.initClickOnPageBodyEvent()\r\n  }\r\n\r\n  initClickOnPageBodyEvent(): void {\r\n    document.body.addEventListener(\"click\", (e) => {\r\n      queueMicrotask(() => {\r\n        DropdownManager.hideDropdownMenu(e)\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Set the HTML content in the editor\r\n   * @param html - The HTML content to set in the editor\r\n   */\r\n  setContent(html: string): void {\r\n    editorContent.getContentElement().innerHTML = sanitizeHTML(html)\r\n  }\r\n\r\n  /**\r\n   * Get the HTML content from the editor\r\n   * @returns The HTML content from the editor\r\n   */\r\n  getContent(): string {\r\n    return editorContent.getContentElement().innerHTML\r\n  }\r\n\r\n  getEditorWrapperID(): string {\r\n    return this.editorWrapperID\r\n  }\r\n\r\n  getEditorWrapperElement(): HTMLElement {\r\n    return this.editorWrapper\r\n  }\r\n\r\n  getToolbarElement(): HTMLElement {\r\n    return editorToolbar.getToolbarElement()\r\n  }\r\n\r\n  getContentElement(): HTMLElement {\r\n    return editorContent.getContentElement()\r\n  }\r\n\r\n  getFrameElement(): HTMLElement {\r\n    return editorFrame.getFrameElement()\r\n  }\r\n\r\n  configModule(configs: TCodeVCNEditorConfig) {\r\n    const { imageModule } = configs\r\n    if (imageModule) {\r\n      imageBlockingModule.configModule(imageModule)\r\n    }\r\n  }\r\n}\r\n\r\nexport const codevcnEditor = new CodeVCNEditor(\"codevcn-editor-root\")\r\n","import { codevcnEditor } from \"./lib/artifact/codevcn-editor.js\"\r\n\r\nconst init = () => {\r\n  codevcnEditor.setContent(`\r\n    <section>Xin chào! Đây là <ins>phần mới</ins> của <b>văn b</b>ản.</section>\r\n    <section>Bản án <p>thật nặng.</p></section>\r\n    <section>vayla123 còn nhẹ ch<b>án</b></section>\r\n    <section><a href='https://www.google.com/' target='_blank' rel='noopener noreferrer'>Google</a></section>\r\n  `)\r\n  codevcnEditor.configModule({\r\n    imageModule: {\r\n      uploadImageURL: \"http://localhost:3000/api/upload\",\r\n    },\r\n  })\r\n}\r\ninit()\r\n"],"names":["t","i","s","e","h","o","n","r","l","c","a","u","d","f","v","_","m","p","g","$","y","x","T","E","A","C","P","V","N","H","I","L","k","S","R","z","M","Z","j","B","ETextStylingType","ETextHeadingType","ETextListingType","ERenderingMode","EBlockquoteType","EImageBlockingType","ETextLinkingType","ECodeBlockingType","ETablePlacingType","EToolbarAction","EErrorMessage","ENotifyType","EInternalEvents","ECodeBlockingLanguage","CodeVCNEditorEngine","selection","anchorNode","focusNode","contentElement","editorContent","topBlockElement","trimmedInnerHTML","newBlock","startNode","selector","currentElement","editorContentElement","startElement","element","newBlockElement","selectionRange","position","firstTextNode","currentTopBlockElement","nextElementSibling","nextTopBlockElement","previousElementSibling","previousTopBlockElement","range","lastElementChild","elements","container","children","child","node","beforeElement","afterElement","caretAtMiddle","beforeRange","beforeFrag","afterRange","afterFrag","deepestChild","newElements","middleElement","type","message","notificationElement","startContainer","topBlocks","emptyElement","found","parent","tagNamesToRemove","removeParentTag","descendants","descendant","next","TextListingStylish","listingType","elementOfSelection","currentLiElement","after","newLi","newRange","liElement","nodes","list","line","listLineElement","lineElement","newList","currentLineElement","textListingStylish","EditorInternalErrorHelper","BlockquoteStylish","blockQuoteInnerHTML","blockQuoteElement","latestTopBlockElement","blockquoteElement","blockquoteElementFirstChild","childNodes","newTopBlocks","childNode","topBlock","isEmpty","quoteLineElement","newLineElement","action","blockquoteStylish","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","apply","construct","fun","thisValue","args","Func","arrayForEach","unapply","arrayLastIndexOf","arrayPop","arrayPush","arraySplice","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","unconstruct","func","thisArg","_len","_key","_len2","_key2","addToSet","set","array","transformCaseFunc","lcElement","cleanArray","index","clone","object","newObject","property","value","lookupGetter","prop","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","NODE_TYPE","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","suffix","ATTR_NAME","policyName","scriptUrl","_createHooksMap","createDOMPurify","window","DOMPurify","root","document","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","tagName","parentTagName","_forceRemove","_removeAttribute","name","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","body","_createNodeIterator","_isClobbered","_isNode","_executeHooks","currentNode","data","hook","_sanitizeElements","content","_isBasicCustomElement","parentNode","childCount","childClone","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attributes","hookEvent","attr","namespaceURI","attrValue","initValue","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","importedNode","returnNode","nodeIterator","serializedHTML","tag","entryPoint","hookFunction","purify","sanitizeHTML","LitHTMLHelper","Renderer","render","isValidUrl","str","urlProtocol","getImageDimensions","file","resolve","reject","img","copyTextToClipboard","copyBoxElement","nextFrame","callback","capitalizeWord","word","getElementIndexInParent","preSiblingElement","Modal","title","footer","ModalManager","params","modalElement","titleElement","modalFooterElement","bind","fn","toString","iterator","toStringTag","kindOf","cache","thing","kindOfTest","typeOfTest","isArray","isUndefined","isBuffer","val","isFunction","isArrayBuffer","isArrayBufferView","result","isString","isNumber","isObject","isBoolean","isPlainObject","prototype","isEmptyObject","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","keys","len","key","findKey","_global","isContextDefined","context","merge","caseless","assignValue","targetKey","extend","b","stripBOM","inherits","constructor","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","merged","endsWith","searchString","lastIndex","toArray","arr","isTypedArray","TypedArray","forEachEntry","_iterator","pair","matchAll","regExp","isHTMLForm","toCamelCase","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","ret","freezeMethods","toObjectSet","arrayOrString","delimiter","define","noop","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","token","callbacks","cb","asap","isIterable","utils$1","AxiosError","code","config","request","response","utils","error","customProps","axiosError","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","isFlatArray","predicates","toFormData","formData","options","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","el","exposedHelpers","build","encode","charMap","match","AxiosURLSearchParams","encoder","_encode","buildURL","url","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","id","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","defaults","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","status","method","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","w","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","AxiosHeaders$1","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","dest","entry","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","computed","accessors","defineAccessor","AxiosHeaders","mapped","headerValue","transformData","fns","isCancel","CanceledError","settle","validateStatus","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","loaded","total","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","cookies","expires","domain","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","xsrfValue","isXHRAdapterSupported","xhrAdapter","_config","requestData","requestHeaders","responseType","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","err","timeoutErrorMessage","cancel","protocol","composeSignals","signals","timeout","length","controller","aborted","onabort","reason","unsubscribe","signal","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","isFetchSupported","isReadableStreamSupported","encodeText","test","supportsRequestStream","duplexAccessed","hasContentType","DEFAULT_CHUNK_SIZE","supportsResponseStream","resolvers","res","getBodyLength","resolveBodyLength","fetchAdapter","cancelToken","withCredentials","fetchOptions","composedSignal","requestContentLength","_request","contentTypeHeader","flush","isCredentialsSupported","isStreamResponse","responseContentLength","responseData","knownAdapters","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","state","throwIfCancellationRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","opts","correctSpelling","assertOptions","schema","allowUnknown","Axios$1","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","fullPath","Axios","generateHTTPMethod","isForm","CancelToken$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","abort","spread","isAxiosError","payload","HttpStatusCode","createInstance","defaultConfig","instance","axios","promises","all","Cancel","formToJSON","getAdapter","CodeVCNEditorService","endpoint","files","progressEvent","progress","Skeleton","width","height","fullWidth","fullHeight","ifDefined","ImageBlockingStylish","imgUrl","altText","imageElement","skeletonReplacer","imageSkeleton","pElement","imageBlockingStylish","AddImageModalManager","currentBtn","addImageContent","addImageTypeButtons","imgAltText","preview","image","imgUrlInputHidden","imgUrlInput","dimensions","caption","clipboardData","fileToUpload","imgName","imgDimensions","widthInput","heightInput","input","filesList","imgInfo","dropZone","eventName","infoForm","addImageModalManager","EventEmitter","handler","eventEmitter","TagWrappingEngine","parentElement","contentWrapper","clonedRange","leftRange","rightRange","leftFragment","midFragment","rightFragment","replacement","leftElement","rightElement","wrapper","clonedWrapper","wrapperSelector","wrappingType","checkIfRangeIsInsideWrapper","cleanUpElements","tagNamesForWrapping","handleEachRange","rootRange","firstTopBlock","clonedFirstRange","lastTextNode","lastTopBlock","clonedLastRange","otherTopBlocks","closestWrapper","TagWrappingPreparationEngine","stylingEmptyElement","textNode","TextStylingStylish","stylingType","isForceToUnwrap","textStylingStylish","TextLinkingStylish","link","innerHTML","textLinkElement","boldElement","textOfLink","showLinkModalHandler","trimmedLink","textLinkingStylish","Popover","PageLayoutHelper","margin","popoverRect","viewportWidth","viewportHeight","PopoverManager","popover","arrowElement","trigger","triggerRect","popoverId","popoverElement","delay","relatedTarget","TextLinkingManager","textLinkChildNodes","inputElement","textOfLinkInput","form","onSaveLink","linkElement","href","textLinkingManager","_self","Prism","lang","uniqueId","plainTextGrammar","Token","deepClone","visited","language","src","scripts","className","defaultActivation","no","classList","redef","inside","before","insert","grammar","newToken","old","DFS","objId","propertyType","async","env","insertHighlightedCode","highlightedCode","worker","evt","rest","tokenList","LinkedList","addAfter","matchGrammar","alias","matchedStr","stringify","aliases","matchPattern","pattern","lookbehind","lookbehindLength","startPos","rematch","patterns","patternObj","greedy","flags","removeCount","from","to","matchStr","reach","removeFrom","removeRange","wrapped","nestedRematch","newNode","count","immediateClose","script","highlightAutomaticallyCallback","readyState","module","global","includedCdataInside","def","attrName","string","markup","LOADING_MESSAGE","FAILURE_MESSAGE","FAILURE_EMPTY_MESSAGE","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","STATUS_FAILED","SELECTOR","loadFile","success","xhr","parseRange","start","comma","pre","extension","autoloader","lines","logged","CodeBlockingStylish","codeBlockParent","inlineCodeBlockElement","codeblockElement","initCodeBlockHandler","codeBlockingStylish","Table","rows","isInsideEditorContent","repeat","rowClassName","cells","TablePlacingStylish","tableElement","firstCellElement","tablePlacingStylish","TablePlacingManager","coordinatesOptionsBtn","isRow","show","tableElementRect","scrollTop","scrollLeft","rowsCount","columnsCount","columns","columnsCountPerRow","lastRow","cellElement","firstRow","cellsInFirstRow","cellIndexInFirstRow","respectiveCellInFirstRow","firstCellInRow","respectiveCellInFirstRowRect","firstCellInRowRect","coordinatesRowOptionsRect","coordinatesColumnOptionsRect","parentOfRange","closestCellElement","tablePlacingManager","EditorContent","inputType","EditorFrame","editorFrame","ToolbarButton","DropdownMenu","classNames","label","unsafeHTML","DropdownTrigger","initialValue","DropdownManager","dropdownMenuElement","onPickOption","items","item","dropdownElement","TextStylingModule","btn","triggers","activeValue","textStylingModule","TextListingModule","textListingModule","BlockquoteModule","blockquoteModule","ImageBlockingModule","uploadImageURL","imageBlockingModule","TextLinkingModule","textLinkingModule","CodeBlockViewManager","codeBlockBoxElementTagName","codeBlockBoxClassName","Compartment","javascript","python","cpp","codeBlockName","codeBlock","themeCompartment","codeBlockBox","view","vscodeLight","themeLabel","vscodeDark","languageExtension","languageCompartment","languageLabel","currentTarget","undo","redo","isDarkTheme","boxElement","direction","stateDoc","totalLines","cursorPos","currentLine","firstLine","lastLine","EditorView","skeleton","codeBlockElement","themeExtension","EditorState","lineNumbers","foldGutter","highlightSpecialChars","history","drawSelection","indentOnInput","bracketMatching","highlightActiveLine","closeBrackets","syntaxHighlighting","defaultHighlightStyle","keymap","defaultKeymap","historyKeymap","foldKeymap","indentWithTab","closeBracketsKeymap","startState","codeBlockView","CodeBlockingManager","codeBlockingManager","CodeBlockingModule","codeBlockingModule","TextHeadingStylish","headingType","tagNamesForHeading","headingKey","textHeadingStylish","TextHeadingModule","textHeadingModule","TablePlacingModule","tablePlacingModule","EditorToolbar","editorToolbar","CodeVCNEditor","editorWrapperID","renderingMode","editorWrapper","configs","imageModule","codevcnEditor","init"],"mappings":"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","x_google_ignoreList":[0,6,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,61,74,75,76,77,79,80,81,88]}