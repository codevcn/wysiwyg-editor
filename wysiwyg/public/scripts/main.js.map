{"version":3,"file":"main.js","sources":["../../../wysiwyg-build/scripts/helpers/error-helper.ts","../../../wysiwyg-build/node_modules/lit-html/lit-html.js","../../../wysiwyg-build/scripts/enums/global-enums.ts","../../../wysiwyg-build/scripts/helpers/codevcn-editor-helper.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-listing/text-listing.stylish.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-blocking/blockquote/blockquote.stylish.ts","../../../wysiwyg-build/node_modules/dompurify/dist/purify.es.mjs","../../../wysiwyg-build/scripts/helpers/common-helpers.ts","../../../wysiwyg-build/scripts/lib/artifact/content/editor.content.ts","../../../wysiwyg-build/scripts/lib/artifact/frame/editor.frame.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/toolbar-button.ts","../../../wysiwyg-build/node_modules/lit-html/directive.js","../../../wysiwyg-build/node_modules/lit-html/directive-helpers.js","../../../wysiwyg-build/node_modules/lit-html/directives/repeat.js","../../../wysiwyg-build/node_modules/lit-html/directives/unsafe-html.js","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-styling/text-styling.stylish.ts","../../../wysiwyg-build/node_modules/lit-html/directives/if-defined.js","../../../wysiwyg-build/scripts/lib/components/dropdown.ts","../../../wysiwyg-build/scripts/lib/components/managers/dropdown.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-styling/text-styling.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-listing/text-listing.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/text-blocking/blockquote/blockquote.module.ts","../../../wysiwyg-build/scripts/lib/components/modal.ts","../../../wysiwyg-build/scripts/lib/components/managers/modal.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/image-blocking/add-image.manager.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/image-blocking/image-blocking.module.ts","../../../wysiwyg-build/scripts/lib/artifact/toolbar/editor.toolbar.ts","../../../wysiwyg-build/scripts/lib/artifact/codevcn-editor.ts","../../../wysiwyg-build/scripts/main.ts"],"sourcesContent":["export class EditorErrorHelper {\r\n  static createError(message: string): Error {\r\n    return new Error(message)\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","export enum ETextStylingType {\r\n  BOLD = \"text-styling-bold\",\r\n  ITALIC = \"text-styling-italic\",\r\n  UNDERLINE = \"text-styling-underline\",\r\n  STRIKE_THROUGH = \"text-styling-strike-through\",\r\n  HEADING_1 = \"text-sizing-heading-1\",\r\n  HEADING_2 = \"text-sizing-heading-2\",\r\n  HEADING_3 = \"text-sizing-heading-3\",\r\n  PARAGRAPH = \"text-sizing-paragraph\",\r\n}\r\n\r\nexport enum ETextListingType {\r\n  NUMBERED_LIST = \"text-listing-numbered-list\",\r\n  BULLET_LIST = \"text-listing-bullet-list\",\r\n}\r\n\r\nexport enum ERenderingMode {\r\n  APPEND = \"rendering-mode-append\",\r\n  REPLACE = \"rendering-mode-replace\",\r\n}\r\n\r\nexport enum EBlockquoteType {\r\n  BLOCKQUOTE = \"text-blocking-blockquote\",\r\n}\r\n\r\nexport enum EImageBlockingType {\r\n  IMAGE_BLOCKING = \"image-blocking\",\r\n}\r\n\r\nexport enum EToolbarAction {\r\n  BOLD = \"text-styling-bold\",\r\n  ITALIC = \"text-styling-italic\",\r\n  UNDERLINE = \"text-styling-underline\",\r\n  STRIKE_THROUGH = \"text-styling-strike-through\",\r\n  RESIZE = \"text-styling-resize\",\r\n  NUMBERED_LIST = \"text-listing-numbered-list\",\r\n  BULLET_LIST = \"text-listing-bullet-list\",\r\n  BLOCKQUOTE = \"text-blocking-blockquote\",\r\n  IMAGE_BLOCKING = \"image-blocking\",\r\n}\r\n\r\nexport enum EErrorMessage {\r\n  QUOTE_LINE_ELEMENT_NOT_FOUND = \"Quote line element not found\",\r\n}\r\n","import { render, TemplateResult } from \"lit-html\"\r\nimport { editorContent } from \"@/lib/artifact/content/editor.content.js\"\r\nimport DOMPurify from \"dompurify\"\r\n\r\ntype TIsEmptyTopBlockResult = {\r\n  topBlockElement: HTMLElement | null\r\n  isEmpty: boolean\r\n}\r\n\r\nexport class CodeVCNEditorHelper {\r\n  static readonly topBlockElementTagName: string = \"SECTION\"\r\n\r\n  constructor() {}\r\n\r\n  static isEmptyTopBlock(selection: Selection): TIsEmptyTopBlockResult {\r\n    const topBlockElement = this.getTopBlockElementFromSelection(selection)\r\n    if (topBlockElement) {\r\n      const trimmedInnerHTML = topBlockElement.innerHTML.trim()\r\n      if (trimmedInnerHTML === \"\" || trimmedInnerHTML === \"<br>\") {\r\n        return {\r\n          topBlockElement,\r\n          isEmpty: true,\r\n        }\r\n      }\r\n      return {\r\n        topBlockElement,\r\n        isEmpty: false,\r\n      }\r\n    }\r\n    return {\r\n      topBlockElement: null,\r\n      isEmpty: false,\r\n    }\r\n  }\r\n\r\n  static createNewTopBlockElement(): HTMLElement {\r\n    const newBlock = document.createElement(\"section\")\r\n    newBlock.innerHTML = \"<br>\"\r\n    return newBlock\r\n  }\r\n\r\n  static getClosestElementOfNode(startNode: HTMLElement, selector: (node: HTMLElement) => boolean): HTMLElement | null {\r\n    let currentElement: HTMLElement = startNode\r\n    const editorContentElement = editorContent.getContentElement()\r\n    while (currentElement && editorContentElement.contains(currentElement)) {\r\n      if (selector(currentElement)) {\r\n        return currentElement\r\n      }\r\n      currentElement = currentElement.parentNode as HTMLElement\r\n    }\r\n    return null\r\n  }\r\n\r\n  static getTopBlockElementFromNode(startNode: HTMLElement): HTMLElement | null {\r\n    let currentElement: HTMLElement = startNode\r\n    let topBlockElement: HTMLElement | null = null\r\n    const editorContentElement = editorContent.getContentElement()\r\n    const editorContentElementName = editorContent.getContentElementName()\r\n    while (currentElement && editorContentElement.contains(currentElement)) {\r\n      currentElement = currentElement.closest(this.topBlockElementTagName) as HTMLElement\r\n      if (currentElement.parentElement?.classList.contains(editorContentElementName)) {\r\n        topBlockElement = currentElement\r\n        break\r\n      }\r\n    }\r\n    if (topBlockElement?.tagName !== this.topBlockElementTagName) {\r\n      return null\r\n    }\r\n    return topBlockElement\r\n  }\r\n\r\n  static getTopBlockElementFromSelection(selection: Selection): HTMLElement | null {\r\n    const anchorNode = selection.anchorNode\r\n    if (!anchorNode) return null\r\n    return this.getTopBlockElementFromNode(\r\n      anchorNode.nodeType === Node.TEXT_NODE ? (anchorNode.parentNode as HTMLElement) : (anchorNode as HTMLElement)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Tạo 1 block mới và đặt caret vào block mới\r\n   * @returns Block mới đã được chèn\r\n   */\r\n  static insertNewTopBlockElementAfterElement(element: HTMLElement): HTMLElement | null {\r\n    const selection = window.getSelection()\r\n    if (!selection) return null\r\n\r\n    const newBlockElement = this.createNewTopBlockElement()\r\n\r\n    // Insert vào sau 1 element\r\n    element.insertAdjacentElement(\"afterend\", newBlockElement)\r\n\r\n    // Đặt caret vào block mới\r\n    this.moveCaretToStartOfElement(newBlockElement, selection, selection.getRangeAt(0))\r\n\r\n    return newBlockElement\r\n  }\r\n\r\n  static moveCaretToStartOfElement(element: HTMLElement, selection: Selection, selectionRange: Range): void {\r\n    selectionRange.setStart(element, 0)\r\n    selectionRange.setEnd(element, 0)\r\n    selection.removeAllRanges()\r\n    selection.addRange(selectionRange)\r\n  }\r\n\r\n  static findLatestTopBlockElement(): HTMLElement | null {\r\n    return editorContent.getContentElement().lastElementChild as HTMLElement | null\r\n  }\r\n\r\n  static insertNewTopBlockElement(): void {\r\n    editorContent.getContentElement().appendChild(this.createNewTopBlockElement())\r\n  }\r\n}\r\n","import { ETextListingType } from \"@/enums/global-enums\"\r\nimport { CodeVCNEditorHelper } from \"@/helpers/codevcn-editor-helper.js\"\r\nimport { editorContent } from \"@/lib/artifact/content/editor.content.js\"\r\n\r\nclass TextListingStylish {\r\n  private currentTagName: string = \"\"\r\n\r\n  constructor() {}\r\n\r\n  private setCurrentTagName(listingType: ETextListingType): void {\r\n    this.currentTagName = listingType === ETextListingType.NUMBERED_LIST ? \"OL\" : \"UL\"\r\n  }\r\n\r\n  private getClosestListLineElement(selection?: Selection | null): HTMLElement | null {\r\n    if (!selection || selection.rangeCount === 0) return null\r\n\r\n    let elementOfSelection: HTMLElement\r\n    const node = selection.anchorNode\r\n    if (node && node.nodeType === Node.TEXT_NODE) {\r\n      elementOfSelection = node.parentNode as HTMLElement // nếu caret nằm trong text thì lấy cha\r\n    } else {\r\n      elementOfSelection = node as HTMLElement\r\n    }\r\n\r\n    const editorContentElement = editorContent.getContentElement()\r\n    if (elementOfSelection.tagName === \"LI\") {\r\n      if (editorContentElement.contains(elementOfSelection)) {\r\n        return elementOfSelection\r\n      }\r\n    } else if (elementOfSelection.tagName === this.currentTagName) {\r\n      return elementOfSelection.lastElementChild as HTMLElement\r\n    }\r\n    return null\r\n  }\r\n\r\n  private insertNewLine(currentLiElement: HTMLElement, selection: Selection): void {\r\n    // Tách selection ra khỏi li hiện tại\r\n    const range = selection.getRangeAt(0)\r\n    const after = range.extractContents()\r\n\r\n    // Tạo li mới\r\n    const newLi = document.createElement(\"li\")\r\n    if (!after.textContent) {\r\n      newLi.innerHTML = \"<br>\" // giữ caret hiển thị\r\n    } else {\r\n      newLi.appendChild(after)\r\n    }\r\n\r\n    // Chèn vào sau li hiện tại\r\n    currentLiElement.insertAdjacentElement(\"afterend\", newLi)\r\n\r\n    // Đặt caret vào li mới\r\n    const newRange = document.createRange()\r\n    newRange.setStart(newLi, 0)\r\n    newRange.collapse(true)\r\n    selection.removeAllRanges()\r\n    selection.addRange(newRange)\r\n  }\r\n\r\n  private isOnEmptyLine(liElement: HTMLElement): boolean {\r\n    const trimmedInnerHTML = liElement.innerHTML.trim()\r\n    return trimmedInnerHTML === \"<br>\" || trimmedInnerHTML === \"\"\r\n  }\r\n\r\n  private deleteLine(liElement: HTMLElement): void {\r\n    liElement.remove()\r\n  }\r\n\r\n  private isOnListLine(): boolean {\r\n    return !!this.currentTagName\r\n  }\r\n\r\n  private createNewList(...nodes: Node[]): HTMLElement {\r\n    const list = document.createElement(this.currentTagName)\r\n    const line = document.createElement(\"li\")\r\n    line.innerHTML = \"<br>\"\r\n    if (nodes.length > 0) {\r\n      line.replaceChildren(...nodes)\r\n    }\r\n    list.appendChild(line)\r\n    return list\r\n  }\r\n\r\n  private wrapElementContentByNewList(element: HTMLElement): void {\r\n    element.replaceChildren(this.createNewList(...element.childNodes))\r\n  }\r\n\r\n  /**\r\n   * Tạo danh sách: Nếu caret nằm trong li thì tạo li mới, nếu li hiện tại rỗng thì xóa li, nếu caret nằm ngoài li thì tạo danh sách\r\n   * @param selection Selection của user\r\n   */\r\n  private makeListing(selection: Selection) {\r\n    const listLineElement = this.getClosestListLineElement(selection)\r\n    if (listLineElement) {\r\n      if (this.isOnEmptyLine(listLineElement)) {\r\n        this.deleteLine(listLineElement)\r\n        editorContent.insertNewTopBlockElementAndFocusCaret()\r\n      } else {\r\n        this.insertNewLine(listLineElement, selection)\r\n      }\r\n    } else {\r\n      const anchorNode = selection.anchorNode!\r\n      const topBlockElement = CodeVCNEditorHelper.getTopBlockElementFromNode(\r\n        anchorNode.nodeType === Node.TEXT_NODE ? (anchorNode.parentNode as HTMLElement) : (anchorNode as HTMLElement)\r\n      )\r\n      if (topBlockElement) {\r\n        this.wrapElementContentByNewList(topBlockElement)\r\n      }\r\n    }\r\n  }\r\n\r\n  private insertNewListInsideLine(lineElement: HTMLElement): void {\r\n    const newList = this.createNewList()\r\n    lineElement.appendChild(newList)\r\n  }\r\n\r\n  private makeNestedListing(selection: Selection): void {\r\n    const listLineElement = this.getClosestListLineElement(selection)\r\n    if (listLineElement) {\r\n      if (this.isOnEmptyLine(listLineElement)) {\r\n        this.deleteLine(listLineElement)\r\n        const selection = window.getSelection()\r\n        const currentLineElement = this.getClosestListLineElement(selection)\r\n        if (currentLineElement) {\r\n          this.insertNewListInsideLine(currentLineElement)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private makeListingOnToolbarButtonClick(listingType: ETextListingType): void {\r\n    const selection = editorContent.checkIsFocusingInEditorContent()\r\n    if (!selection || selection.rangeCount === 0) return\r\n    this.setCurrentTagName(listingType)\r\n    this.makeListing(selection)\r\n  }\r\n\r\n  private makeListingOnKeyboardEvent(e: KeyboardEvent): void {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault()\r\n      const selection = editorContent.checkIsFocusingInEditorContent()\r\n      if (!selection || selection.rangeCount === 0) return\r\n      this.makeListing(selection)\r\n    } else if (e.key === \"Tab\") {\r\n      e.preventDefault()\r\n      const selection = editorContent.checkIsFocusingInEditorContent()\r\n      if (!selection || selection.rangeCount === 0) return\r\n      this.makeNestedListing(selection)\r\n    }\r\n  }\r\n\r\n  onAction(listingType?: ETextListingType, e?: KeyboardEvent): void {\r\n    if (listingType) {\r\n      this.makeListingOnToolbarButtonClick(listingType)\r\n    } else if (e && this.isOnListLine()) {\r\n      this.makeListingOnKeyboardEvent(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport const textListingStylish = new TextListingStylish()\r\n","import { EBlockquoteType, EErrorMessage } from \"@/enums/global-enums.js\"\r\nimport { CodeVCNEditorHelper } from \"@/helpers/codevcn-editor-helper.js\"\r\nimport { EditorErrorHelper } from \"@/helpers/error-helper.js\"\r\nimport { editorContent } from \"@/lib/artifact/content/editor.content.js\"\r\n\r\nclass BlockquoteStylish {\r\n  private blockQuoteTagName: string = \"BLOCKQUOTE\"\r\n  private quoteLineTagName: string = \"P\"\r\n  private currentBlockquoteElement: HTMLElement | null = null\r\n\r\n  constructor() {}\r\n\r\n  private createBlockQuoteElement(blockQuoteInnerHTML: HTMLElement[\"innerHTML\"]): HTMLElement {\r\n    const blockQuoteElement = document.createElement(this.blockQuoteTagName)\r\n    blockQuoteElement.innerHTML = blockQuoteInnerHTML\r\n    return blockQuoteElement\r\n  }\r\n\r\n  private insertNewBlockquoteElement(topBlockElement: HTMLElement): void {\r\n    const blockQuoteElement = this.createBlockQuoteElement(`<${this.quoteLineTagName}><br></${this.quoteLineTagName}>`)\r\n    topBlockElement.replaceChildren(blockQuoteElement)\r\n    this.currentBlockquoteElement = blockQuoteElement\r\n  }\r\n\r\n  private exitBlockquote(): void {\r\n    const latestTopBlockElement = CodeVCNEditorHelper.findLatestTopBlockElement()\r\n    if (latestTopBlockElement) {\r\n      CodeVCNEditorHelper.insertNewTopBlockElementAfterElement(latestTopBlockElement)\r\n    }\r\n    this.currentBlockquoteElement = null\r\n  }\r\n\r\n  private checkIfIsInBlockquote(selection: Selection): HTMLElement | null {\r\n    const anchorNode = selection.anchorNode\r\n    if (!anchorNode) return null\r\n    let node: HTMLElement | null = null\r\n    if (anchorNode.nodeType === Node.TEXT_NODE) {\r\n      node = anchorNode.parentNode as HTMLElement | null\r\n    } else {\r\n      node = anchorNode as HTMLElement\r\n    }\r\n    if (node?.tagName === this.blockQuoteTagName) {\r\n      return node\r\n    }\r\n    const editorContentElement = editorContent.getContentElement()\r\n    while (node && node.tagName !== this.blockQuoteTagName && editorContentElement.contains(node)) {\r\n      node = node.closest(this.blockQuoteTagName) as HTMLElement\r\n    }\r\n    if (node?.tagName !== this.blockQuoteTagName) return null\r\n    return node\r\n  }\r\n\r\n  private unblockquote(selection: Selection): void {\r\n    const topBlockElement = CodeVCNEditorHelper.getTopBlockElementFromSelection(selection)\r\n    if (topBlockElement) {\r\n      const blockquoteElementFirstChild = topBlockElement.querySelector(\r\n        this.blockQuoteTagName.toLowerCase()\r\n      ) as HTMLElement\r\n      if (blockquoteElementFirstChild) {\r\n        const childNodes = blockquoteElementFirstChild.childNodes\r\n        const newTopBlocks: HTMLElement[] = []\r\n        for (const childNode of childNodes) {\r\n          const topBlock = document.createElement(CodeVCNEditorHelper.topBlockElementTagName)\r\n          topBlock.appendChild(childNode.cloneNode(true))\r\n          newTopBlocks.push(topBlock)\r\n        }\r\n        topBlockElement.replaceWith(...newTopBlocks)\r\n      }\r\n    }\r\n    this.currentBlockquoteElement = null\r\n  }\r\n\r\n  private makeBlockquoteOnButtonClick(): void {\r\n    const selection = window.getSelection()\r\n    if (!selection) return\r\n    // bắt buộc phải check bằng selection hiện tại khi tạo blockquote bằng click on button, vì\r\n    // khi tạo blockquote mới thì chưa biết caret có nằm trong blockquote hay không\r\n    if (this.checkIfIsInBlockquote(selection)) {\r\n      this.unblockquote(selection)\r\n      return\r\n    }\r\n    const { topBlockElement, isEmpty } = CodeVCNEditorHelper.isEmptyTopBlock(selection)\r\n    if (topBlockElement) {\r\n      if (isEmpty) {\r\n        // nếu đang ở trong 1 block trống thì tạo blockquote cho block đó\r\n        this.insertNewBlockquoteElement(topBlockElement)\r\n      } else {\r\n        // nếu đang ở trong 1 block KHÔNG trống thì tạo blockquote cho block mới\r\n        const newBlockElement = CodeVCNEditorHelper.insertNewTopBlockElementAfterElement(topBlockElement)\r\n        if (newBlockElement) {\r\n          this.insertNewBlockquoteElement(newBlockElement)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private getClosestQuoteLineElement(selection: Selection): HTMLElement | null {\r\n    let node: HTMLElement\r\n    const anchorNode = selection.anchorNode!\r\n    if (anchorNode.nodeType === Node.TEXT_NODE) {\r\n      node = anchorNode.parentNode as HTMLElement\r\n    } else {\r\n      node = anchorNode as HTMLElement\r\n    }\r\n    if (node.tagName === this.quoteLineTagName) {\r\n      return node as HTMLElement\r\n    }\r\n    let quoteLineElement: HTMLElement | null = null\r\n    while (node && node.tagName !== this.quoteLineTagName && this.currentBlockquoteElement?.contains(node)) {\r\n      node = node.parentNode as HTMLElement\r\n      quoteLineElement = node\r\n    }\r\n    if (quoteLineElement?.tagName !== this.quoteLineTagName) return null\r\n    return quoteLineElement\r\n  }\r\n\r\n  private isOnEmptyLine(selection: Selection): boolean {\r\n    const quoteLineElement = this.getClosestQuoteLineElement(selection)\r\n    if (!quoteLineElement) {\r\n      throw EditorErrorHelper.createError(EErrorMessage.QUOTE_LINE_ELEMENT_NOT_FOUND)\r\n    }\r\n    const trimmedInnerHTML = quoteLineElement.innerHTML.trim()\r\n    return trimmedInnerHTML === \"<br>\" || trimmedInnerHTML === \"\"\r\n  }\r\n\r\n  private insertNewEmptyLine(selection: Selection): void {\r\n    if (!this.currentBlockquoteElement) return\r\n    const newLineElement = document.createElement(this.quoteLineTagName)\r\n    newLineElement.innerHTML = \"<br>\"\r\n    this.currentBlockquoteElement.appendChild(newLineElement)\r\n    CodeVCNEditorHelper.moveCaretToStartOfElement(newLineElement, selection, selection.getRangeAt(0))\r\n  }\r\n\r\n  private makeBlockquoteOnKeyboardEvent(e: KeyboardEvent): void {\r\n    if (e.key === \"Enter\") {\r\n      const selection = window.getSelection()\r\n      if (!selection || selection.rangeCount === 0) return\r\n      const isInBlockquote = this.checkIfIsInBlockquote(selection)\r\n      if (!isInBlockquote) return\r\n      e.preventDefault()\r\n      // chỉ dc thực thi nếu caret nằm trong blockquote\r\n      if (this.isOnEmptyLine(selection)) {\r\n        this.exitBlockquote()\r\n      } else {\r\n        this.insertNewEmptyLine(selection)\r\n      }\r\n    }\r\n  }\r\n\r\n  onAction(action?: EBlockquoteType, e?: KeyboardEvent) {\r\n    if (action) {\r\n      switch (action) {\r\n        case EBlockquoteType.BLOCKQUOTE:\r\n          this.makeBlockquoteOnButtonClick()\r\n          break\r\n      }\r\n    } else if (e) {\r\n      this.makeBlockquoteOnKeyboardEvent(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport const blockquoteStylish = new BlockquoteStylish()\r\n","/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.6';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n","import { clsx } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\nimport { render, type TemplateResult } from \"lit-html\"\r\nimport DOMPurify from \"dompurify\"\r\n\r\nexport const cn = (...classes: string[]): string => {\r\n  return twMerge(clsx(classes))\r\n}\r\n\r\nexport const sanitizeHTML = (html: string): string => {\r\n  return DOMPurify.sanitize(html)\r\n}\r\n\r\nexport class LitHTMLHelper {\r\n  static createFromRenderer<T extends (...args: any[]) => TemplateResult<1>>(\r\n    Renderer: T,\r\n    data: Parameters<T>\r\n  ): HTMLElement {\r\n    const container = document.createElement(\"div\")\r\n    render(Renderer(data), container)\r\n    return container.firstElementChild as HTMLElement\r\n  }\r\n}\r\n","import { html } from \"lit-html\"\r\nimport { textListingStylish } from \"../toolbar/text-listing/text-listing.stylish.js\"\r\nimport { CodeVCNEditorHelper } from \"@/helpers/codevcn-editor-helper.js\"\r\nimport { blockquoteStylish } from \"../toolbar/text-blocking/blockquote/blockquote.stylish.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass EditorContent {\r\n  private contentElement: HTMLElement\r\n  private contentElementName: string = \"NAME-editor-content\"\r\n\r\n  constructor() {\r\n    this.contentElement = this.createContentElement()\r\n    this.initEventListeners()\r\n  }\r\n\r\n  getContentElementName(): string {\r\n    return this.contentElementName\r\n  }\r\n\r\n  private createContentElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`\r\n        <div\r\n          class=\"${this.contentElementName} p-4 min-h-[300px] outline-none\"\r\n          contenteditable=\"true\"\r\n          spellcheck=\"false\"\r\n        ></div>\r\n      `\r\n    return LitHTMLHelper.createFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindKeydownEventListener(): void {\r\n    this.contentElement.addEventListener(\"keydown\", (e) => {\r\n      queueMicrotask(() => {\r\n        textListingStylish.onAction(undefined, e)\r\n        blockquoteStylish.onAction(undefined, e)\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Hàm xử lý sự kiện beforeinput (hàm được gọi khi người dùng nhập chỉnh sửa content trong editor)\r\n   */\r\n  private bindBeforeInputEventListener(): void {\r\n    this.contentElement.addEventListener(\"beforeinput\", (e) => {\r\n      if (e.inputType === \"insertParagraph\") {\r\n        e.preventDefault()\r\n        this.contentElement.appendChild(CodeVCNEditorHelper.createNewTopBlockElement())\r\n      }\r\n    })\r\n  }\r\n\r\n  private initEventListeners(): void {\r\n    this.bindKeydownEventListener()\r\n    this.bindBeforeInputEventListener()\r\n  }\r\n\r\n  getContentElement(): HTMLElement {\r\n    return this.contentElement\r\n  }\r\n\r\n  checkIsFocusingInEditorContent(): Selection | null {\r\n    const selection = window.getSelection()\r\n    if (!selection) return null\r\n    const anchorNode = selection.anchorNode\r\n    if (!anchorNode) return null\r\n    if (!this.contentElement.contains(anchorNode)) return null\r\n    return selection\r\n  }\r\n\r\n  insertNewTopBlockElementAndFocusCaret(): HTMLElement {\r\n    const topBlockElement = document.createElement(CodeVCNEditorHelper.topBlockElementTagName)\r\n    topBlockElement.innerHTML = \"<br>\"\r\n    this.contentElement.appendChild(topBlockElement)\r\n\r\n    // Focus caret vào content của top block element mới tạo\r\n    const range = document.createRange()\r\n    range.selectNodeContents(topBlockElement)\r\n    range.collapse(true)\r\n    const selection = window.getSelection()\r\n    if (selection) {\r\n      selection.removeAllRanges()\r\n      selection.addRange(range)\r\n    }\r\n\r\n    this.contentElement.focus()\r\n\r\n    return topBlockElement\r\n  }\r\n}\r\n\r\nexport const editorContent = new EditorContent()\r\n","import { html } from \"lit-html\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass EditorFrame {\r\n  private frameElement: HTMLElement\r\n  private frameElementClassName: string = \"NAME-editor-frame\"\r\n  private codevcnEditorClassName: string = \"NAME-codevcn-editor\"\r\n\r\n  constructor() {\r\n    this.frameElement = this.createFrameElement()\r\n  }\r\n\r\n  private createFrameElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div\r\n        class=\"${this.frameElementClassName} ${this\r\n          .codevcnEditorClassName} w-full max-w-3xl mx-auto border rounded-lg shadow bg-white\"\r\n      ></div>`\r\n    return LitHTMLHelper.createFromRenderer(Renderer)\r\n  }\r\n\r\n  getFrameElement(): HTMLElement {\r\n    return this.frameElement\r\n  }\r\n}\r\n\r\nexport const editorFrame = new EditorFrame()\r\n","type TButtonClickCallback<TAction extends string> = (action: TAction, value?: string) => void\r\n\r\nexport class ToolbarButton<TAction extends string> {\r\n  element: HTMLElement\r\n  action: TAction\r\n  value?: string\r\n\r\n  constructor(el: HTMLElement) {\r\n    this.element = el\r\n    this.action = (el.getAttribute(\"data-action\") as TAction) || (\"\" as TAction)\r\n    this.value = el.getAttribute(\"data-value\") || undefined\r\n  }\r\n\r\n  onClick(callback: TButtonClickCallback<TAction>) {\r\n    this.element.addEventListener(\"click\", () => {\r\n      callback(this.action, this.value)\r\n    })\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2,MATHML:3},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,d=o=>void 0!==o?._$litDirective$,c=o=>o?._$litDirective$,f=o=>void 0===o.strings,r=()=>document.createComment(\"\"),s=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(r(),l),d=e.insertBefore(r(),l);n=new t(i,d,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,d=i!==o;if(d){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||d){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,M=o=>{o._$AR(),o._$AA.remove()},h=o=>{o._$AR()};export{n as TemplateResultType,h as clearPart,p as getCommittedValue,c as getDirectiveClass,s as insertPart,l as isCompiledTemplateResult,d as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,M as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import{noChange as e}from\"../lit-html.js\";import{directive as s,Directive as t,PartType as r}from\"../directive.js\";import{getCommittedValue as l,setChildPartValue as o,insertPart as i,removePart as n,setCommittedValue as f}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},c=s(class extends t{constructor(e){if(super(e),e.type!==r.CHILD)throw Error(\"repeat() can only be used in text expressions\")}dt(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],o=[];let i=0;for(const s of e)l[i]=r?r(s,i):i,o[i]=t(s,i),i++;return{values:o,keys:l}}render(e,s,t){return this.dt(e,s,t).values}update(s,[t,r,c]){const d=l(s),{values:p,keys:a}=this.dt(t,r,c);if(!Array.isArray(d))return this.ut=a,p;const h=this.ut??=[],v=[];let m,y,x=0,j=d.length-1,k=0,w=p.length-1;for(;x<=j&&k<=w;)if(null===d[x])x++;else if(null===d[j])j--;else if(h[x]===a[k])v[k]=o(d[x],p[k]),x++,k++;else if(h[j]===a[w])v[w]=o(d[j],p[w]),j--,w--;else if(h[x]===a[w])v[w]=o(d[x],p[w]),i(s,v[w+1],d[x]),x++,w--;else if(h[j]===a[k])v[k]=o(d[j],p[k]),i(s,d[x],d[j]),j--,k++;else if(void 0===m&&(m=u(a,k,w),y=u(h,x,j)),m.has(h[x]))if(m.has(h[j])){const e=y.get(a[k]),t=void 0!==e?d[e]:null;if(null===t){const e=i(s,d[x]);o(e,p[k]),v[k]=e}else v[k]=o(t,p[k]),i(s,d[x],t),d[e]=null;k++}else n(d[j]),j--;else n(d[x]),x++;for(;k<=w;){const e=i(s,v[w+1]);o(e,p[k]),v[k++]=e}for(;x<=j;){const e=d[x++];null!==e&&n(e)}return this.ut=a,f(s,v),e}});export{c as repeat};\n//# sourceMappingURL=repeat.js.map\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","import { ETextStylingType } from \"@/enums/global-enums.js\"\r\nimport { CodeVCNEditorHelper } from \"@/helpers/codevcn-editor-helper.js\"\r\nimport { editorContent } from \"@/lib/artifact/content/editor.content.js\"\r\n\r\nclass TextStylingStylish {\r\n  private currentStylingType: ETextStylingType | null = null\r\n  private parentStylingElement: HTMLElement | null = null\r\n  /**\r\n   * Tên các thẻ styling cho từng loại styling (index theo thứ tự ưu tiên, 0 là ưu tiên nhất rồi đến 1, 2, 3, ...)\r\n   */\r\n  private tagNamesForStyling: Record<ETextStylingType, string[]> = {\r\n    [ETextStylingType.BOLD]: [\"B\", \"STRONG\"],\r\n    [ETextStylingType.ITALIC]: [\"I\", \"EM\"],\r\n    [ETextStylingType.UNDERLINE]: [\"U\", \"INS\"],\r\n    [ETextStylingType.STRIKE_THROUGH]: [\"S\", \"DEL\", \"STRIKE\"],\r\n    [ETextStylingType.HEADING_1]: [\"H1\"],\r\n    [ETextStylingType.HEADING_2]: [\"H2\"],\r\n    [ETextStylingType.HEADING_3]: [\"H3\"],\r\n    [ETextStylingType.PARAGRAPH]: [\"P\"],\r\n  }\r\n\r\n  constructor() {}\r\n\r\n  private getAllAvailableTagNames(): string[] {\r\n    return Object.values(this.tagNamesForStyling).flat()\r\n  }\r\n\r\n  private ifTagNameIsCurrentStyling(tagName: string): boolean {\r\n    return this.getCurrentStylingTagNames().includes(tagName)\r\n  }\r\n\r\n  private setCurrentStylingType(stylingType: ETextStylingType): void {\r\n    this.currentStylingType = stylingType\r\n  }\r\n\r\n  private getCurrentStylingTagNames(): string[] {\r\n    return this.tagNamesForStyling[this.currentStylingType!]\r\n  }\r\n\r\n  private getCurrentStylingTagName(): string {\r\n    return this.getCurrentStylingTagNames()[0]\r\n  }\r\n\r\n  /**\r\n   * Lấy thẻ <styling tag> gần nhất chứa đầy đủ vùng bôi đen.\r\n   */\r\n  private setParentStylingElement(selectionRange: Range): void {\r\n    let node =\r\n      selectionRange.startContainer.nodeType === Node.TEXT_NODE\r\n        ? (selectionRange.startContainer.parentNode as HTMLElement)\r\n        : (selectionRange.startContainer as HTMLElement)\r\n    if (!node) return\r\n    this.parentStylingElement = CodeVCNEditorHelper.getClosestElementOfNode(\r\n      node,\r\n      (node) => this.ifTagNameIsCurrentStyling(node.tagName) && node.contains(selectionRange.endContainer)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Gộp 2 tag giống nhau liền kề thành 1 tag, VD: <b>Hello</b><b> World</b> => <b>Hello World</b>\r\n   */\r\n  private mergeAdjacentStyling(parent: HTMLElement): void {\r\n    let node = parent.firstChild as HTMLElement | null\r\n    while (node) {\r\n      const next = node.nextSibling as HTMLElement | null\r\n      if (\r\n        node.nodeType === Node.ELEMENT_NODE &&\r\n        next &&\r\n        next.nodeType === Node.ELEMENT_NODE &&\r\n        this.ifTagNameIsCurrentStyling(node.tagName) &&\r\n        node.tagName === next.tagName\r\n      ) {\r\n        // chuyển toàn bộ con của next sang node rồi xóa next\r\n        while (next.firstChild) node.appendChild(next.firstChild)\r\n        parent.removeChild(next)\r\n        continue // kiểm tra lại node hiện tại với phần tử kế tiếp mới\r\n      }\r\n      node = next\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Hàm xử lý xóa styling tag khỏi selection.\r\n   */\r\n  private unstylingFromSelection(selectionRange: Range): void {\r\n    // Tìm thẻ styling tag NHỎ NHẤT bao trọn selection\r\n    const parentStylingElement = this.parentStylingElement\r\n    if (!parentStylingElement) return // selection không nằm trọn trong 1 styling tag\r\n\r\n    const doc = parentStylingElement.ownerDocument\r\n    const tagName = parentStylingElement.tagName // styling tag name\r\n\r\n    // Clone nội dung của 3 đoạn: trái | selection | phải (không đụng DOM gốc)\r\n    const clonedRange = selectionRange.cloneRange()\r\n\r\n    const leftRange = doc.createRange()\r\n    leftRange.setStart(parentStylingElement, 0)\r\n    leftRange.setEnd(clonedRange.startContainer, clonedRange.startOffset)\r\n\r\n    const rightRange = doc.createRange()\r\n    rightRange.setStart(clonedRange.endContainer, clonedRange.endOffset)\r\n    rightRange.setEnd(parentStylingElement, parentStylingElement.childNodes.length)\r\n\r\n    const leftFragment = leftRange.cloneContents()\r\n    const midFragment = clonedRange.cloneContents() // phần cần bỏ styling tag\r\n    const rightFragment = rightRange.cloneContents()\r\n\r\n    // Xây fragment thay thế, fragment này chứa: <styling tag>left</styling tag> + mid + <styling tag>right</styling tag>\r\n    const replacement = doc.createDocumentFragment()\r\n\r\n    if (leftFragment.hasChildNodes()) {\r\n      const leftElement = doc.createElement(tagName)\r\n      leftElement.appendChild(leftFragment)\r\n      replacement.appendChild(leftElement)\r\n    }\r\n\r\n    if (midFragment.hasChildNodes()) {\r\n      replacement.appendChild(midFragment) // KHÔNG bị bọc bởi styling tag\r\n    }\r\n\r\n    if (rightFragment.hasChildNodes()) {\r\n      const rightElement = doc.createElement(tagName)\r\n      rightElement.appendChild(rightFragment)\r\n      replacement.appendChild(rightElement)\r\n    }\r\n\r\n    // Thay thẻ cha <styling tag> cũ bằng cấu trúc mới\r\n    parentStylingElement.replaceWith(replacement)\r\n  }\r\n\r\n  private warpContentByStylingTag(selectionRange: Range): HTMLElement {\r\n    const content = selectionRange.extractContents()\r\n    const element = document.createElement(this.getCurrentStylingTagName())\r\n    element.appendChild(content)\r\n    selectionRange.insertNode(element)\r\n    return element\r\n  }\r\n\r\n  private findDescendantsSameTag(parent: HTMLElement): HTMLElement[] {\r\n    const tagName = parent.tagName\r\n    // liệt kê tất cả các tagName cùng loại với tagName của parent\r\n    const descendantTagNames: string[] = []\r\n    for (const stylingType in this.tagNamesForStyling) {\r\n      const tagNames = this.tagNamesForStyling[stylingType as ETextStylingType]\r\n      if (tagNames.includes(tagName)) {\r\n        descendantTagNames.push(...tagNames)\r\n      }\r\n    }\r\n    // tìm tất cả các phần tử có tagName cùng loại với tagName của parent\r\n    return Array.from(parent.querySelectorAll(descendantTagNames.join(\",\")))\r\n  }\r\n\r\n  private removeOverlapChildTags(parentStylingElement: HTMLElement): void {\r\n    const descendants = this.findDescendantsSameTag(parentStylingElement)\r\n    for (const descendant of descendants) {\r\n      descendant.replaceWith(...descendant.childNodes)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Kiểm tra xem phần tử parent có chứa text node nào ko được bọc bởi tagNameAllowed hay ko\r\n   * @param {HTMLElement} parent - Phần tử parent\r\n   */\r\n  private makeStylingToTextNodeOutsideTags(parent: HTMLElement): void {\r\n    const tagNamesAllowed = this.getAllAvailableTagNames()\r\n    const childNodes = parent.childNodes\r\n    for (const node of childNodes) {\r\n      if (node.nodeType === Node.TEXT_NODE) {\r\n        if (node.textContent!.trim() !== \"\") {\r\n          // tìm ra text node không có tag bao bọc\r\n          const newNode = document.createElement(this.getCurrentStylingTagName())\r\n          newNode.appendChild(node.cloneNode(true))\r\n          node.replaceWith(newNode)\r\n          return\r\n        }\r\n      } else if (node.nodeType === Node.ELEMENT_NODE) {\r\n        const el = node as HTMLElement\r\n        // nếu không phải tag được phép thì kiểm tra tiếp đệ quy\r\n        if (!tagNamesAllowed.includes(el.tagName)) {\r\n          this.makeStylingToTextNodeOutsideTags(el)\r\n        } else {\r\n          // nếu nằm trong tag được phép, bỏ qua đệ quy\r\n          continue\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Xóa các tag rỗng\r\n   */\r\n  private removeEmptyTags(parent: HTMLElement): void {\r\n    const elements = parent.children\r\n    for (const element of elements) {\r\n      if (element.innerHTML === \"\") {\r\n        element.remove()\r\n        continue\r\n      } else if (element.hasChildNodes()) {\r\n        this.removeEmptyTags(element as HTMLElement)\r\n      }\r\n    }\r\n  }\r\n\r\n  private makeStyling(selectionRange: Range, stylingType: ETextStylingType): void {\r\n    this.setCurrentStylingType(stylingType)\r\n    this.setParentStylingElement(selectionRange)\r\n\r\n    if (this.parentStylingElement) {\r\n      // nếu selection nằm hoàn toàn trong 1 styling tag thì xóa styling của selection\r\n      this.unstylingFromSelection(selectionRange)\r\n    } else {\r\n      // nếu không nằm hoàn toàn trong styling tag thì bọc content bởi styling tag và xóa các tag giống styling tag\r\n      const parentStylingElement = this.warpContentByStylingTag(selectionRange)\r\n      this.removeOverlapChildTags(parentStylingElement)\r\n    }\r\n\r\n    if (this.parentStylingElement) {\r\n      this.mergeAdjacentStyling(this.parentStylingElement)\r\n    }\r\n  }\r\n\r\n  onAction(stylingType: ETextStylingType): void {\r\n    const selection = editorContent.checkIsFocusingInEditorContent()\r\n    if (!selection || selection.rangeCount === 0) return\r\n    const range = selection.getRangeAt(0)\r\n    if (range.collapsed) return\r\n    this.makeStyling(range, stylingType)\r\n  }\r\n}\r\n\r\nexport const textStylingStylish = new TextStylingStylish()\r\n","import{nothing as t}from\"../lit-html.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o=o=>o??t;export{o as ifDefined};\n//# sourceMappingURL=if-defined.js.map\n","import { html, type TemplateResult } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { ifDefined } from \"lit-html/directives/if-defined.js\"\r\n\r\ntype TCustomDropDownProps = {\r\n  label: string\r\n  options: {\r\n    value: string\r\n    label: string\r\n  }[]\r\n} & Partial<{\r\n  dataObject: Record<string, string>\r\n  classNames: Partial<{\r\n    btn: string\r\n    options: string[]\r\n    container: string\r\n  }>\r\n}>\r\n\r\nexport const DropDown = ({ label, options, dataObject, classNames }: TCustomDropDownProps): TemplateResult<1> => {\r\n  return html`\r\n    <div\r\n      class=\"NAME-custom-dropdown ${classNames?.container || \"\"}\"\r\n      data-value=\"${options[0].value}\"\r\n      data-object=${ifDefined(dataObject ? JSON.stringify(dataObject) : null)}\r\n    >\r\n      <button class=\"NAME-custom-dropdown-btn ${classNames?.btn || \"\"}\">${unsafeHTML(label)}</button>\r\n      <div class=\"NAME-custom-dropdown-content\">\r\n        ${repeat(\r\n          options,\r\n          ({ value }) => value,\r\n          ({ value, label }, index) =>\r\n            html`\r\n              <button class=\"NAME-custom-dropdown-option ${classNames?.options?.[index] || \"\"}\" data-value=\"${value}\">\r\n                ${unsafeHTML(label)}\r\n              </button>\r\n            `\r\n        )}\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","export class DropdownManager {\r\n  /**\r\n   * Dropdown component được bind chỉ nên chứa 1 button và 1 content (content gồm các option)\r\n   */\r\n  static bindDropdownClickEvent(\r\n    dropdownElement: HTMLElement,\r\n    containerClass: string,\r\n    buttonClass: string,\r\n    optionClass: string,\r\n    onPickOption: (activeValue: string, item: HTMLElement) => void\r\n  ): void {\r\n    const hideShowDropdown = () => {\r\n      if (dropdownElement.dataset.open === \"true\") {\r\n        dropdownElement.dataset.open = \"false\"\r\n      } else {\r\n        dropdownElement.dataset.open = \"true\"\r\n      }\r\n    }\r\n    dropdownElement.onclick = (e) => {\r\n      e.preventDefault()\r\n      queueMicrotask(() => {\r\n        let target = e.target as HTMLElement\r\n        if (dropdownElement.querySelector<HTMLElement>(`.${buttonClass}`)!.contains(target)) {\r\n          hideShowDropdown()\r\n        } else {\r\n          while (target && !target.classList.contains(optionClass)) {\r\n            target = target.parentElement as HTMLElement\r\n            if (target.classList.contains(containerClass) || target.tagName === \"BODY\") break\r\n          }\r\n          if (target && target.classList.contains(optionClass)) {\r\n            hideShowDropdown()\r\n            const items = dropdownElement.querySelectorAll<HTMLElement>(`.${optionClass}`)\r\n            items.forEach((item) => {\r\n              item.classList.remove(\"active\")\r\n            })\r\n            target.classList.add(\"active\")\r\n            onPickOption(target.dataset.value!, target)\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n","import { html } from \"lit-html\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { textStylingStylish } from \"./text-styling.stylish.js\"\r\nimport { ETextStylingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { DropDown } from \"@/lib/components/dropdown.js\"\r\nimport { DropdownManager } from \"@/lib/components/managers/dropdown.manager.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass TextStylingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.BOLD,\r\n      label: \"B\",\r\n      type: \"button\",\r\n      className: \"font-bold\",\r\n    },\r\n    {\r\n      action: EToolbarAction.ITALIC,\r\n      label: \"I\",\r\n      type: \"button\",\r\n      className: \"italic font-mono text-lg\",\r\n    },\r\n    {\r\n      action: EToolbarAction.UNDERLINE,\r\n      label: \"U\",\r\n      type: \"button\",\r\n      className: \"underline\",\r\n    },\r\n    {\r\n      action: EToolbarAction.STRIKE_THROUGH,\r\n      label: \"S\",\r\n      type: \"button\",\r\n      className: \"line-through\",\r\n    },\r\n    {\r\n      action: EToolbarAction.RESIZE,\r\n      label: `\r\n        <svg viewBox=\"0 0 48 48\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"#000000\" height=\"18\" width=\"18\">\r\n          <g data-name=\"Layer_2\">\r\n            <g data-name=\"invisible_box\">\r\n              <rect width=\"26\" height=\"26\" fill=\"none\"></rect>\r\n            </g>\r\n            <g data-name=\"Q3_icons\">\r\n              <g>\r\n                <polygon points=\"2 23 9 23 9 43 15 43 15 23 22 23 22 17 2 17 2 23\"></polygon>\r\n                <polygon points=\"46 5 14 5 14 11 27 11 27 43 33 43 33 11 46 11 46 5\"></polygon>\r\n              </g>\r\n            </g>\r\n          </g>\r\n        </svg>`,\r\n      type: \"select\",\r\n      className: \"text-2xl font-bold\",\r\n      options: [\r\n        {\r\n          value: ETextStylingType.PARAGRAPH,\r\n          label: \"Paragraph\",\r\n          className: \"text-base\",\r\n        },\r\n        {\r\n          value: ETextStylingType.HEADING_1,\r\n          label: \"H1\",\r\n          className: \"text-2xl font-bold\",\r\n        },\r\n        {\r\n          value: ETextStylingType.HEADING_2,\r\n          label: \"H2\",\r\n          className: \"text-xl font-bold\",\r\n        },\r\n        {\r\n          value: ETextStylingType.HEADING_3,\r\n          label: \"H3\",\r\n          className: \"text-lg font-bold\",\r\n        },\r\n      ],\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-text-styling-section flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, type, className, options }) =>\r\n            type === \"select\"\r\n              ? DropDown({\r\n                  label,\r\n                  options: options || [],\r\n                  dataObject: {\r\n                    action: action,\r\n                  },\r\n                  classNames: {\r\n                    btn: `flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer h-full ${className}`,\r\n                    options: options?.map(\r\n                      ({ className }) => `flex gap-2 py-1 px-2 cursor-pointer hover:bg-gray-200 ${className || \"\"}`\r\n                    ),\r\n                  },\r\n                })\r\n              : html`<button\r\n                  class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${className}\"\r\n                  data-action=\"${action}\"\r\n                >\r\n                  ${unsafeHTML(label)}\r\n                </button>`\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ETextStylingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action as ETextStylingType)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindDropdownEvents() {\r\n    const dropdowns = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-custom-dropdown\")\r\n    for (const dropdown of dropdowns) {\r\n      DropdownManager.bindDropdownClickEvent(\r\n        dropdown,\r\n        \"NAME-custom-dropdown\",\r\n        \"NAME-custom-dropdown-btn\",\r\n        \"NAME-custom-dropdown-option\",\r\n        (activeValue) => {\r\n          this.onAction(activeValue as ETextStylingType)\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n    this.bindDropdownEvents()\r\n  }\r\n\r\n  onAction(stylingType: ETextStylingType) {\r\n    queueMicrotask(() => {\r\n      textStylingStylish.onAction(stylingType)\r\n    })\r\n  }\r\n}\r\n\r\nexport const textStylingModule = new TextStylingModule()\r\n","import { html } from \"lit-html\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { ETextListingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { textListingStylish } from \"./text-listing.stylish.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass TextListingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.NUMBERED_LIST,\r\n      label: `<i class=\"bi bi-list-ol\"></i>`,\r\n      type: \"button\",\r\n      className: \"text-2xl font-bold\",\r\n    },\r\n    {\r\n      action: EToolbarAction.BULLET_LIST,\r\n      label: `<i class=\"bi bi-list-ul\"></i>`,\r\n      type: \"button\",\r\n      className: \"text-2xl font-bold\",\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () => html`<div class=\"NAME-text-listing-section flex gap-2\">\r\n      ${repeat(\r\n        this.actions,\r\n        (action) => action.action,\r\n        (action) =>\r\n          html`<button\r\n            class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${action.className}\"\r\n            data-action=\"${action.action}\"\r\n          >\r\n            ${unsafeHTML(action.label)}\r\n          </button>`\r\n      )}\r\n    </div>`\r\n    return LitHTMLHelper.createFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<ETextListingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  onAction(listingType: ETextListingType) {\r\n    queueMicrotask(() => {\r\n      textListingStylish.onAction(listingType)\r\n    })\r\n  }\r\n}\r\n\r\nexport const textListingModule = new TextListingModule()\r\n","import { EToolbarAction, EBlockquoteType } from \"@/enums/global-enums.js\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { html } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { ToolbarButton } from \"../../toolbar-button.js\"\r\nimport { blockquoteStylish } from \"./blockquote.stylish.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass BlockquoteModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.BLOCKQUOTE,\r\n      label: `<i class=\"bi bi-quote text-xl\"></i>`,\r\n      type: \"button\",\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-blockquote-module flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, className }) =>\r\n            html`<button\r\n              class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${className}\"\r\n              data-action=\"${action}\"\r\n            >\r\n              ${unsafeHTML(label)}\r\n            </button>`\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<EBlockquoteType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  onAction(action: EBlockquoteType) {\r\n    blockquoteStylish.onAction(action)\r\n  }\r\n}\r\n\r\nexport const blockquoteModule = new BlockquoteModule()\r\n","import { html, type TemplateResult } from \"lit-html\"\r\n\r\ntype ModalProps = {\r\n  bodyLitHTML: TemplateResult<1>\r\n} & Partial<{\r\n  title: string\r\n  footerLitHTML: TemplateResult<1>\r\n}>\r\n\r\nexport const Modal = ({ bodyLitHTML, title, footerLitHTML }: ModalProps): TemplateResult<1> => {\r\n  return html`\r\n    <div class=\"NAME-modal fixed inset-0 flex items-center justify-center p-4 z-90 text-base\">\r\n      <div class=\"NAME-modal-overlay bg-black/50 absolute inset-0 z-10\"></div>\r\n      <div\r\n        class=\"NAME-modal-content flex flex-col bg-white rounded-2xl shadow-2xl w-full h-full max-h-full max-w-[70vw] overflow-hidden relative z-11\"\r\n      >\r\n        <div class=\"NAME-modal-header flex items-center justify-between p-2 border-b border-gray-200\">\r\n          <h2 class=\"NAME-modal-title ml-3 text-xl font-bold text-black\">${title}</h2>\r\n          <button class=\"NAME-modal-close p-2 cursor-pointer hover:bg-gray-100 rounded-full transition-colors duration-200\">\r\n            <i class=\"bi bi-x-lg text-gray-600 text-xl\"></i>\r\n          </button>\r\n        </div>\r\n        <div class=\"NAME-modal-body flex flex-col grow overflow-y-auto\">${bodyLitHTML}</div>\r\n        <div class=\"NAME-modal-footer w-full border-t border-gray-200 py-2 px-4 bg-white\">${footerLitHTML}</div>\r\n      </div>\r\n    </div>\r\n  `\r\n}\r\n","import { Modal } from \"../modal\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers\"\r\nimport { html } from \"lit-html\"\r\n\r\nexport class ModalManager {\r\n  static showModal<TModal extends typeof Modal>(params: Parameters<TModal>): void {\r\n    const modalElement = this.getModalElement()\r\n    if (!modalElement) return\r\n    const { bodyLitHTML, title, footerLitHTML } = params[0]\r\n    modalElement.querySelector(\".NAME-modal-body\")!.appendChild(LitHTMLHelper.createFromRenderer(() => bodyLitHTML, []))\r\n    if (title) {\r\n      modalElement.querySelector(\".NAME-modal-title\")!.textContent = title\r\n    }\r\n    if (footerLitHTML) {\r\n      const modalFooterElement = modalElement.querySelector(\".NAME-modal-footer\")\r\n      if (modalFooterElement) {\r\n        modalFooterElement.appendChild(LitHTMLHelper.createFromRenderer(() => footerLitHTML, []))\r\n      }\r\n    }\r\n    modalElement.classList.add(\"STATE-show\")\r\n  }\r\n\r\n  static hideModal(modalElement: HTMLElement): void {\r\n    modalElement.classList.remove(\"STATE-show\")\r\n    modalElement.querySelector(\".NAME-modal-body\")!.innerHTML = \"\"\r\n    modalElement.querySelector(\".NAME-modal-footer\")!.innerHTML = \"\"\r\n  }\r\n\r\n  private static bindHideEventHandler(modalElement: HTMLElement): void {\r\n    modalElement.querySelector(\".NAME-modal-close\")?.addEventListener(\"click\", () => {\r\n      this.hideModal(modalElement)\r\n    })\r\n    modalElement.querySelector(\".NAME-modal-overlay\")?.addEventListener(\"click\", () => {\r\n      this.hideModal(modalElement)\r\n    })\r\n  }\r\n\r\n  static getModalElement(): HTMLElement | null {\r\n    return document.body.querySelector(\".NAME-modal\")\r\n  }\r\n\r\n  static initModal(): HTMLElement {\r\n    let modalElement = document.body.querySelector<HTMLElement>(\".NAME-modal\")\r\n    if (modalElement) {\r\n      return modalElement\r\n    }\r\n    modalElement = LitHTMLHelper.createFromRenderer(Modal, [{ bodyLitHTML: html`` }])\r\n    document.body.appendChild(modalElement)\r\n    this.bindHideEventHandler(modalElement)\r\n    return modalElement\r\n  }\r\n}\r\n","import { ModalManager } from \"@/lib/components/managers/modal.manager\"\r\nimport { Modal } from \"@/lib/components/modal\"\r\nimport { html } from \"lit-html\"\r\n\r\nclass AddImageModalManager {\r\n  private addImageModal: HTMLElement\r\n\r\n  constructor() {\r\n    this.addImageModal = this.createAddImageModal()\r\n  }\r\n\r\n  private createAddImageModal(): HTMLElement {\r\n    return ModalManager.initModal()\r\n  }\r\n\r\n  getAddImageModal(): HTMLElement {\r\n    return this.addImageModal\r\n  }\r\n\r\n  private switchAddImageType(e: PointerEvent) {\r\n    e.preventDefault()\r\n    const currentTarget = e.currentTarget as HTMLElement\r\n    const currentBtn = currentTarget.classList.contains(\"NAME-add-image-btn-upload\") ? \"upload\" : \"url\"\r\n    const addImageContent = this.addImageModal.querySelector(\".NAME-add-image-content\") as HTMLElement\r\n    const addImageTypeButtons = this.addImageModal.querySelector(\".NAME-add-image-type-buttons\") as HTMLElement\r\n    addImageContent.classList.remove(\"STATE-upload\", \"STATE-url\")\r\n    addImageTypeButtons.classList.remove(\"STATE-upload\", \"STATE-url\")\r\n    if (currentBtn === \"upload\") {\r\n      addImageContent.classList.add(\"STATE-upload\")\r\n      addImageTypeButtons.classList.add(\"STATE-upload\")\r\n    } else {\r\n      addImageContent.classList.add(\"STATE-url\")\r\n      addImageTypeButtons.classList.add(\"STATE-url\")\r\n    }\r\n  }\r\n\r\n  private pickImageFile(e: PointerEvent) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    const input = this.addImageModal.querySelector(\".NAME-add-image-upload-input\") as HTMLInputElement\r\n    input.click()\r\n  }\r\n\r\n  private previewImage(image: HTMLImageElement) {\r\n    const preview = this.addImageModal.querySelector(\".NAME-add-image-preview\") as HTMLElement\r\n    preview.appendChild(image)\r\n  }\r\n\r\n  private onPickImageFile(e: PointerEvent) {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    const input = e.currentTarget as HTMLInputElement\r\n    const files = input.files\r\n    if (files && files.length > 0) {\r\n    }\r\n  }\r\n\r\n  showAddImageModal() {\r\n    ModalManager.showModal<typeof Modal>([\r\n      {\r\n        title: \"Add Image\",\r\n        bodyLitHTML: html`\r\n          <div class=\"NAME-add-image-container p-4 space-y-6 h-full\">\r\n            <div class=\"NAME-add-image-type-buttons STATE-upload flex gap-2 bg-gray-100 rounded-xl p-1\">\r\n              <button\r\n                @click=${(e: PointerEvent) => this.switchAddImageType(e)}\r\n                class=\"NAME-add-image-btn-upload flex-1 flex items-center justify-center cursor-pointer gap-2 p-2 leading-none rounded-lg font-medium transition-all duration-300 text-gray-600 hover:bg-white hover:shadow\"\r\n              >\r\n                <i class=\"bi bi-upload font-bold\"></i>\r\n                Upload File\r\n              </button>\r\n              <button\r\n                @click=${(e: PointerEvent) => this.switchAddImageType(e)}\r\n                class=\"NAME-add-image-btn-url flex-1 flex items-center justify-center cursor-pointer gap-2 p-2 leading-none rounded-lg font-medium transition-all duration-300 text-gray-600 hover:bg-white hover:shadow\"\r\n              >\r\n                <i class=\"bi bi-link-45deg font-bold\"></i>\r\n                Image URL\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"NAME-add-image-content STATE-upload space-y-4\">\r\n              <input\r\n                @change=${(e: PointerEvent) => this.onPickImageFile(e)}\r\n                type=\"file\"\r\n                multiple\r\n                accept=\".svg,.png,.jpg,.jpeg,.gif\"\r\n                hidden\r\n                class=\"NAME-add-image-upload-input\"\r\n              />\r\n              <section\r\n                @click=${(e: PointerEvent) => this.pickImageFile(e)}\r\n                class=\"NAME-add-image-upload-section hover:bg-gray-50 border-2 border-dashed rounded-xl p-8 text-center border-gray-400 transition-colors duration-200 cursor-pointer\"\r\n              >\r\n                <div class=\"flex flex-col items-center space-y-4\">\r\n                  <div class=\"p-4 rounded-full bg-gray-100 transition-colors duration-200\">\r\n                    <i class=\"bi bi-camera text-gray-600 text-2xl font-bold\"></i>\r\n                  </div>\r\n                  <div>\r\n                    <p class=\"text-lg font-medium text-black mb-2\">Click to upload or drag and drop</p>\r\n                    <p class=\"text-sm text-gray-600\">SVG, PNG, JPG or GIF (max: 10MB)</p>\r\n                  </div>\r\n                  <button\r\n                    @click=${(e: PointerEvent) => this.pickImageFile(e)}\r\n                    class=\"bg-black text-white px-6 py-1 cursor-pointer rounded-lg hover:scale-105 transition duration-200 font-medium\"\r\n                  >\r\n                    Choose File\r\n                  </button>\r\n                </div>\r\n              </section>\r\n              <section class=\"NAME-add-image-url-section space-y-2\">\r\n                <label class=\"block text-sm pl-1 font-medium text-black\">Image URL</label>\r\n                <input\r\n                  type=\"url\"\r\n                  placeholder=\"Example: https://example.com/image.jpg\"\r\n                  class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\r\n                />\r\n              </section>\r\n            </div>\r\n\r\n            <div class=\"space-y-2\">\r\n              <label class=\"block text-sm pl-1 font-medium text-black\">Preview</label>\r\n              <div class=\"border border-gray-300 rounded-xl p-8 bg-gray-50\">\r\n                <div class=\"flex flex-col items-center justify-center h-48 text-gray-500\">\r\n                  <i class=\"bi bi-image text-4xl mb-4 font-bold\"></i>\r\n                  <p class=\"text-sm\">No image selected</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 pb-4\">\r\n              <div class=\"space-y-4 grid-rows-2 flex flex-col justify-between\">\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"block text-sm pl-1 font-medium text-black\">Width (px)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"800\"\r\n                    class=\"w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\r\n                  />\r\n                </div>\r\n                <div class=\"space-y-2\">\r\n                  <label class=\"block text-sm pl-1 font-medium text-black\">Height (px)</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    placeholder=\"600\"\r\n                    class=\"w-full px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"space-y-2 grid-rows-2 flex flex-col\">\r\n                <label class=\"block text-sm pl-1 font-medium text-black\">Description</label>\r\n                <textarea\r\n                  placeholder=\"Describe the image for accessibility...\"\r\n                  rows=\"5\"\r\n                  class=\"w-full grow px-4 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent transition-all duration-200 resize-none\"\r\n                ></textarea>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        `,\r\n        footerLitHTML: html`\r\n          <div class=\"flex items-center justify-end gap-3 text-base\">\r\n            <button\r\n              @click=${() => ModalManager.hideModal(this.addImageModal)}\r\n              class=\"px-6 py-1 cursor-pointer text-gray-600 hover:scale-105 transition duration-200 font-medium\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              class=\"px-6 py-1 cursor-pointer bg-black text-white rounded-lg hover:scale-105 transition duration-200 font-medium shadow-lg hover:shadow-xl\"\r\n            >\r\n              Upload Image\r\n            </button>\r\n          </div>\r\n        `,\r\n      },\r\n    ])\r\n  }\r\n}\r\n\r\nexport const addImageModalManager = new AddImageModalManager()\r\n","import { EImageBlockingType, EToolbarAction } from \"@/enums/global-enums.js\"\r\nimport type { TToolbarAction } from \"@/types/global-types.js\"\r\nimport { ToolbarButton } from \"../toolbar-button.js\"\r\nimport { html } from \"lit-html\"\r\nimport { repeat } from \"lit-html/directives/repeat.js\"\r\nimport { unsafeHTML } from \"lit-html/directives/unsafe-html.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\nimport { addImageModalManager } from \"./add-image.manager.js\"\r\n\r\nexport class ImageBlockingModule {\r\n  private sectionElement: HTMLElement\r\n  private actions: TToolbarAction[] = [\r\n    {\r\n      action: EToolbarAction.IMAGE_BLOCKING,\r\n      label: `<i class=\"bi bi-image-fill\"></i>`,\r\n      type: \"button\",\r\n    },\r\n  ]\r\n\r\n  constructor() {\r\n    this.sectionElement = this.createSectionElement()\r\n    this.bindEvents()\r\n  }\r\n\r\n  getSectionElement(): HTMLElement {\r\n    return this.sectionElement\r\n  }\r\n\r\n  private createSectionElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"NAME-image-blocking-module flex gap-2\">\r\n        ${repeat(\r\n          this.actions,\r\n          ({ action }) => action,\r\n          ({ action, label, className }) =>\r\n            html`<button\r\n              class=\"NAME-toolbar-btn flex items-center px-2 py-1 leading-none rounded hover:bg-gray-200 cursor-pointer ${className}\"\r\n              data-action=\"${action}\"\r\n            >\r\n              ${unsafeHTML(label)}\r\n            </button>`\r\n        )}\r\n      </div>`\r\n    return LitHTMLHelper.createFromRenderer(Renderer, [])\r\n  }\r\n\r\n  private bindButtonEvents() {\r\n    const buttons = this.sectionElement.querySelectorAll<HTMLElement>(\".NAME-toolbar-btn\")\r\n    buttons.forEach((btn) => {\r\n      const tb = new ToolbarButton<EImageBlockingType>(btn)\r\n      tb.onClick((action) => {\r\n        this.onAction(action)\r\n      })\r\n    })\r\n  }\r\n\r\n  private bindEvents() {\r\n    this.bindButtonEvents()\r\n  }\r\n\r\n  onAction(action: EImageBlockingType) {\r\n    switch (action) {\r\n      case EImageBlockingType.IMAGE_BLOCKING:\r\n        addImageModalManager.showAddImageModal()\r\n        break\r\n    }\r\n  }\r\n}\r\n\r\nexport const imageBlockingModule = new ImageBlockingModule()\r\n","import { html } from \"lit-html\"\r\nimport { textStylingModule } from \"./text-styling/text-styling.module.js\"\r\nimport { textListingModule } from \"./text-listing/text-listing.module.js\"\r\nimport { blockquoteModule } from \"./text-blocking/blockquote/blockquote.module.js\"\r\nimport { imageBlockingModule } from \"./image-blocking/image-blocking.module.js\"\r\nimport { LitHTMLHelper } from \"@/helpers/common-helpers.js\"\r\n\r\nclass EditorToolbar {\r\n  private toolbarElement: HTMLElement\r\n  private toolbarElementClassName: string = \"NAME-editor-toolbar\"\r\n\r\n  constructor() {\r\n    this.toolbarElement = this.createToolbarElement()\r\n    this.toolbarElement.appendChild(textStylingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(textListingModule.getSectionElement())\r\n    this.toolbarElement.appendChild(blockquoteModule.getSectionElement())\r\n    this.toolbarElement.appendChild(imageBlockingModule.getSectionElement())\r\n  }\r\n\r\n  private createToolbarElement(): HTMLElement {\r\n    const Renderer = () =>\r\n      html`<div class=\"${this.toolbarElementClassName} border-b px-2 py-1 flex gap-2 items-stretch\"></div>`\r\n    return LitHTMLHelper.createFromRenderer(Renderer, [])\r\n  }\r\n\r\n  getToolbarElement(): HTMLElement {\r\n    return this.toolbarElement\r\n  }\r\n}\r\n\r\nexport const editorToolbar = new EditorToolbar()\r\n","import { EditorErrorHelper } from \"@/helpers/error-helper.js\"\r\nimport { editorContent } from \"./content/editor.content.js\"\r\nimport { editorFrame } from \"./frame/editor.frame.js\"\r\nimport { editorToolbar } from \"./toolbar/editor.toolbar.js\"\r\nimport { ERenderingMode } from \"@/enums/global-enums.js\"\r\nimport { sanitizeHTML } from \"@/helpers/common-helpers.js\"\r\n\r\nclass CodeVCNEditor {\r\n  private editorWrapperID: string\r\n  private editorWrapper: HTMLElement\r\n\r\n  constructor(editorWrapperID: string, renderingMode: ERenderingMode = ERenderingMode.APPEND) {\r\n    const editorWrapper = document.getElementById(editorWrapperID)\r\n    if (!editorWrapper) {\r\n      throw EditorErrorHelper.createError(`Container with id ${editorWrapperID} not found`)\r\n    }\r\n\r\n    this.editorWrapper = editorWrapper\r\n    this.editorWrapperID = editorWrapperID\r\n\r\n    editorFrame.getFrameElement().appendChild(editorToolbar.getToolbarElement())\r\n    editorFrame.getFrameElement().appendChild(editorContent.getContentElement())\r\n\r\n    if (renderingMode === ERenderingMode.APPEND) {\r\n      this.editorWrapper.appendChild(editorFrame.getFrameElement())\r\n    } else {\r\n      this.editorWrapper.replaceWith(editorFrame.getFrameElement())\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the HTML content in the editor\r\n   * @param html - The HTML content to set in the editor\r\n   */\r\n  setContent(html: string): void {\r\n    editorContent.getContentElement().innerHTML = sanitizeHTML(html)\r\n  }\r\n\r\n  /**\r\n   * Get the HTML content from the editor\r\n   * @returns The HTML content from the editor\r\n   */\r\n  getContent(): string {\r\n    return editorContent.getContentElement().innerHTML\r\n  }\r\n\r\n  getEditorWrapperID(): string {\r\n    return this.editorWrapperID\r\n  }\r\n\r\n  getEditorWrapperElement(): HTMLElement {\r\n    return this.editorWrapper\r\n  }\r\n\r\n  getToolbarElement(): HTMLElement {\r\n    return editorToolbar.getToolbarElement()\r\n  }\r\n\r\n  getContentElement(): HTMLElement {\r\n    return editorContent.getContentElement()\r\n  }\r\n\r\n  getFrameElement(): HTMLElement {\r\n    return editorFrame.getFrameElement()\r\n  }\r\n\r\n  configModule() {}\r\n}\r\n\r\nexport const codevcnEditor = new CodeVCNEditor(\"codevcn-editor-root\")\r\n","import { codevcnEditor } from \"./lib/artifact/codevcn-editor.js\"\r\n\r\nconst init = () => {\r\n  codevcnEditor.setContent(\"<section>Xin chào! Đây là <ins>phần mới</ins> của <b>văn b</b>ản.</section>\")\r\n}\r\ninit()\r\n"],"names":["EditorErrorHelper","message","t","i","s","e","h","o","n","r","l","c","a","u","d","f","v","_","m","p","g","$","y","x","T","E","A","C","P","V","N","H","I","L","k","S","R","z","M","Z","j","B","ETextStylingType","ETextListingType","ERenderingMode","EBlockquoteType","EImageBlockingType","EToolbarAction","EErrorMessage","CodeVCNEditorHelper","selection","topBlockElement","trimmedInnerHTML","newBlock","startNode","selector","currentElement","editorContentElement","editorContent","editorContentElementName","anchorNode","element","newBlockElement","selectionRange","TextListingStylish","listingType","elementOfSelection","node","currentLiElement","after","newLi","newRange","liElement","nodes","list","line","listLineElement","lineElement","newList","currentLineElement","textListingStylish","BlockquoteStylish","blockQuoteInnerHTML","blockQuoteElement","latestTopBlockElement","blockquoteElementFirstChild","childNodes","newTopBlocks","childNode","topBlock","isEmpty","quoteLineElement","newLineElement","action","blockquoteStylish","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","apply","construct","fun","thisValue","args","Func","arrayForEach","unapply","arrayLastIndexOf","arrayPop","arrayPush","arraySplice","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","unconstruct","func","thisArg","_len","_key","_len2","_key2","addToSet","set","array","transformCaseFunc","lcElement","cleanArray","index","clone","object","newObject","property","value","lookupGetter","prop","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","NODE_TYPE","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","suffix","ATTR_NAME","policyName","scriptUrl","_createHooksMap","createDOMPurify","window","DOMPurify","root","document","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","remove","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","parentTagName","_forceRemove","_removeAttribute","name","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","body","_createNodeIterator","_isClobbered","_isNode","_executeHooks","currentNode","data","hook","_sanitizeElements","content","_isBasicCustomElement","parentNode","childCount","childClone","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attributes","hookEvent","attr","namespaceURI","attrValue","initValue","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","importedNode","returnNode","nodeIterator","serializedHTML","tag","entryPoint","hookFunction","purify","sanitizeHTML","LitHTMLHelper","Renderer","container","render","EditorContent","range","EditorFrame","editorFrame","ToolbarButton","el","callback","w","TextStylingStylish","stylingType","next","parentStylingElement","clonedRange","leftRange","rightRange","leftFragment","midFragment","rightFragment","replacement","leftElement","rightElement","descendantTagNames","tagNames","descendants","descendant","tagNamesAllowed","newNode","elements","textStylingStylish","DropDown","label","options","dataObject","classNames","ifDefined","unsafeHTML","repeat","DropdownManager","dropdownElement","containerClass","buttonClass","optionClass","onPickOption","hideShowDropdown","target","item","TextStylingModule","type","className","btn","dropdowns","dropdown","activeValue","textStylingModule","TextListingModule","textListingModule","BlockquoteModule","blockquoteModule","Modal","bodyLitHTML","title","footerLitHTML","ModalManager","params","modalElement","modalFooterElement","AddImageModalManager","currentBtn","addImageContent","addImageTypeButtons","image","files","addImageModalManager","ImageBlockingModule","imageBlockingModule","EditorToolbar","editorToolbar","CodeVCNEditor","editorWrapperID","renderingMode","editorWrapper","codevcnEditor","init"],"mappings":"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","x_google_ignoreList":[1,6,11,12,13,14,16]}