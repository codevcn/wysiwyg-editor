@mixin editor-content-table-rules {
  $cell-padding: 4px 8px;
  $cell-highlight-color: gray;
  $cell-border-color: var(--vcn-table-border-cl);

  border-collapse: collapse;
  width: 100%;
  margin: 4px 0;
  table-layout: fixed; /* Cột chia đều bất kể nội dung */

  td {
    border: 1px solid $cell-border-color;
    padding: $cell-padding;

    &.STATE-highlight-cell {
      outline: 2px solid $cell-highlight-color;
      border-radius: 4px;
    }
  }
}

@mixin editor-content-blockquote-rules {
  border-left: 4px solid #ccc; /* đường kẻ bên trái */
  margin: 1em 0;
  padding: 0.5em 1em;
  background: #f9f9f9; /* nền xám nhạt */
  color: #555; /* chữ xám */

  p {
    display: block;
  }
}

@mixin editor-content-tags-rules {
  ol,
  ul {
    padding-left: 15px;
  }

  li {
    position: relative;
    padding-left: 23px;
  }

  ol {
    list-style: none;
    counter-reset: item; // reset counter cho mỗi ol mới

    li {
      counter-increment: item;

      &::before {
        content: counter(item) ".";
        position: absolute;
        left: 0;
        top: 0;
      }
    }
  }

  ul {
    list-style: none;
    list-style-position: inside;

    li {
      &::before {
        content: "";
        background-image: url("/assets/images/codevcn-editor/list-bullet.svg");
        background-position: right;
        position: absolute;
        left: 0;
        top: 0.2em;
        width: 1.3rem;
        height: 1.3rem;
      }
    }
  }

  section {
    white-space: pre-wrap; // giữ nguyên cả dấu xuống dòng và khoảng trắng
  }

  h1,
  h2,
  h3,
  p {
    display: inline-block;
  }

  h1 {
    font-size: 2rem;
    font-weight: 700;
  }
  h2 {
    font-size: 1.5rem;
    font-weight: 700;
  }
  h3 {
    font-size: 1.25rem;
    font-weight: 700;
  }
  p {
    font-size: 1rem;
  }

  blockquote {
    @include editor-content-blockquote-rules;
  }

  img {
    display: inline-block;
  }

  a {
    cursor: pointer;
    color: var(--vcn-text-link-cl);
  }

  table {
    @include editor-content-table-rules;
  }
}

.NAME-codevcn-editor {
  font-size: 1rem;

  .NAME-editor-content {
    &:focus {
      outline: none;
    }

    /* Custom selection màu */
    ::selection {
      background: rgba(59, 130, 246, 0.3); // tailwind blue-500/30
    }

    /* Custom scrollbar */
    &::-webkit-scrollbar {
      width: 8px;
    }
    &::-webkit-scrollbar-thumb {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 4px;
    }

    @include editor-content-tags-rules;
  }
}

.NAME-add-image-container {
  .NAME-add-image-type-buttons {
    &.STATE-upload {
      .NAME-add-image-btn-upload {
        background-color: #ffffff;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      }
    }
    &.STATE-url {
      .NAME-add-image-btn-url {
        background-color: #ffffff;
        box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      }
    }
  }
  .NAME-add-image-content {
    &.STATE-url {
      .NAME-add-image-upload-section {
        display: none;
      }
      .NAME-add-image-url-section {
        display: block;
      }
    }
    &.STATE-upload {
      .NAME-add-image-upload-section {
        display: block;
      }
      .NAME-add-image-url-section {
        display: none;
      }
    }
  }
}

.NAME-copy-box {
  .NAME-copy-copy {
    display: block;
  }
  .NAME-copy-copied {
    display: none;
  }

  &.STATE-copied {
    .NAME-copy-copy {
      display: none;
    }
    .NAME-copy-copied {
      display: block;
    }
  }
}

.cm-editor {
  outline: none;
  overflow: hidden;
  border-top: 1px solid var(--vcn-border-gray-cl);

  &.cm-focused {
    outline: none;
  }
}
